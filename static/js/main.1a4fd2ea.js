/*! For license information please see main.1a4fd2ea.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},8677:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var r=n(6567),a=Math.abs,o=String.fromCharCode,i=Object.assign;function s(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function p(e){return e.length}function f(e){return e.length}function h(e,t){return t.push(e),e}var m=1,v=1,g=0,y=0,b=0,x="";function w(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:m,column:v,length:i,return:""}}function k(e,t){return i(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?l(x,--y):0,v--,10===b&&(v=1,m--),b}function E(){return b=y<g?l(x,y++):0,v++,10===b&&(v=1,m++),b}function C(){return l(x,y)}function T(){return y}function N(e,t){return d(x,e,t)}function _(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=v=1,g=p(x=e),y=0,[]}function O(e){return x="",e}function R(e){return s(N(y-1,D(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(b=C())&&b<33;)E();return _(e)>2||_(b)>3?"":" "}function M(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return N(e,T()+(t<6&&32==C()&&32==E()))}function D(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:E()}return y}function P(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+N(t,y-1)+"*"+o(47===e?e:E())}function F(e){for(;!_(C());)E();return N(e,y)}var L="-ms-",Z="-moz-",j="-webkit-",B="comm",V="rule",z="decl",U="@keyframes";function W(e,t){for(var n="",r=f(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function q(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case B:return"";case U:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return p(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+Z+e+L+e+e;case 6828:case 4268:return j+e+L+e+e;case 6165:return j+e+L+"flex-"+e+e;case 5187:return j+e+u(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return j+e+L+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return j+e+L+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+L+u(e,"shrink","negative")+e;case 5292:return j+e+L+u(e,"basis","preferred-size")+e;case 6060:return j+"box-"+u(e,"-grow","")+j+e+L+u(e,"grow","positive")+e;case 4554:return j+u(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Z+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?G(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,p(e)-3-(~c(e,"!important")&&10))){case 107:return u(e,":",":"+j)+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===l(e,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return j+e+L+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+L+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+L+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+L+e+e}return e}function H(e){return O(Q("",null,null,null,[""],e=I(e),0,[0],e))}function Q(e,t,n,r,a,i,s,l,d){for(var f=0,m=0,v=s,g=0,y=0,b=0,x=1,w=1,k=1,N=0,_="",I=a,O=i,D=r,L=_;w;)switch(b=N,N=E()){case 40:if(108!=b&&58==L.charCodeAt(v-1)){-1!=c(L+=u(R(N),"&","&\f"),"&\f")&&(k=-1);break}case 34:case 39:case 91:L+=R(N);break;case 9:case 10:case 13:case 32:L+=A(b);break;case 92:L+=M(T()-1,7);continue;case 47:switch(C()){case 42:case 47:h(X(P(E(),T()),t,n),d);break;default:L+="/"}break;case 123*x:l[f++]=p(L)*k;case 125*x:case 59:case 0:switch(N){case 0:case 125:w=0;case 59+m:y>0&&p(L)-v&&h(y>32?Y(L+";",r,n,v-1):Y(u(L," ","")+";",r,n,v-2),d);break;case 59:L+=";";default:if(h(D=K(L,t,n,f,m,a,l,_,I=[],O=[],v),i),123===N)if(0===m)Q(L,t,D,D,I,i,v,l,O);else switch(g){case 100:case 109:case 115:Q(e,D,D,r&&h(K(e,D,D,0,0,a,l,_,a,I=[],v),O),a,O,v,l,r?I:O);break;default:Q(L,D,D,D,[""],O,0,l,O)}}f=m=y=0,x=k=1,_=L="",v=s;break;case 58:v=1+p(L),y=b;default:if(x<1)if(123==N)--x;else if(125==N&&0==x++&&125==S())continue;switch(L+=o(N),N*x){case 38:k=m>0?1:(L+="\f",-1);break;case 44:l[f++]=(p(L)-1)*k,k=1;break;case 64:45===C()&&(L+=R(E())),g=C(),m=v=p(_=L+=F(T())),N++;break;case 45:45===b&&2==p(L)&&(x=0)}}return i}function K(e,t,n,r,o,i,c,l,p,h,m){for(var v=o-1,g=0===o?i:[""],y=f(g),b=0,x=0,k=0;b<r;++b)for(var S=0,E=d(e,v+1,v=a(x=c[b])),C=e;S<y;++S)(C=s(x>0?g[S]+" "+E:u(E,/&\f/g,g[S])))&&(p[k++]=C);return w(e,t,n,0===o?V:l,p,h,m)}function X(e,t,n){return w(e,t,n,B,o(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,z,d(e,0,r),d(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,a=0;r=a,a=C(),38===r&&12===a&&(t[n]=1),!_(a);)E();return N(e,y)},J=function(e,t){return O(function(e,t){var n=-1,r=44;do{switch(_(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=$(y-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=E());return e}(I(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var a=[],o=J(t,a),i=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<i.length;c++,u++)e.props[u]=a[s]?o[s].replace(/&\f/g,i[c]):i[c]+" "+o[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=G(e.value,e.length);break;case U:return W([k(e,{value:u(e.value,"@","@"+j)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([k(e,{props:[u(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([k(e,{props:[u(t,/:(plac\w+)/,":-webkit-input-$1")]}),k(e,{props:[u(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[u(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],ae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var a=e.stylisPlugins||re;var o,i,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c,l,d=[q,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],p=function(e){var t=f(e);return function(n,r,a,o){for(var i="",s=0;s<t;s++)i+=e[s](n,r,a,o)||"";return i}}([te,ne].concat(a,d));i=function(e,t,n,r){c=n,W(H(e?e+"{"+t.styles+"}":t.styles),p),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new r.m({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(u),h}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1672:function(e,t,n){"use strict";n.d(t,{T:function(){return s},w:function(){return i}});var r=n(2791),a=n(8677),o=(n(1346),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null));o.Provider;var i=function(e){return(0,r.forwardRef)((function(t,n){var a=(0,r.useContext)(o);return e(t,a,n)}))},s=(0,r.createContext)({})},1346:function(e,t,n){"use strict";n.d(t,{O:function(){return m}});var r=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(3782),i=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,o.Z)((function(e){return u(e)?e:e.replace(i,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===a[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=p(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!==typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":c(i)&&(r+=l(o)+":"+d(o,i)+";");else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var s=p(e,t,i);switch(o){case"animation":case"animationName":r+=l(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<i.length;u++)c(i[u])&&(r+=l(o)+":"+d(o,i[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=f,o=n(e);return f=a,p(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var f,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(a=!1,o+=p(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=p(n,t,e[s]),a&&(o+=i[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(o));)c+="-"+u[1];return{name:r(o)+c,styles:o,next:f}}},6567:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},5438:function(e,t,n){"use strict";n.d(t,{f:function(){return r},M:function(){return a}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var a=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},2509:function(e,t,n){(function(){"use strict";var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var n=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in n))break e;n=n[i]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}o("Symbol",(function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",a=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+a++,r)}})),o("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++){var s=a[n[o]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e}));var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var p={};try{p.__proto__={a:!0},d=p.a;break e}catch(Ct){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var f=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,f)f(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function v(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function x(e,t,n,r){try{var a=t.call(e.g.i,n);if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");if(!a.done)return e.g.l=!1,a;var o=a.value}catch(i){return e.g.i=null,g(e.g,i),w(e)}return e.g.i=null,r.call(e.g,o),w(e)}function w(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function k(e){this.next=function(t){return v(e.g),e.g.i?t=x(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=w(e)),t},this.throw=function(t){return v(e.g),e.g.i?t=x(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=w(e)),t},this.return=function(t){return function(e,t){v(e.g);var n=e.g.i;return n?x(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),w(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function S(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,a){!function e(o){o.done?r(o.value):Promise.resolve(o.value).then(t,n).then(e,a)}(e.next())}))}(new k(new b(e)))}m.prototype.o=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.s},o("Promise",(function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i((function(){t.l()}))}this.g.push(e)};var o=a.setTimeout;n.prototype.i=function(e){o(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i((function(){throw e}))},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;o((function(){if(e.B()){var t=a.console;"undefined"!==typeof t&&t.error(e.i)}}),1)},t.prototype.B=function(){if(this.o)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)i.h(this.g[e]);this.g=null}};var i=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{a(e(t))}catch(n){o(n)}}:t}var a,o,i=new t((function(e,t){a=e,o=t}));return this.J(r(e,a),r(n,o)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?i.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var a=s(e),o=a.next();!o.done;o=a.next())r(o.value).J(t,n)}))},t.all=function(e){var n=s(e),a=n.next();return a.done?r([]):new t((function(e,t){function o(t){return function(n){i[t]=n,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,r(a.value).J(o(i.length-1),t),a=n.next()}while(!a.done)}))},t}));var E="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};o("Object.assign",(function(e){return e||E})),o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var a=n[t];if(a===e||Object.is(a,e))return!0}return!1}})),o("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),o("Array.prototype.keys",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e){return e}))}}));var C=this||self;function T(e,t){e=e.split(".");var n,r=C;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function N(e){!function(e){C.setTimeout((function(){throw e}),0)}(e)}function _(e,t){N(Error("Invalid wire type: "+e+" (at position "+t+")"))}function I(){N(Error("Failed to read varint, encoding is invalid."))}function O(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var R,A,M="undefined"!==typeof TextDecoder,D="undefined"!==typeof TextEncoder;function P(e){if(D)e=(A||(A=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),a=0;a<e.length;a++){var o=e.charCodeAt(a);if(128>o)r[n++]=o;else{if(2048>o)r[n++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&a<e.length){var i=e.charCodeAt(++a);if(56320<=i&&57343>=i){o=1024*(o-55296)+i-56320+65536,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128;continue}a--}if(t)throw Error("Found an unpaired surrogate");o=65533}r[n++]=o>>12|224,r[n++]=o>>6&63|128}r[n++]=63&o|128}}e=r.subarray(0,n)}return e}var F={},L=null;function Z(e){var t;void 0===t&&(t=0),B(),t=F[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",a=0,o=0;a<e.length-2;a+=3){var i=e[a],s=e[a+1],u=e[a+2],c=t[i>>2];i=t[(3&i)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[o++]=c+i+s+u}switch(c=0,u=r,e.length-a){case 2:u=t[(15&(c=e[a+1]))<<2]||r;case 1:e=e[a],n[o]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function j(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),a=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),a=L[n];if(null!=a)return a;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}B();for(var r=0;;){var a=n(-1),o=n(0),i=n(64),s=n(64);if(64===s&&-1===a)break;t(a<<2|o>>4),64!=i&&(t(o<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}(e,(function(e){r[a++]=e})),r.subarray(0,a)}function B(){if(!L){L={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));F[n]=r;for(var a=0;a<r.length;a++){var o=r[a];void 0===L[o]&&(L[o]=a)}}}}var V,z="function"===typeof Uint8Array;function U(e){if(this.g=e,null!==e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}U.prototype.toJSON=function(){if(null==this.g)var e="";else e=this.g,e=this.g=null==e||"string"===typeof e?e:z&&e instanceof Uint8Array?Z(e):null;return e};var W="function"===typeof Uint8Array.prototype.slice;function q(e,t,n){return t===n?V||(V=new Uint8Array(0)):W?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var G=0;function H(e,t){t=void 0!==(t=void 0===t?{}:t).u&&t.u,this.h=null,this.g=this.i=this.l=0,this.j=!1,this.u=t,e&&Q(this,e)}function Q(e,t){e.h=function(e){if(e.constructor===Uint8Array)return e;if(e.constructor===ArrayBuffer)return new Uint8Array(e);if(e.constructor===Array)return new Uint8Array(e);if(e.constructor===String)return j(e);if(e.constructor===U){if(null==e.g)var t=V||(V=new Uint8Array(0));else{t=Uint8Array;var n=e.g;n=null==n||z&&null!=n&&n instanceof Uint8Array?n:"string"===typeof n?j(n):null,t=new t(e=e.g=n)}return t}if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(t),e.l=0,e.i=e.h.length,e.g=e.l}function K(e){e.g>e.i&&(e.j=!0,N(Error("Tried to read past the end of the data "+e.g+" > "+e.i)))}function X(e){var t=e.h,n=t[e.g],r=127&n;return 128>n?(e.g+=1,K(e),r):(r|=(127&(n=t[e.g+1]))<<7,128>n?(e.g+=2,K(e),r):(r|=(127&(n=t[e.g+2]))<<14,128>n?(e.g+=3,K(e),r):(r|=(127&(n=t[e.g+3]))<<21,128>n?(e.g+=4,K(e),r):(r|=(15&(n=t[e.g+4]))<<28,128>n?(e.g+=5,K(e),r>>>0):(e.g+=5,128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]&&128<=t[e.g++]?(e.j=!0,I(),r):(K(e),r))))))}H.prototype.reset=function(){this.g=this.l};var Y=[];function $(){this.g=new Uint8Array(64),this.h=0}function J(e,t){if(!(e.h+1<e.g.length)){var n=e.g;e.g=new Uint8Array(Math.ceil(1+2*e.g.length)),e.g.set(n)}e.g[e.h++]=t}function ee(e,t){for(;127<t;)J(e,127&t|128),t>>>=7;J(e,t)}function te(e){var t={},n=void 0!==t.N&&t.N;this.m={u:void 0!==t.u&&t.u},this.N=n,t=this.m,Y.length?(n=Y.pop(),t&&(n.u=t.u),e&&Q(n,e),e=n):e=new H(e,t),this.g=e,this.l=this.g.g,this.h=this.i=-1,this.j=!1}function ne(e){var t=e.g;if((t=t.g==t.i)||(t=e.j)||(t=(t=e.g).j||0>t.g||t.g>t.i),t)return!1;e.l=e.g.g;var n=X(e.g);return t=n>>>3,0<=(n&=7)&&5>=n?(e.i=t,e.h=n,!0):(e.j=!0,_(n,e.l),!1)}function re(e){switch(e.h){case 0:if(0!=e.h)re(e);else e:{for(var t=(e=e.g).g,n=0;10>n;n++){if(0===(128&e.h[t])){e.g=t+1,K(e);break e}t++}e.j=!0,I()}break;case 1:(e=e.g).g+=8,K(e);break;case 2:2!=e.h?re(e):(t=X(e.g),(e=e.g).g+=t,K(e));break;case 5:(e=e.g).g+=4,K(e);break;case 3:for(t=e.i;;){if(!ne(e)){e.j=!0,N(Error("Unmatched start-group tag: stream EOF"));break}if(4==e.h){e.i!=t&&(e.j=!0,N(Error("Unmatched end-group tag")));break}re(e)}break;default:e.j=!0,_(e.h,e.l)}}function ae(e,t,n){e.N||(e=q(e.g.h,n,e.g.g),(n=t.m)?n.push(e):t.m=[e])}$.prototype.length=function(){return this.h},$.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,q(e,0,t)},te.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};var oe=[];function ie(){this.h=[],this.i=0,this.g=new $}function se(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function ue(e,t,n){ee(e.g,8*t+2),ee(e.g,n.length),se(e,e.g.end()),se(e,n)}var ce,le="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function de(e,t){Object.isFrozen(e)||(le?e[le]|=t:void 0!==e.g?e.g|=t:Object.defineProperties(e,{g:{value:t,configurable:!0,writable:!0,enumerable:!1}}))}function pe(e){return e?null==(t=le?e[le]:e.g)?0:t:0;var t}function fe(e){return Array.isArray(e)?(de(e,1),e):e}function he(e){if(!Array.isArray(e))throw Error("cannot mark non-array as immutable");de(e,2)}function me(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function ve(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":return z&&null!=e&&e instanceof Uint8Array?Z(e):e;default:return e}}function ge(e,t){if(null!=e)return Array.isArray(e)||me(e)?ye(e,t):t(e)}function ye(e,t){if(Array.isArray(e)){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=ge(e[r],t);return 1&pe(e)&&fe(n),n}for(r in n={},e)n[r]=ge(e[r],t);return n}function be(e,t,n){var r=ce;if(ce=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=(r?0:-1)-(this.constructor.aa||0),this.i=null,this.g=e,e=(r=this.g.length)-1,r&&me(r=this.g[e])?(this.l=e-this.j,this.h=r):void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.h=null):this.l=Number.MAX_VALUE,n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.g[e])?fe(r):this.g[e]=ke):(Se(this),(r=this.h[e])?fe(r):this.h[e]=ke)}var xe,we,ke=Object.freeze(fe([]));function Se(e){var t=e.l+e.j;e.g[t]||(e.h=e.g[t]={})}function Ee(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.h?e.h[t]:void 0:e.g[t+e.j]}function Ce(e,t,n){n=void 0===n||n;var r=void 0!==r&&r,a=Ee(e,t,r);return null==a&&(a=ke),a===ke?Ne(e,t,a=fe([]),r):n&&Array.isArray(a)&&2&pe(a)&&Ne(e,t,a=a.slice(),r),a}function Te(e,t,n){return null==(e=null==(e=Ee(e,t))?e:+e)?void 0===n?0:n:e}function Ne(e,t,n,r){void 0!==r&&r||t>=e.l?(Se(e),e.h[t]=n):e.g[t+e.j]=n}function _e(e,t,n){e.i||(e.i={});var r=e.i[n];if(!r){var a=Ce(e,n,!1);r=[];for(var o=!!Array.isArray(a)&&!!(2&pe(a)),i=0;i<a.length;i++)r[i]=new t(a[i]),o&&he(r[i].g);o&&(he(r),Object.freeze(r)),e.i[n]=r}return r}function Ie(e,t,n,r,a){var o=_e(e,r,t);n=n||new r,e=Ce(e,t),void 0!=a?(o.splice(a,0,n),e.splice(a,0,Oe(n))):(o.push(n),e.push(Oe(n)))}function Oe(e){if(e.i)for(var t in e.i){var n=e.i[t];if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&Oe(n[r]);else n&&Oe(n)}return e.g}function Re(e,t){return null==(e=Ee(e,t))?0:e}function Ae(e,t){return null==(e=Ee(e,t))?"":e}function Me(e,t){if(e=e.m){se(t,t.g.end());for(var n=0;n<e.length;n++)se(t,e[n])}}function De(e){var t=e[0];switch(e.length){case 2:var n=e[1];return function(e,r,a){return t(e,r,a,n)};case 3:var r=e[1],a=e[2];return function(e,n,o){return t(e,n,o,r,a)};case 4:var o=e[1],i=e[2],s=e[3];return function(e,n,r){return t(e,n,r,o,i,s)};default:throw Error("unsupported number of parameters, expected [2-4], got "+e.length)}}function Pe(e,t,n){for(;ne(t)&&4!=t.h;){var r=t.i,a=n[r];if(a){if(Array.isArray(a)&&(a=n[r]=De(a)),!a(t,e,r)){a=e;var o=(r=t).l;re(r),ae(r,a,o)}}else a=e,o=(r=t).l,re(r),ae(r,a,o)}return e}function Fe(e,t){var n=new ie;if(t(e,n),0===(e=n.i+n.g.length()))n=new Uint8Array(0);else{e=new Uint8Array(e);for(var r=n.h,a=r.length,o=t=0;o<a;o++){var i=r[o];0!==i.length&&(e.set(i,t),t+=i.length)}0!==(a=(r=n.g).h)&&(e.set(r.g.subarray(0,a),t),r.h=0),n.h=[e],n=e}return n}function Le(e,t,n){if(oe.length){var r=oe.pop();e&&(Q(r.g,e),r.i=-1,r.h=-1),e=r}else e=new te(e);try{return n(new t,e)}finally{(t=e.g).h=null,t.l=0,t.i=0,t.g=0,t.j=!1,t.u=!1,e.i=-1,e.h=-1,e.j=!1,100>oe.length&&oe.push(e)}}function Ze(e,t,n){if(null!=(t=Ee(t,n))){ee(e.g,8*n+5),e=e.g;var r=t;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?G=0:(0,G=2147483648):isNaN(r)?(0,G=2147483647):34028234663852886e22<r?(0,G=(n<<31|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),0,G=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,0,G=(n<<31|t+127<<23|8388607&r)>>>0),J(e,(n=G)>>>0&255),J(e,n>>>8&255),J(e,n>>>16&255),J(e,n>>>24&255)}}function je(e,t,n){if(5!==e.h)return!1;var r=(e=e.g).h[e.g],a=e.h[e.g+1],o=e.h[e.g+2],i=e.h[e.g+3];return e.g+=4,K(e),e=2*((a=(r<<0|a<<8|o<<16|i<<24)>>>0)>>31)+1,r=a>>>23&255,a&=8388607,Ne(t,n,255==r?a?NaN:1/0*e:0==r?e*Math.pow(2,-149)*a:e*Math.pow(2,r-150)*(a+Math.pow(2,23))),!0}function Be(e,t,n){if(0!==e.h)return!1;for(var r=e.g,a=128,o=0,i=e=0;4>i&&128<=a;i++)o|=(127&(a=r.h[r.g++]))<<7*i;if(128<=a&&(o|=(127&(a=r.h[r.g++]))<<28,e|=(127&a)>>4),128<=a)for(i=0;5>i&&128<=a;i++)e|=(127&(a=r.h[r.g++]))<<7*i+3;return 128>a?(r=o>>>0,(e=2147483648&(a=e>>>0))&&(a=~a>>>0,0==(r=1+~r>>>0)&&(a=a+1>>>0)),r=4294967296*a+(r>>>0),e=e?-r:r):(r.j=!0,I(),e=void 0),Ne(t,n,e),!0}function Ve(e,t,n){return 0===e.h&&(Ne(t,n,X(e.g)),!0)}function ze(e,t,n){if(2!==e.h)return!1;var r,a=X(e.g),o=(e=e.g).g;if(e.g+=a,K(e),e=e.h,M)(r=R)||(r=R=new TextDecoder("utf-8",{fatal:!1})),r=r.decode(e.subarray(o,o+a));else{a=o+a;for(var i,s,u,c=[],l=null;o<a;)128>(i=e[o++])?c.push(i):224>i?o>=a?c.push(65533):(s=e[o++],194>i||128!==(192&s)?(o--,c.push(65533)):c.push((31&i)<<6|63&s)):240>i?o>=a-1?c.push(65533):128!==(192&(s=e[o++]))||224===i&&160>s||237===i&&160<=s||128!==(192&(r=e[o++]))?(o--,c.push(65533)):c.push((15&i)<<12|(63&s)<<6|63&r):244>=i?o>=a-2?c.push(65533):128!==(192&(s=e[o++]))||0!==s-144+(i<<28)>>30||128!==(192&(r=e[o++]))||128!==(192&(u=e[o++]))?(o--,c.push(65533)):(i=(7&i)<<18|(63&s)<<12|(63&r)<<6|63&u,i-=65536,c.push(55296+(i>>10&1023),56320+(1023&i))):c.push(65533),8192<=c.length&&(l=O(l,c),c.length=0);r=O(l,c)}return Ne(t,n,r),!0}function Ue(e,t,n,r,a){if(2!==e.h)return!1;var o=new r,i=e.g.i,s=X(e.g),u=e.g.g+s;if(e.g.i=u,a(o,e),0!==(a=u-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+s+" bytes, instead read "+(s-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=u,e.g.i=i,Ie(t,n,o,r,void 0),!0}function We(e){be.call(this,e)}function qe(e,t){var n=Ee(e,1);if(null!=n&&null!=n){ee(t.g,8);var r=t.g;if(0<=n)ee(r,n);else{for(var a=0;9>a;a++)J(r,127&n|128),n>>=7;J(r,1)}}Ze(t,e,2),null!=(r=Ee(e,3))&&ue(t,3,P(r)),null!=(r=Ee(e,4))&&ue(t,4,P(r)),Me(e,t)}function Ge(e,t){return Pe(e,t,xe||(xe={1:Ve,2:je,3:ze,4:ze}))}function He(e){be.call(this,e,-1,Ye)}function Qe(e,t){return Pe(e,t,we||(we={1:[Ue,We,Ge]}))}be.prototype.toJSON=function(){return ye(Oe(this),ve)},be.prototype.toString=function(){return Oe(this).toString()},h(We,be),h(He,be),He.prototype.addClassification=function(e,t){return Ie(this,1,e,We,t),this};var Ke,Xe,Ye=[1];function $e(e){be.call(this,e)}function Je(e,t){Ze(t,e,1),Ze(t,e,2),Ze(t,e,3),Ze(t,e,4),Ze(t,e,5),Me(e,t)}function et(e,t){return Pe(e,t,Ke||(Ke={1:je,2:je,3:je,4:je,5:je}))}function tt(e){be.call(this,e,-1,at)}function nt(e,t){return Pe(e,t,Xe||(Xe={1:[Ue,$e,et]}))}h($e,be),h(tt,be);var rt,at=[1];function ot(e){be.call(this,e)}function it(e,t){Ze(t,e,1),Ze(t,e,2),Ze(t,e,3),Ze(t,e,4),Ze(t,e,5);var n=Ee(e,6);if(null!=n&&null!=n){ee(t.g,48);var r=t.g,a=n;n=0>a;var o=(a=Math.abs(a))>>>0;for(a=Math.floor((a-o)/4294967296),a>>>=0,n&&(a=~a>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++a&&(a=0))),n=G=o,o=a;0<o||127<n;)J(r,127&n|128),n=(n>>>7|o<<25)>>>0,o>>>=7;J(r,n)}Me(e,t)}function st(e,t){return Pe(e,t,rt||(rt={1:je,2:je,3:je,4:je,5:je,6:Be}))}function ut(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function ct(e){return _e(e,We,1).map((function(e){return{index:Re(e,1),X:Te(e,2),label:null!=Ee(e,3)?Ae(e,3):void 0,displayName:null!=Ee(e,4)?Ae(e,4):void 0}}))}function lt(e){return{x:Te(e,1),y:Te(e,2),z:Te(e,3),visibility:null!=Ee(e,4)?Te(e,4):void 0}}function dt(e){return _e(Le(e,tt,nt),$e,1).map(lt)}function pt(e,t){this.h=e,this.g=t,this.l=0}function ft(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var r=ut(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),a=ut(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=n.createProgram();if(n.attachShader(o,r),n.attachShader(o,a),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(o));r=e.m=o,n.useProgram(r),a=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:a},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(a,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise((function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)})))}function ht(e){this.g=e}h(ot,be);var mt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function vt(e,t){return t+e}function gt(e,t){window[e]=t}function yt(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||vt,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function bt(e){var t,n,r,a,o,i,s,c,l,d,p;return S((function(f){switch(f.g){case 1:return e.R?(t=void 0===e.g.files?[]:"function"===typeof e.g.files?e.g.files(e.j):e.g.files,y(f,S((function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(mt),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})),2)):f.return();case 2:if(n=f.h,"object"===typeof window)return gt("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),gt("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter((function(e){return void 0!==e.data})),s=t.filter((function(e){return void 0===e.data})),c=Promise.all(i.map((function(t){var n=xt(e,t.url);if(void 0!==t.path){var r=t.path;n=n.then((function(t){return e.overrideFile(r,t),Promise.resolve(t)}))}return n}))),l=Promise.all(s.map((function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise((function(e){t.addEventListener("load",(function(){e()}),!1),t.addEventListener("error",(function(){e()}),!1),document.body.appendChild(t)}))}(e.locateFile(t.url,e.S)):Promise.resolve()}))).then((function(){var t,n,r;return S((function(a){if(1==a.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,r=e,y(a,t(n),2);r.h=a.h,a.g=0}))})),d=S((function(t){return e.g.graph&&e.g.graph.url?t=y(t,xt(e,e.g.graph.url),0):(t.g=0,t=void 0),t})),y(f,Promise.all([l,c,d]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=t.filter((function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n})).map((function(t){return e.locateFile(t.url,e.S)})),importScripts.apply(null,u(r)),a=e,y(f,createMediapipeSolutionsWasm(Module),6);case 6:a.h=f.h,e.l=new OffscreenCanvas(1,1),e.h.canvas=e.l,o=e.h.GL.createContext(e.l,{antialias:!1,alpha:!1,ba:"undefined"!==typeof WebGL2RenderingContext?2:1}),e.h.GL.makeContextCurrent(o),f.g=4;break;case 7:if(e.l=document.createElement("canvas"),!(p=e.l.getContext("webgl2",{}))&&!(p=e.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),f.return();e.D=p,e.h.canvas=e.l,e.h.createContext(e.l,!0,!0,{});case 4:e.i=new e.h.SolutionWasm,e.R=!1,f.g=0}}))}function xt(e,t){var n,r;return S((function(a){return t in e.F?a.return(e.F[t]):(n=e.locateFile(t,""),r=fetch(n).then((function(e){return e.arrayBuffer()})),e.F[t]=r,a.return(r))}))}function wt(e,t,n){var r,a,o,i,u,c,l,d,p,f,h,m,v,g;return S((function(b){switch(b.g){case 1:if(!n)return b.return(t);for(r={},a=0,o=s(Object.keys(n)),i=o.next();!i.done;i=o.next())u=i.value,"string"!==typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++a;1<a&&(e.G=!1),l=s(Object.keys(n)),i=l.next();case 2:if(i.done){b.g=4;break}if(d=i.value,"string"===typeof(p=n[d]))return v=r,g=d,y(b,function(e,t,n){var r;return S((function(a){return"number"===typeof n||n instanceof Uint8Array||n instanceof e.h.Uint8BlobList?a.return(n):n instanceof e.h.Texture2dDataOut?((r=e.s[t])||(r=new pt(e.h,e.D),e.s[t]=r),a.return(ft(r,n,e.G))):a.return(void 0)}))}(e,d,t[p]),14);if(f=t[p.stream],"detection_list"===p.type){if(f){for(var x=f.getRectList(),w=f.getLandmarksList(),k=f.getClassificationsList(),E=[],C=0;C<x.size();++C){var T=Le(x.get(C),ot,st);T={T:{Y:Te(T,1),Z:Te(T,2),height:Te(T,3),width:Te(T,4),rotation:Te(T,5,0),W:Re(T,6)},O:dt(w.get(C)),M:ct(Le(k.get(C),He,Qe))},E.push(T)}x=E}else x=[];r[d]=x,b.g=7;break}if("proto_list"===p.type){if(f){for(x=Array(f.size()),w=0;w<f.size();w++)x[w]=f.get(w);f.delete()}else x=[];r[d]=x,b.g=7;break}if(void 0===f){b.g=3;break}if("float_list"===p.type){r[d]=f,b.g=7;break}if("proto"===p.type){r[d]=f,b.g=7;break}if("texture"!==p.type)throw Error("Unknown output config type: '"+p.type+"'");return(h=e.s[d])||(h=new pt(e.h,e.D),e.s[d]=h),y(b,ft(h,f,e.G),13);case 13:m=b.h,r[d]=m;case 7:p.transform&&r[d]&&(r[d]=p.transform(r[d])),b.g=3;break;case 14:v[g]=b.h;case 3:i=l.next(),b.g=2;break;case 4:return b.return(r)}}))}function kt(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),a=new e.h.StringList,o=s(t.wants),i=o.next();!i.done;i=o.next())a.push_back(i.value);o=e.h.PacketListener.implement({onResults:function(a){for(var o={},i=0;i<t.wants.length;++i)o[r[i]]=a.get(i);var s=e.listeners[n];s&&(e.C=wt(e,o,t.outs).then((function(n){n=s(n);for(var a=0;a<t.wants.length;++a){var i=o[r[a]];"object"===typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}n&&(e.C=n)})))}}),e.i.attachMultiListener(a,o),a.delete()}function St(e){switch(void 0===e&&(e=0),e){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Et(e){var t=this;e=e||{},this.g=new yt({locateFile:e.locateFile,files:function(e){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:St(e.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:dt},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:dt},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var n,r,a;return S((function(o){return 1==o.g?(n=St(e),r="third_party/mediapipe/modules/pose_landmark/"+n,y(o,xt(t.g,n),2)):(a=o.h,t.g.overrideFile(r,a),o.return(!0))}))}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}(e=yt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var e=this;return S((function(t){e.i&&(e.i.reset(),e.m={},e.s={}),t.g=0}))},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],a=[],o={},i=s(Object.keys(e)),u=i.next();!u.done;o={K:o.K,L:o.L},u=i.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(o.K=u.onChange,o.L=e[c],r.push(function(e){return function(){return S((function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0}))}}(o))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),a.push(u))))}0===r.length&&0===a.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(a),this.v=(void 0===this.v?[]:this.v).concat(r))}},e.initialize=function(){var e=this;return S((function(t){return 1==t.g?y(t,bt(e),2):3!=t.g?y(t,function(e){var t,n,r,a,o,i,u,c;return S((function(l){if(1==l.g)return e.g.graph&&e.g.graph.url&&e.P===e.g.graph.url?l.return():(e.o=!0,e.g.graph&&e.g.graph.url?(e.P=e.g.graph.url,y(l,xt(e,e.g.graph.url),3)):void(l.g=2));for(2!=l.g&&(t=l.h,e.i.loadGraph(t)),n=s(Object.keys(e.B)),r=n.next();!r.done;r=n.next())a=r.value,e.i.overrideFile(a,e.B[a]);if(e.B={},e.g.listeners)for(o=s(e.g.listeners),i=o.next();!i.done;i=o.next())u=i.value,kt(e,u);c=e.j,e.j={},e.setOptions(c),l.g=0}))}(e),3):y(t,function(e){var t,n,r,a,o,i;return S((function(u){switch(u.g){case 1:if(!e.o)return u.return();if(!e.v){u.g=2;break}t=s(e.v),n=t.next();case 3:if(n.done){u.g=5;break}return y(u,(0,n.value)(),4);case 4:n=t.next(),u.g=3;break;case 5:e.v=void 0;case 2:if(e.A){for(r=new e.h.GraphOptionChangeRequestList,a=s(e.A),o=a.next();!o.done;o=a.next())i=o.value,r.push_back(i);e.i.changeOptions(r),r.delete(),e.A=void 0}e.o=!1,u.g=0}}))}(e),0)}))},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){var n,r,a,o,i,u,c,l,d,p=this;return S((function(f){switch(f.g){case 1:return p.g.inputs?(n=1e3*(void 0===t||null===t?performance.now():t),y(f,p.C,2)):f.return();case 2:return y(f,p.initialize(),3);case 3:for(r=new p.h.PacketDataList,a=s(Object.keys(e)),o=a.next();!o.done;o=a.next())if(i=o.value,u=p.g.inputs[i]){e:{var h=e[i];switch(u.type){case"video":var m=p.m[u.stream];if(m||(m=new pt(p.h,p.D),p.m[u.stream]=m),0===m.l&&(m.l=m.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&h instanceof HTMLVideoElement)var v=h.videoWidth,g=h.videoHeight;else"undefined"!==typeof HTMLImageElement&&h instanceof HTMLImageElement?(v=h.naturalWidth,g=h.naturalHeight):(v=h.width,g=h.height);g={glName:m.l,width:v,height:g},(v=m.g).canvas.width=g.width,v.canvas.height=g.height,v.activeTexture(v.TEXTURE0),m.h.bindTexture2d(m.l),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,h),m.h.bindTexture2d(0),m=g;break e;case"detections":for((m=p.m[u.stream])||(m=new ht(p.h),p.m[u.stream]=m),m.data||(m.data=new m.g.DetectionListData),m.data.reset(h.length),g=0;g<h.length;++g){v=h[g];var b=m.data,x=b.setBoundingBox,w=g,k=v.T,S=new ot;if(Ne(S,1,k.Y),Ne(S,2,k.Z),Ne(S,3,k.height),Ne(S,4,k.width),Ne(S,5,k.rotation),Ne(S,6,k.W),k=Fe(S,it),x.call(b,w,k),v.O)for(b=0;b<v.O.length;++b){var E=!!(S=v.O[b]).visibility;w=(x=m.data).addNormalizedLandmark,k=g,S=Object.assign(Object.assign({},S),{visibility:E?S.visibility:0}),Ne(E=new $e,1,S.x),Ne(E,2,S.y),Ne(E,3,S.z),S.visibility&&Ne(E,4,S.visibility),S=Fe(E,Je),w.call(x,k,S)}if(v.M)for(b=0;b<v.M.length;++b)w=(x=m.data).addClassification,k=g,S=v.M[b],Ne(E=new We,2,S.X),S.index&&Ne(E,1,S.index),S.label&&Ne(E,3,S.label),S.displayName&&Ne(E,4,S.displayName),S=Fe(E,qe),w.call(x,k,S)}m=m.data;break e;default:m={}}}switch(c=m,l=u.stream,u.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},c),{stream:l,timestamp:n}));break;case"detections":(d=c).stream=l,d.timestamp=n,r.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+u.type+"'")}}return p.i.send(r),y(f,p.C,4);case 4:r.delete(),f.g=0}}))},e.onResults=function(e,t){this.listeners[t||"$"]=e},T("Solution",yt),T("OptionType",{BOOL:0,NUMBER:1,$:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=Et.prototype).reset=function(){this.g.reset()},e.close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){var e=this;return S((function(t){return y(t,e.g.initialize(),0)}))},e.send=function(e,t){var n=this;return S((function(r){return y(r,n.g.send(e,t),0)}))},e.setOptions=function(e){this.g.setOptions(e)},T("Pose",Et),T("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),T("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),T("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),T("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),T("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),T("VERSION","0.5.1635988162")}).call(this)},767:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(a){r[a]=e[a].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},7125:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},5159:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7125),a={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return a[t]||"".concat(r.Z.generate(e),"-").concat(t)}},208:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5159);function a(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},5545:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");t.Z=i},5205:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircleRounded");t.Z=i},1009:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=i},403:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.Z=i},5286:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M10.3 7.7c-.39.39-.39 1.01 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9c-.39.39-.39 1.01 0 1.4.39.39 1.01.39 1.4 0l3.59-3.59c.39-.39.39-1.02 0-1.41L11.7 7.7a.9839.9839 0 0 0-1.4 0zM20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v14z"}),"LoginRounded");t.Z=i},8008:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=i},2780:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M11 6H9V4h2v2zm4-2h-2v2h2V4zM9 14h2v-2H9v2zm10-4V8h-2v2h2zm0 4v-2h-2v2h2zm-6 0h2v-2h-2v2zm6-10h-2v2h2V4zm-6 4V6h-2v2h2zm-6 2V8h2V6H7V4H5v16h2v-8h2v-2H7zm8 2h2v-2h-2v2zm-4-2v2h2v-2h-2zM9 8v2h2V8H9zm4 2h2V8h-2v2zm2-4v2h2V6h-2z"}),"SportsScore");t.Z=i},3746:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=i},165:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var a=r(n(5649)),o=n(184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=i},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},6532:function(e,t){"use strict";var n=60103,r=60106,a=60107,o=60108,i=60114,s=60109,u=60110,c=60112,l=60113,d=60120,p=60115,f=60116,h=60121,m=60122,v=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),a=b("react.fragment"),o=b("react.strict_mode"),i=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),d=b("react.suspense_list"),p=b("react.memo"),f=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),v=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case l:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case f:case p:case s:return e;default:return t}}case r:return t}}}},8457:function(e,t,n){"use strict";n(6532)},1979:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(7462),a=n(3366),o=n(2466),i=n(5080),s=n(4942);function u(e,t,n){var a;return(0,r.Z)({toolbar:(a={minHeight:56},(0,s.Z)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.Z)(a,e.up("sm"),{minHeight:64}),a)},n)}var c=n(6189),l=n(2065),d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){var a=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,a):"dark"===t&&(e.dark=(0,l._j)(e.main,o)))}function S(e){var t=e.mode,n=void 0===t?"light":t,i=e.contrastThreshold,s=void 0===i?3:i,u=e.tonalOffset,S=void 0===u?.2:u,E=(0,a.Z)(e,b),C=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(n),T=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(n),N=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[500],light:h[300],dark:h[700]}:{main:h[700],light:h[400],dark:h[800]}}(n),_=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),I=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),O=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(n);function R(e){return(0,l.mi)(e,w.text.primary)>=s?w.text.primary:x.text.primary}var A=function(e){var t=e.color,n=e.name,a=e.mainShade,o=void 0===a?500:a,i=e.lightShade,s=void 0===i?300:i,u=e.darkShade,l=void 0===u?700:u;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,c.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,c.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return k(t,"light",s,S),k(t,"dark",l,S),t.contrastText||(t.contrastText=R(t.main)),t},M={dark:w,light:x};return(0,o.Z)((0,r.Z)({common:d,mode:n,primary:A({color:C,name:"primary"}),secondary:A({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:N,name:"error"}),warning:A({color:O,name:"warning"}),info:A({color:_,name:"info"}),success:A({color:I,name:"success"}),grey:p,contrastThreshold:s,getContrastText:R,augmentColor:A,tonalOffset:S},M[n]),E)}var E=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var C={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function N(e,t){var n="function"===typeof t?t(e):t,i=n.fontFamily,s=void 0===i?T:i,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,d=void 0===l?300:l,p=n.fontWeightRegular,f=void 0===p?400:p,h=n.fontWeightMedium,m=void 0===h?500:h,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,w=n.pxToRem,k=(0,a.Z)(n,E);var S=c/14,N=w||function(e){return"".concat(e/b*S,"rem")},_=function(e,t,n,a,o){return(0,r.Z)({fontFamily:s,fontWeight:e,fontSize:N(t),lineHeight:n},s===T?{letterSpacing:"".concat((i=a/t,Math.round(1e5*i)/1e5),"em")}:{},o,x);var i},I={h1:_(d,96,1.167,-1.5),h2:_(d,60,1.2,-.5),h3:_(f,48,1.167,0),h4:_(f,34,1.235,.25),h5:_(f,24,1.334,0),h6:_(m,20,1.6,.15),subtitle1:_(f,16,1.75,.15),subtitle2:_(m,14,1.57,.1),body1:_(f,16,1.5,.15),body2:_(f,14,1.43,.15),button:_(m,14,1.75,.4,C),caption:_(f,12,1.66,.4),overline:_(f,12,2.66,1,C)};return(0,o.Z)((0,r.Z)({htmlFontSize:b,pxToRem:N,fontFamily:s,fontSize:c,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:g},I),k,{clone:!1})}function _(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var I=["none",_(0,2,1,-1,0,1,1,0,0,1,3,0),_(0,3,1,-2,0,2,2,0,0,1,5,0),_(0,3,3,-2,0,3,4,0,0,1,8,0),_(0,2,4,-1,0,4,5,0,0,1,10,0),_(0,3,5,-1,0,5,8,0,0,1,14,0),_(0,3,5,-1,0,6,10,0,0,1,18,0),_(0,4,5,-2,0,7,10,1,0,2,16,1),_(0,5,5,-3,0,8,10,1,0,3,14,2),_(0,5,6,-3,0,9,12,1,0,3,16,2),_(0,6,6,-3,0,10,14,1,0,4,18,3),_(0,6,7,-4,0,11,15,1,0,4,20,3),_(0,7,8,-4,0,12,17,2,0,5,22,4),_(0,7,8,-4,0,13,19,2,0,5,24,4),_(0,7,9,-4,0,14,21,2,0,5,26,4),_(0,8,9,-5,0,15,22,2,0,6,28,5),_(0,8,10,-5,0,16,24,2,0,6,30,5),_(0,8,11,-5,0,17,26,2,0,6,32,5),_(0,9,11,-5,0,18,28,2,0,7,34,6),_(0,9,12,-6,0,19,29,2,0,7,36,6),_(0,10,13,-6,0,20,31,3,0,8,38,7),_(0,10,13,-6,0,21,33,3,0,8,40,7),_(0,10,14,-6,0,22,35,3,0,8,42,7),_(0,11,14,-7,0,23,36,3,0,9,44,8),_(0,11,15,-7,0,24,38,3,0,9,46,8)],O=n(1314),R={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},A=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,c=void 0===s?{}:s,l=e.transitions,d=void 0===l?{}:l,p=e.typography,f=void 0===p?{}:p,h=(0,a.Z)(e,A),m=S(c),v=(0,i.Z)(e),g=(0,o.Z)(v,{mixins:u(v.breakpoints,v.spacing,n),palette:m,shadows:I.slice(),typography:N(m,f),transitions:(0,O.ZP)(d),zIndex:(0,r.Z)({},R)});g=(0,o.Z)(g,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),x=1;x<y;x++)b[x-1]=arguments[x];return g=b.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var D=M},1314:function(e,t,n){"use strict";n.d(t,{Ui:function(){return i},x9:function(){return s},ZP:function(){return l}});var r=n(3366),a=n(7462),o=["duration","easing","delay"],i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function l(e){var t=(0,a.Z)({},i,e.easing),n=(0,a.Z)({},s,e.duration);return(0,a.Z)({getAutoHeightDuration:c,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.duration,s=void 0===i?n.standard:i,c=a.easing,l=void 0===c?t.easeInOut:c,d=a.delay,p=void 0===d?0:d;(0,r.Z)(a,o);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:u(s)," ").concat(l," ").concat("string"===typeof p?p:u(p))})).join(",")}},e,{easing:t,duration:n})}},6482:function(e,t,n){"use strict";var r=(0,n(1979).Z)();t.Z=r},7630:function(e,t,n){"use strict";n.d(t,{ZP:function(){return T},FO:function(){return S},Dz:function(){return E}});var r=n(3433),a=n(7462),o=n(3366),i=n(594),s=n(5080),u=n(104),c=n(7312),l=["variant"];function d(e){return 0===e.length}function p(e){var t=e.variant,n=(0,o.Z)(e,l),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?d(r)?e[t]:(0,c.Z)(e[t]):"".concat(d(r)?t:(0,c.Z)(t)).concat((0,c.Z)(e[t].toString()))})),r}var f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],h=["theme"],m=["theme"];function v(e){return 0===Object.keys(e).length}var g=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},y=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=p(e.props);r[t]=e.style})),r},b=function(e,t,n,r){var a,o,i=e.ownerState,s=void 0===i?{}:i,u=[],c=null==n||null==(a=n.components)||null==(o=a[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[p(n.props)])})),u};function x(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var w=(0,s.Z)();var k=n(6482),S=function(e){return x(e)&&"classes"!==e},E=x,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?w:t,s=e.rootShouldForwardProp,c=void 0===s?x:s,l=e.slotShouldForwardProp,d=void 0===l?x:l;return function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.name,p=s.slot,w=s.skipVariantsResolver,k=s.skipSx,S=s.overridesResolver,E=(0,o.Z)(s,f),C=void 0!==w?w:p&&"Root"!==p||!1,T=k||!1;var N=x;"Root"===p?N=c:p&&(N=d);var _=(0,i.ZP)(e,(0,a.Z)({shouldForwardProp:N,label:t},E)),I=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var c=i?i.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,h);return e((0,a.Z)({theme:v(r)?n:r},i))}:e})):[],d=e;l&&S&&c.push((function(e){var t=v(e.theme)?n:e.theme,r=g(l,t);return r?S(e,r):null})),l&&!C&&c.push((function(e){var t=v(e.theme)?n:e.theme;return b(e,y(l,t),t,l)})),T||c.push((function(e){var t=v(e.theme)?n:e.theme;return(0,u.Z)((0,a.Z)({},e,{theme:t}))}));var p=c.length-i.length;if(Array.isArray(e)&&p>0){var f=new Array(p).fill("");(d=[].concat((0,r.Z)(e),(0,r.Z)(f))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(f))}else"function"===typeof e&&(d=function(t){var r=t.theme,i=(0,o.Z)(t,m);return e((0,a.Z)({theme:v(r)?n:r},i))});var x=_.apply(void 0,[d].concat((0,r.Z)(c)));return x};return I}}({defaultTheme:k.Z,rootShouldForwardProp:S}),T=C},1046:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5735);var a=n(418);function o(e){var t=e.props,n=e.name,o=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,a=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,a):a}({theme:(0,a.Z)(o),name:n,props:t});return i}var i=n(6482);function s(e){return o({props:e.props,name:e.name,defaultTheme:i.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7462),a=n(2791),o=n(3366),i=n(8182),s=n(767),u=n(4036),c=n(1046),l=n(7630),d=n(5159);function p(e){return(0,d.Z)("MuiSvgIcon",e)}(0,n(208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(184),h=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,u.Z)(n.color))],t["fontSize".concat((0,u.Z)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,a=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[a.fontSize],color:null!=(t=null==(n=r.palette[a.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[a.color]}})),v=a.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),a=n.children,l=n.className,d=n.color,v=void 0===d?"inherit":d,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,x=void 0===b?"medium":b,w=n.htmlColor,k=n.inheritViewBox,S=void 0!==k&&k,E=n.titleAccess,C=n.viewBox,T=void 0===C?"0 0 24 24":C,N=(0,o.Z)(n,h),_=(0,r.Z)({},n,{color:v,component:y,fontSize:x,inheritViewBox:S,viewBox:T}),I={};S||(I.viewBox=T);var O=function(e){var t=e.color,n=e.fontSize,r=e.classes,a={root:["root","inherit"!==t&&"color".concat((0,u.Z)(t)),"fontSize".concat((0,u.Z)(n))]};return(0,s.Z)(a,p,r)}(_);return(0,f.jsxs)(m,(0,r.Z)({as:y,className:(0,i.Z)(O.root,l),ownerState:_,focusable:"false",color:w,"aria-hidden":!E||void 0,role:E?"img":void 0,ref:t},I,N,{children:[a,E?(0,f.jsx)("title",{children:E}):null]}))}));v.muiName="SvgIcon";var g=v;function y(e,t){var n=function(n,a){return(0,f.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:a},n,{children:e}))};return n.muiName=g.muiName,a.memo(a.forwardRef(n))}},3199:function(e,t,n){"use strict";var r=n(3981);t.Z=r.Z},4421:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return i.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return l.Z},requirePropFactory:function(){return d},setRef:function(){return p},unstable_ClassNameGenerator:function(){return x.Z},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return m},useControlled:function(){return v.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return b.Z}});var r=n(4036),a=n(8949).Z,o=n(9201),i=n(3199);var s=function(e,t){return function(){return null}},u=n(9103),c=n(8301),l=n(7602);n(7462);var d=function(e,t){return function(){return null}},p=n(2971).Z,f=n(162),h=n(7384);var m=function(e,t,n,r,a){return null},v=n(8744),g=n(9683),y=n(2071),b=n(3031),x=n(7125)},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791);var a=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8301:function(e,t,n){"use strict";var r=n(9723);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(7979);t.Z=r.Z},8744:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9439),a=n(2791);var o=function(e){var t=e.controlled,n=e.default,o=(e.name,e.state,a.useRef(void 0!==t).current),i=a.useState(n),s=(0,r.Z)(i,2),u=s[0],c=s[1];return[o?t:u,a.useCallback((function(e){o||c(e)}),[])]}},162:function(e,t,n){"use strict";var r=n(5721);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},7384:function(e,t,n){"use strict";var r=n(6248);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r,a=n(2791),o=!0,i=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function l(){"hidden"===this.visibilityState&&i&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var p=function(){var e=a.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=a.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(i=!0,window.clearTimeout(r),r=window.setTimeout((function(){i=!1}),100),t.current=!1,!0)},ref:e}}},8023:function(e,t,n){"use strict";var r=n(2791).createContext(null);t.Z=r},9598:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),a=n(8023);function o(){return r.useContext(a.Z)}},594:function(e,t,n){"use strict";n.d(t,{ZP:function(){return b}});var r=n(2791),a=n(7462),o=n(3782),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,o.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),u=n(1672),c=n(5438),l=n(1346),d=s,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:p},h=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(){return null},v=function e(t,n){var o,i,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(o=n.label,i=n.target);var p=h(t,n,s),v=p||f(d),g=!v("as");return function(){var y=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var x=y.length,w=1;w<x;w++)b.push(y[w],y[0][w])}var k=(0,u.w)((function(e,t,n){var a=g&&e.as||d,o="",s=[],h=e;if(null==e.theme){for(var y in h={},e)h[y]=e[y];h.theme=(0,r.useContext)(u.T)}"string"===typeof e.className?o=(0,c.f)(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var x=(0,l.O)(b.concat(s),t.registered,h);(0,c.M)(t,x,"string"===typeof a);o+=t.key+"-"+x.name,void 0!==i&&(o+=" "+i);var w=g&&void 0===p?f(a):v,k={};for(var S in e)g&&"as"===S||w(S)&&(k[S]=e[S]);k.className=o,k.ref=n;var E=(0,r.createElement)(a,k),C=(0,r.createElement)(m,null);return(0,r.createElement)(r.Fragment,null,C,E)}));return k.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=p,Object.defineProperty(k,"toString",{value:function(){return"."+i}}),k.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:h(k,r,!0)})).apply(void 0,b)},k}},g=v.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var y=g;function b(e,t){return y(e,t)}},1184:function(e,t,n){"use strict";n.d(t,{VO:function(){return r},k9:function(){return o},W8:function(){return i},L7:function(){return s},P$:function(){return u}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function o(e,t,n){var o=e.theme||{};if(Array.isArray(t)){var i=o.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var s=o.breakpoints||a;return Object.keys(t).reduce((function(e,a){if(-1!==Object.keys(s.values||r).indexOf(a)){e[s.up(a)]=n(t[a],a)}else{var o=a;e[o]=t[o]}return e}),{})}return n(t)}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){var t,n=e.values,r=e.breakpoints,a=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),o=Object.keys(a);return 0===o.length?n:o.reduce((function(e,r,a){return Array.isArray(n)?(e[r]=null!=n[a]?n[a]:n[t],t=a):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{mi:function(){return u},Fq:function(){return c},_j:function(){return l},$n:function(){return d},_4:function(){return p}});var r=n(6189);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var a,i=e.substring(t+1,e.length-1);if("color"===n){if(a=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a))throw new Error((0,r.Z)(10,a))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:a}}function i(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),i({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,i(e)}function l(e,t){if(e=o(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return i(e)}function d(e,t){if(e=o(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return i(e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?l(e,t):d(e,t)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),a=n(3366),o=n(2466),i=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,s=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,l=(0,a.Z)(e,i),d=Object.keys(n);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(s,")")}function h(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:d,values:n,up:p,down:f,between:h,only:function(e){return d.indexOf(e)+1<d.length?h(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?f(d[t]):h(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},l)}var u={borderRadius:4},c=n(5682);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=0===n.length?[1]:n;return a.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.palette,c=void 0===i?{}:i,p=e.spacing,f=e.shape,h=void 0===f?{}:f,m=(0,a.Z)(e,d),v=s(n),g=l(p),y=(0,o.Z)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},c),spacing:g,shape:(0,r.Z)({},u,h)},m),b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((function(e,t){return(0,o.Z)(e,t)}),y)}},6001:function(e,t,n){"use strict";n.d(t,{Z:function(){return X},G:function(){return K}});var r=n(4942),a=n(8529),o=n(8247);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,o.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},s=n(5682),u=n(1184);function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=(0,a.Z)({prop:"border",themeKey:"borders",transform:c}),d=(0,a.Z)({prop:"borderTop",themeKey:"borders",transform:c}),p=(0,a.Z)({prop:"borderRight",themeKey:"borders",transform:c}),f=(0,a.Z)({prop:"borderBottom",themeKey:"borders",transform:c}),h=(0,a.Z)({prop:"borderLeft",themeKey:"borders",transform:c}),m=(0,a.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,a.Z)({prop:"borderTopColor",themeKey:"palette"}),g=(0,a.Z)({prop:"borderRightColor",themeKey:"palette"}),y=(0,a.Z)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,a.Z)({prop:"borderLeftColor",themeKey:"palette"}),x=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,s.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,s.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["borderRadius"];var w=i(l,d,p,f,h,m,v,g,y,b,x),k=i((0,a.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,a.Z)({prop:"display"}),(0,a.Z)({prop:"overflow"}),(0,a.Z)({prop:"textOverflow"}),(0,a.Z)({prop:"visibility"}),(0,a.Z)({prop:"whiteSpace"})),S=i((0,a.Z)({prop:"flexBasis"}),(0,a.Z)({prop:"flexDirection"}),(0,a.Z)({prop:"flexWrap"}),(0,a.Z)({prop:"justifyContent"}),(0,a.Z)({prop:"alignItems"}),(0,a.Z)({prop:"alignContent"}),(0,a.Z)({prop:"order"}),(0,a.Z)({prop:"flex"}),(0,a.Z)({prop:"flexGrow"}),(0,a.Z)({prop:"flexShrink"}),(0,a.Z)({prop:"alignSelf"}),(0,a.Z)({prop:"justifyItems"}),(0,a.Z)({prop:"justifySelf"})),E=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,s.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,s.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["gap"];var C=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,s.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,s.NA)(t,e)}}))}return null};C.propTypes={},C.filterProps=["columnGap"];var T=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,s.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,s.NA)(t,e)}}))}return null};T.propTypes={},T.filterProps=["rowGap"];var N=i(E,C,T,(0,a.Z)({prop:"gridColumn"}),(0,a.Z)({prop:"gridRow"}),(0,a.Z)({prop:"gridAutoFlow"}),(0,a.Z)({prop:"gridAutoColumns"}),(0,a.Z)({prop:"gridAutoRows"}),(0,a.Z)({prop:"gridTemplateColumns"}),(0,a.Z)({prop:"gridTemplateRows"}),(0,a.Z)({prop:"gridTemplateAreas"}),(0,a.Z)({prop:"gridArea"})),_=i((0,a.Z)({prop:"position"}),(0,a.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,a.Z)({prop:"top"}),(0,a.Z)({prop:"right"}),(0,a.Z)({prop:"bottom"}),(0,a.Z)({prop:"left"})),I=i((0,a.Z)({prop:"color",themeKey:"palette"}),(0,a.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,a.Z)({prop:"backgroundColor",themeKey:"palette"})),O=(0,a.Z)({prop:"boxShadow",themeKey:"shadows"});function R(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var A=(0,a.Z)({prop:"width",transform:R}),M=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,a;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(a=r.values)?void 0:a[t])||u.VO[t]||R(t)}}))}return null};M.filterProps=["maxWidth"];var D=(0,a.Z)({prop:"minWidth",transform:R}),P=(0,a.Z)({prop:"height",transform:R}),F=(0,a.Z)({prop:"maxHeight",transform:R}),L=(0,a.Z)({prop:"minHeight",transform:R}),Z=((0,a.Z)({prop:"size",cssProperty:"width",transform:R}),(0,a.Z)({prop:"size",cssProperty:"height",transform:R}),i(A,M,D,P,F,L,(0,a.Z)({prop:"boxSizing"}))),j=(0,a.Z)({prop:"fontFamily",themeKey:"typography"}),B=(0,a.Z)({prop:"fontSize",themeKey:"typography"}),V=(0,a.Z)({prop:"fontStyle",themeKey:"typography"}),z=(0,a.Z)({prop:"fontWeight",themeKey:"typography"}),U=(0,a.Z)({prop:"letterSpacing"}),W=(0,a.Z)({prop:"lineHeight"}),q=(0,a.Z)({prop:"textAlign"}),G=i((0,a.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),j,B,V,z,U,W,q),H={borders:w.filterProps,display:k.filterProps,flexbox:S.filterProps,grid:N.filterProps,positions:_.filterProps,palette:I.filterProps,shadows:O.filterProps,sizing:Z.filterProps,spacing:s.ZP.filterProps,typography:G.filterProps},Q={borders:w,display:k,flexbox:S,grid:N,positions:_,palette:I,shadows:O,sizing:Z,spacing:s.ZP,typography:G},K=Object.keys(H).reduce((function(e,t){return H[t].forEach((function(n){e[n]=Q[t]})),e}),{});var X=function(e,t,n){var a,o=(a={},(0,r.Z)(a,e,t),(0,r.Z)(a,"theme",n),a),i=K[e];return i?i(o):(0,r.Z)({},e,t)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return m},eI:function(){return h},ZP:function(){return k},NA:function(){return v}});var r=n(9439),a=n(1184),o=n(8529),i=n(8247);var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),a=n[0],o=n[1],i=s[a],l=u[o]||"";return Array.isArray(l)?l.map((function(e){return i+e})):[i+l]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[].concat(d,p);function h(e,t,n,r){var a=(0,o.D)(e,t)||n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function m(e){return h(e,"spacing",8)}function v(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=v(t,n),e}),{})}}(l(n),r),i=e[n];return(0,a.k9)(e,i,o)}function y(e,t){var n=m(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(i.Z,{})}function b(e){return y(e,d)}function x(e){return y(e,p)}function w(e){return y(e,f)}b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=p,w.propTypes={},w.filterProps=f;var k=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(4942),a=n(7312),o=n(1184);function i(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function s(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||a:i(e,n)||a,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,u=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,d=function(e){if(null==e[t])return null;var n=e[t],d=i(e.theme,c)||{};return(0,o.k9)(e,n,(function(e){var n=s(d,l,e);return e===n&&"string"===typeof e&&(n=s(d,l,"".concat(t).concat("default"===e?"":(0,a.Z)(e)),e)),!1===u?n:(0,r.Z)({},u,n)}))};return d.propTypes={},d.filterProps=[t],d}},104:function(e,t,n){"use strict";var r=n(4942),a=n(8247),o=n(6001),i=n(1184);function s(e){var t=e||{},n=t.sx,u=t.theme,c=void 0===u?{}:u;if(!n)return null;function l(e){var t=e;if("function"===typeof e)t=e(c);else if("object"!==typeof e)return e;var n=(0,i.W8)(c.breakpoints),u=Object.keys(n),l=n;return Object.keys(t).forEach((function(e){var n,u,d=(n=t[e],u=c,"function"===typeof n?n(u):n);if(null!==d&&void 0!==d)if("object"===typeof d)if(o.G[e])l=(0,a.Z)(l,(0,o.Z)(e,d,c));else{var p=(0,i.k9)({theme:c},d,(function(t){return(0,r.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),a=new Set(r);return t.every((function(e){return a.size===Object.keys(e).length}))}(p,d)?l=(0,a.Z)(l,p):l[e]=s({sx:d,theme:c})}else l=(0,a.Z)(l,(0,o.Z)(e,d,c))})),(0,i.L7)(u,l)}return Array.isArray(n)?n.map(l):l(n)}s.filterProps=["sx"],t.Z=s},418:function(e,t,n){"use strict";var r=n(5080),a=n(9120),o=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,a.Z)(e)}},9120:function(e,t,n){"use strict";var r=n(9598);function a(e){return 0===Object.keys(e).length}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.Z)();return!t||a(t)?e:t}},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6189);function a(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},3981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return a},Z:function(){return o}});var r=n(7462);function a(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e&&a(e[r])?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9723);function a(e){return(0,r.Z)(e).defaultView||window}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function a(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),a="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=a},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),a=n(5721);function o(e){var t=r.useRef(e);return(0,a.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2791),a=n(2971);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,a.Z)(e,n),(0,a.Z)(t,n)}}),[e,t])}},6248:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9439),a=n(2791),o=0;function i(e){var t=a.useState(e),n=(0,r.Z)(t,2),i=n[0],s=n[1],u=e||i;return a.useEffect((function(){null==i&&s("mui-".concat(o+=1))}),[i]),u}},8077:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},8182:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{Z:function(){return a}})},6897:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(r),n.d(r,"VictoryGesture",(function(){return N})),n.d(r,"ThumbsUpGesture",(function(){return A}));var o={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]},getPoints:function(e){return void 0!==a(this.pointsMapping[e])&&this.pointsMapping[e]}},i={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]}},s={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]}};function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=d(d({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6}),t)}var t,n,r;return t=e,(n=[{key:"estimate",value:function(e){var t,n=[],r=[],a=u(o.all);try{for(a.s();!(t=a.n()).done;){var i,s=t.value,c=o.getPoints(s),l=[],d=[],p=u(c);try{for(p.s();!(i=p.n()).done;){var f=i.value,h=e[f[0]],m=e[f[1]],v=this.getSlopes(h,m),g=v[0],y=v[1];l.push(g),d.push(y)}}catch(e){p.e(e)}finally{p.f()}n.push(l),r.push(d)}}catch(e){a.e(e)}finally{a.f()}var b,x=[],w=[],k=u(o.all);try{for(k.s();!(b=k.n()).done;){var S=b.value,E=S==o.Thumb?1:0,C=o.getPoints(S),T=e[C[E][0]],N=e[C[E+1][1]],_=e[C[3][1]],I=this.estimateFingerCurl(T,N,_),O=this.calculateFingerDirection(T,N,_,n[S].slice(E));x[S]=I,w[S]=O}}catch(e){k.e(e)}finally{k.f()}return{curls:x,directions:w}}},{key:"getSlopes",value:function(e,t){var n=this.calculateSlope(e[0],e[1],t[0],t[1]);return 2==e.length?n:[n,this.calculateSlope(e[1],e[2],t[1],t[2])]}},{key:"angleOrientationAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0,a=0;return e>=75&&e<=105?n=1*t:e>=25&&e<=155?r=1*t:a=1*t,[n,r,a]}},{key:"estimateFingerCurl",value:function(e,t,n){var r=e[0]-t[0],a=e[0]-n[0],o=t[0]-n[0],s=e[1]-t[1],u=e[1]-n[1],c=t[1]-n[1],l=e[2]-t[2],d=e[2]-n[2],p=t[2]-n[2],f=Math.sqrt(r*r+s*s+l*l),h=Math.sqrt(a*a+u*u+d*d),m=Math.sqrt(o*o+c*c+p*p),v=(m*m+f*f-h*h)/(2*m*f);v>1?v=1:v<-1&&(v=-1);var g=Math.acos(v);return(g=57.2958*g%180)>this.options.NO_CURL_START_LIMIT?i.NoCurl:g>this.options.HALF_CURL_START_LIMIT?i.HalfCurl:i.FullCurl}},{key:"estimateHorizontalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e>0?s.HorizontalLeft:s.HorizontalRight:r==Math.abs(t)?t>0?s.HorizontalLeft:s.HorizontalRight:n>0?s.HorizontalLeft:s.HorizontalRight}},{key:"estimateVerticalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e<0?s.VerticalDown:s.VerticalUp:r==Math.abs(t)?t<0?s.VerticalDown:s.VerticalUp:n<0?s.VerticalDown:s.VerticalUp}},{key:"estimateDiagonalDirection",value:function(e,t,n,r,a,o,i,u){var c=this.estimateVerticalDirection(e,t,n,r),l=this.estimateHorizontalDirection(a,o,i,u);return c==s.VerticalUp?l==s.HorizontalLeft?s.DiagonalUpLeft:s.DiagonalUpRight:l==s.HorizontalLeft?s.DiagonalDownLeft:s.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(e,t,n,r){var a=e[0]-t[0],o=e[0]-n[0],i=t[0]-n[0],s=e[1]-t[1],c=e[1]-n[1],l=t[1]-n[1],d=Math.max(Math.abs(a),Math.abs(o),Math.abs(i)),p=Math.max(Math.abs(s),Math.abs(c),Math.abs(l)),f=0,h=0,m=0,v=p/(d+1e-5);v>1.5?f+=this.options.DISTANCE_VOTE_POWER:v>.66?h+=this.options.DISTANCE_VOTE_POWER:m+=this.options.DISTANCE_VOTE_POWER;var g=Math.sqrt(a*a+s*s),y=Math.sqrt(o*o+c*c),b=Math.sqrt(i*i+l*l),x=Math.max(g,y,b),w=e[0],k=e[1],S=n[0],E=n[1];x==g?(S=n[0],E=n[1]):x==b&&(w=t[0],k=t[1]);var C=[w,k],T=[S,E],N=this.getSlopes(C,T),_=this.angleOrientationAt(N,this.options.TOTAL_ANGLE_VOTE_POWER);f+=_[0],h+=_[1],m+=_[2];var I,O=u(r);try{for(O.s();!(I=O.n()).done;){var R=I.value,A=this.angleOrientationAt(R,this.options.SINGLE_ANGLE_VOTE_POWER);f+=A[0],h+=A[1],m+=A[2]}}catch(e){O.e(e)}finally{O.f()}return f==Math.max(f,h,m)?this.estimateVerticalDirection(c,s,l,p):m==Math.max(h,m)?this.estimateHorizontalDirection(o,a,i,d):this.estimateDiagonalDirection(c,s,l,p,o,a,i,d)}},{key:"calculateSlope",value:function(e,t,n,r){var a=(t-r)/(e-n),o=180*Math.atan(a)/Math.PI;return o<=0?o=-o:o>0&&(o=180-o),o}}])&&f(t.prototype,n),r&&f(t,r),e}();function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e),this.estimator=new h(n),this.gestures=t}var t,n,r;return t=e,(n=[{key:"estimate",value:function(e,t){var n,r=[],a=this.estimator.estimate(e),u=[],c=m(o.all);try{for(c.s();!(n=c.n()).done;){var l=n.value;u.push([o.getName(l),i.getName(a.curls[l]),s.getName(a.directions[l])])}}catch(e){c.e(e)}finally{c.f()}var d,p=m(this.gestures);try{for(p.s();!(d=p.n()).done;){var f=d.value,h=f.matchAgainst(a.curls,a.directions);h>=t&&r.push({name:f.name,score:h})}}catch(e){p.e(e)}finally{p.f()}return{poseData:u,gestures:r}}}])&&y(t.prototype,n),r&&y(t,r),e}();function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.curls={},this.directions={}}var t,n,r;return t=e,(n=[{key:"addCurl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,n])}},{key:"addDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===this.directions[e]&&(this.directions[e]=[]),this.directions[e].push([t,n])}},{key:"matchAgainst",value:function(e,t){var n=0,r=0;for(var a in e){var o=e[a],i=this.curls[a];if(void 0!==i){r++;var s,u=!1,c=0,l=w(i);try{for(l.s();!(s=l.n()).done;){var d=x(s.value,2),p=d[0],f=d[1];if(o==p){n+=f,c=Math.max(c,f),u=!0;break}}}catch(e){l.e(e)}finally{l.f()}u||(n-=c)}}for(var h in t){var m=t[h],v=this.directions[h];if(void 0!==v){r++;var g,y=!1,b=0,k=w(v);try{for(k.s();!(g=k.n()).done;){var S=x(g.value,2),E=S[0],C=S[1];if(m==E){n+=C,b=Math.max(b,C),y=!0;break}}}catch(e){k.e(e)}finally{k.f()}y||(n-=b)}}return n/r*10}}])&&E(t.prototype,n),r&&E(t,r),e}(),T=new C("victory");T.addDirection(o.Thumb,s.VerticalUp,1),T.addDirection(o.Thumb,s.DiagonalUpLeft,1),T.addDirection(o.Thumb,s.DiagonalUpRight,1),T.addCurl(o.Index,i.NoCurl,1),T.addDirection(o.Index,s.VerticalUp,1),T.addDirection(o.Index,s.DiagonalUpLeft,1),T.addDirection(o.Index,s.DiagonalUpRight,1),T.addDirection(o.Index,s.HorizontalLeft,1),T.addDirection(o.Index,s.HorizontalRight,1),T.addCurl(o.Middle,i.NoCurl,1),T.addDirection(o.Middle,s.VerticalUp,1),T.addDirection(o.Middle,s.DiagonalUpLeft,1),T.addDirection(o.Middle,s.DiagonalUpRight,1),T.addDirection(o.Middle,s.HorizontalLeft,1),T.addDirection(o.Middle,s.HorizontalRight,1),T.addCurl(o.Ring,i.FullCurl,1),T.addCurl(o.Ring,i.HalfCurl,.9),T.addCurl(o.Pinky,i.FullCurl,1),T.addCurl(o.Pinky,i.HalfCurl,.9);var N=T,_=new C("thumbs_up");_.addCurl(o.Thumb,i.NoCurl,1),_.addDirection(o.Thumb,s.VerticalUp,1),_.addDirection(o.Thumb,s.DiagonalUpLeft,.9),_.addDirection(o.Thumb,s.DiagonalUpRight,.9);for(var I=0,O=[o.Index,o.Middle,o.Ring,o.Pinky];I<O.length;I++){var R=O[I];_.addCurl(R,i.FullCurl,1),_.addCurl(R,i.HalfCurl,.9)}_.addDirection(o.Index,s.DiagonalUpLeft,1),_.addDirection(o.Index,s.HorizontalLeft,1),_.addDirection(o.Index,s.HorizontalRight,1),_.addDirection(o.Index,s.DiagonalUpRight,1);var A=_;t.default={GestureEstimator:b,GestureDescription:C,Finger:o,FingerCurl:i,FingerDirection:s,Gestures:r}}]).default},2110:function(e,t,n){"use strict";var r=n(7441),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var i=l(n);d&&(i=i.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<i.length;++v){var g=i[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=p(n,g);try{c(t,g,y)}catch(b){}}}}return t}},8987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=f)return k}else{if(e<=-h)return S;if(e+1>=h)return w}return e<0?s(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var a=s(c(n,8)),o=v,i=0;i<e.length;i+=8){var u=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+u),n);if(u<8){var p=s(c(n,u));o=o.mul(p).add(s(d))}else o=(o=o.mul(a)).add(s(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=d;var p=4294967296,f=p*p,h=f/2,m=i(1<<24),v=i(0);n.ZERO=v;var g=i(0,!0);n.UZERO=g;var y=i(1);n.ONE=y;var b=i(1,!0);n.UONE=b;var x=i(-1);n.NEG_ONE=x;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var k=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(c(e,6),this.unsigned),o=this,i="";;){var u=o.div(a),l=(o.sub(u.mul(a)).toInt()>>>0).toString(e);if((o=u).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1===(1&this.low)},E.isEven=function(){return 0===(1&this.low)},E.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},E.neg=E.negate,E.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,p=0,f=0,h=0;return f+=(h+=o+(65535&e.low))>>>16,p+=(f+=a+c)>>>16,l+=(p+=n+s)>>>16,l+=t+i,u((f&=65535)<<16|(h&=65535),(l&=65535)<<16|(p&=65535),this.unsigned)},E.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,c=e.high>>>16,l=65535&e.high,p=e.low>>>16,f=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=i*f)>>>16,g+=(y+=o*f)>>>16,y&=65535,g+=(y+=i*p)>>>16,h+=(g+=a*f)>>>16,g&=65535,h+=(g+=o*p)>>>16,g&=65535,h+=(g+=i*l)>>>16,h+=n*f+a*p+o*l+i*c,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;o=g}else{if(this.eq(S))return e.eq(y)||e.eq(x)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?y:x:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(S))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),l=i<=48?1:c(2,i-48),p=s(n),f=p.mul(e);f.isNegative()||f.gt(a);)f=(p=s(n-=l,this.unsigned)).mul(e);p.isZero()&&(p=y),o=o.add(p),a=a.sub(f)}return o},E.div=E.divide,E.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,o){for(var i,s,u=a(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))n.call(i,l)&&(u[l]=i[l]);if(t){s=t(i);for(var d=0;d<s.length;d++)r.call(i,s[d])&&(u[s[d]]=i[s[d]])}}return u}},4463:function(e,t,n){"use strict";var r=n(2791),a=n(1725),o=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,S=60106,E=60107,C=60108,T=60114,N=60109,_=60110,I=60112,O=60113,R=60120,A=60115,M=60116,D=60121,P=60128,F=60129,L=60130,Z=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;k=j("react.element"),S=j("react.portal"),E=j("react.fragment"),C=j("react.strict_mode"),T=j("react.profiler"),N=j("react.provider"),_=j("react.context"),I=j("react.forward_ref"),O=j("react.suspense"),R=j("react.suspense_list"),A=j("react.memo"),M=j("react.lazy"),D=j("react.block"),j("react.scope"),P=j("react.opaque.id"),F=j("react.debug_trace_mode"),L=j("react.offscreen"),Z=j("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function U(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function q(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function G(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return H(e.type);case D:return H(e._render);case M:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,_e=null,Ie=null;function Oe(e){if(e=ra(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=oa(t),Ne(e.stateNode,e.type,t))}}function Re(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Ae(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Me(e,t){return e(t)}function De(e,t,n,r,a){return e(t,n,r,a)}function Pe(){}var Fe=Me,Le=!1,Ze=!1;function je(){null===_e&&null===Ie||(Pe(),Ae())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ve=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Ve=!1}function Ue(e,t,n,r,a,o,i,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,qe=null,Ge=!1,He=null,Qe={onError:function(e){We=!0,qe=e}};function Ke(e,t,n,r,a,o,i,s,u){We=!1,qe=null,Ue.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(i(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return $e(a),e;if(o===r)return $e(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,ot=!1,it=[],st=null,ut=null,ct=null,lt=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,a,o),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=na(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),dt.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function kt(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),dt.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)gt(n),null===n.blockedOn&&pt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},Tt={};function Nt(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Ct[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var _t=Nt("animationend"),It=Nt("animationiteration"),Ot=Nt("animationstart"),Rt=Nt("transitionend"),At=new Map,Mt=new Map,Dt=["abort","abort",_t,"animationEnd",It,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Mt.set(r,t),At.set(r,a),c(a,[r])}}(0,o.unstable_now)();var Ft=8;function Lt(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function Zt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,a=Ft=15;else if(0!==(o=134217727&n)){var u=o&~i;0!==u?(r=Lt(u),a=Ft):0!==(s&=o)&&(r=Lt(s),a=Ft)}else 0!==(o=n&~i)?(r=Lt(o),a=Ft):0!==s&&(r=Lt(s),a=Ft);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&i)){if(Lt(t),a<=Ft)return t;Ft=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Wt(t)),r|=e[n],t&=~a;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Bt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Bt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Gt|0)|0},qt=Math.log,Gt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Xt(e,t,n,r){Le||Pe();var a=$t,o=Le;Le=!0;try{De(a,e,t,n,r)}finally{(Le=o)||je()}}function Yt(e,t,n,r){Qt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var a;if(Kt)if((a=0===(4&t))&&0<it.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var o=Jt(e,t,n,r);if(null===o)a&&mt(e,r);else{if(a){if(-1<ft.indexOf(e))return e=ht(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return st=vt(st,e,t,n,r,a),!0;case"dragenter":return ut=vt(ut,e,t,n,r,a),!0;case"mouseover":return ct=vt(ct,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,a)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var a=Te(r);if(null!==(a=na(a))){var o=Xe(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Ye(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Pr(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,dn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=un(pn),hn=a({},pn,{view:0,detail:0}),mn=un(hn),vn=a({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(a({},vn,{dataTransfer:0})),bn=un(a({},hn,{relatedTarget:0})),xn=un(a({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=a({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(wn),Sn=un(a({},pn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function _n(){return Nn}var In=a({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(In),Rn=un(a({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(a({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Mn=un(a({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=a({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=un(Dn),Fn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Zn=null;d&&"documentMode"in document&&(Zn=document.documentMode);var jn=d&&"TextEvent"in window&&!Zn,Bn=d&&(!Ln||Zn&&8<Zn&&11>=Zn),Vn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Xn=null;function Yn(e){Ir(e,0)}function $n(e){if(Y(aa(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){Kn&&(Kn.detachEvent("onpropertychange",or),Xn=Kn=null)}function or(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Yn,Le)e(t);else{Le=!0;try{Me(e,t)}finally{Le=!1,je()}}}}function ir(e,t,n){"focusin"===e?(ar(),Xn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ar()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function pr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,kr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==br||br!==$(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&pr(wr,r)||(wr=r,0<(r=Lr(xr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Mt.set(Er[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,u,c){if(Ke.apply(this,arguments),We){if(!We)throw Error(i(198));var l=qe;We=!1,qe=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&a.isPropagationStopped())break e;_r(a,s,c),o=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,c=s.currentTarget,s=s.listener,u!==o&&a.isPropagationStopped())break e;_r(a,s,c),o=u}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Or(e,t){var n=ia(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Nr.has(t)||Mr(t,!1,e,null),Mr(t,!0,e,null)})))}function Mr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Nr.has(e)){if("scroll"!==e)return;a|=2,o=r}var i=ia(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Dr(o,e,a,t),i.add(s))}function Dr(e,t,n,r){var a=Mt.get(t);switch(void 0===a?2:a){case 0:a=Xt;break;case 1:a=Yt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=na(s)))return;if(5===(u=i.tag)||6===u){r=o=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ze)return e(t,n);Ze=!0;try{Fe(e,t,n)}finally{Ze=!1,je()}}((function(){var r=o,a=Te(n),i=[];e:{var s=At.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case _t:case It:case Ot:u=xn;break;case Rt:u=Mn;break;case"scroll":u=mn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),d=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Be(h,p))&&l.push(Fr(h,m,f)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,a),i.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!na(c)&&!c[ea])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?na(c):null)&&(c!==(d=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==u?s:aa(u),f=null==c?s:aa(c),(s=new l(m,h+"leave",u,n,a)).target=d,s.relatedTarget=f,m=null,na(a)===r&&((l=new l(p,h+"enter",c,n,a)).target=f,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(p=c,h=0,f=l=u;f;f=Zr(f))h++;for(f=0,m=p;m;m=Zr(m))f++;for(;0<h-f;)l=Zr(l),h--;for(;0<f-h;)p=Zr(p),f--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=Zr(l),p=Zr(p)}l=null}else l=null;null!==u&&jr(i,s,u,l,!1),null!==c&&null!==d&&jr(i,d,c,l,!0)}if("select"===(u=(s=r?aa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Jn;else if(Hn(s))if(er)v=cr;else{v=sr;var g=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Qn(i,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=r?aa(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(br=g,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Sr(i,n,a);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(i,n,a)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=rn()):(tn="value"in(en=a)?en.value:en.textContent,qn=!0)),0<(g=Lr(r,b)).length&&(b=new Sn(b,e,null,n,a),i.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Un(e,t)?(e=rn(),nn=tn=en=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(a=new Sn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Ir(i,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Be(e,n))&&r.unshift(Fr(e,o,a)),null!=(o=Be(e,t))&&r.push(Fr(e,o,a))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Be(n,o))&&i.unshift(Fr(n,u,s)):a||null!=(u=Be(n,o))&&i.push(Fr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Br(){}var Vr=null,zr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,ea="__reactContainer$"+Yr,ta="__reactEvents$"+Yr;function na(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[$r])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[$r]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oa(e){return e[Jr]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ua=-1;function ca(e){return{current:e}}function la(e){0>ua||(e.current=sa[ua],sa[ua]=null,ua--)}function da(e,t){ua++,sa[ua]=e.current,e.current=t}var pa={},fa=ca(pa),ha=ca(!1),ma=pa;function va(e,t){var n=e.type.contextTypes;if(!n)return pa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ga(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ya(){la(ha),la(fa)}function ba(e,t,n){if(fa.current!==pa)throw Error(i(168));da(fa,t),da(ha,n)}function xa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,H(t)||"Unknown",o));return a({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pa,ma=fa.current,da(fa,e),da(ha,ha.current),!0}function ka(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=xa(e,t,ma),r.__reactInternalMemoizedMergedChildContext=e,la(ha),la(fa),da(fa,e)):la(ha),da(ha,n)}var Sa=null,Ea=null,Ca=o.unstable_runWithPriority,Ta=o.unstable_scheduleCallback,Na=o.unstable_cancelCallback,_a=o.unstable_shouldYield,Ia=o.unstable_requestPaint,Oa=o.unstable_now,Ra=o.unstable_getCurrentPriorityLevel,Aa=o.unstable_ImmediatePriority,Ma=o.unstable_UserBlockingPriority,Da=o.unstable_NormalPriority,Pa=o.unstable_LowPriority,Fa=o.unstable_IdlePriority,La={},Za=void 0!==Ia?Ia:function(){},ja=null,Ba=null,Va=!1,za=Oa(),Ua=1e4>za?Oa:function(){return Oa()-za};function Wa(){switch(Ra()){case Aa:return 99;case Ma:return 98;case Da:return 97;case Pa:return 96;case Fa:return 95;default:throw Error(i(332))}}function qa(e){switch(e){case 99:return Aa;case 98:return Ma;case 97:return Da;case 96:return Pa;case 95:return Fa;default:throw Error(i(332))}}function Ga(e,t){return e=qa(e),Ca(e,t)}function Ha(e,t,n){return e=qa(e),Ta(e,t,n)}function Qa(){if(null!==Ba){var e=Ba;Ba=null,Na(e)}Ka()}function Ka(){if(!Va&&null!==ja){Va=!0;var e=0;try{var t=ja;Ga(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ja=null}catch(n){throw null!==ja&&(ja=ja.slice(e+1)),Ta(Aa,Qa),n}finally{Va=!1}}}var Xa=w.ReactCurrentBatchConfig;function Ya(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $a=ca(null),Ja=null,eo=null,to=null;function no(){to=eo=Ja=null}function ro(e){var t=$a.current;la($a),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ja=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Li=!0),e.firstContext=null)}function io(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ja)throw Error(i(308));eo=t,Ja.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?i=l:s.next=l,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=l:p.next=l,d.lastBaseUpdate=c)}}if(null!==i){for(p=o.baseState,s=0,d=l=c=null;;){u=i.lane;var f=i.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,m=i;switch(u=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){p=h.call(f,p,u);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=m.payload)?h.call(f,p,u):h)||void 0===u)break e;p=a({},p,u);break e;case 2:so=!0}}null!==i.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[i]:u.push(i))}else f={eventTime:f,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(l=d=f,c=p):d=d.next=f,s|=u;if(null===(i=i.next)){if(null===(u=o.shared.pending))break;i=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(c=p),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=d,Vs|=s,e.lanes=s,e.memoizedState=p}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pu(),a=fu(e),o=lo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hu(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pu(),a=fu(e),o=lo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hu(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pu(),r=fu(e),a=lo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),po(e,a),hu(e,r,n)}};function bo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(a,o))}function xo(e,t,n){var r=!1,a=pa,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(a=ga(t)?ma:fa.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?va(e,a):pa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=io(o):(o=ga(t)?ma:fa.current,a.context=va(e,o)),ho(e,n,a,r),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&yo.enqueueReplaceState(a,a.state,null),ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case S:return(t=Yu(t,e.mode,n)).return=e,t}if(So(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?n.type===E?d(e,t,n.props.children,r,a):c(e,t,n,r):null;case S:return n.key===a?l(e,t,n,r):null}if(So(n)||z(n))return null!==a?null:d(e,t,n,r,null);Co(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,a,r.key):c(t,e,r,a);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(So(r)||z(r))return d(t,e=e.get(n)||null,r,a,null);Co(t,r)}return null}function m(a,i,s,u){for(var c=null,l=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===l?c=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(a,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],u))&&(i=o(d,i,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(a,d);m<s.length;m++)null!==(v=h(d,a,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(a,e)})),c}function v(a,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var d=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=p(a,y.value,c))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(a,m);!y.done;v++,y=u.next())null!==(y=h(m,a,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===E&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case k:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===E){n(e,c.sibling),(r=a(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=a(c,o.props)).ref=Eo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===E?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=Xu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return m(e,r,o,u);if(z(o))return v(e,r,o,u);if(l&&Co(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,H(e.type)||"Component"))}return n(e,r)}}var No=To(!0),_o=To(!1),Io={},Oo=ca(Io),Ro=ca(Io),Ao=ca(Io);function Mo(e){if(e===Io)throw Error(i(174));return e}function Do(e,t){switch(da(Ao,t),da(Ro,e),da(Oo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}la(Oo),da(Oo,t)}function Po(){la(Oo),la(Ro),la(Ao)}function Fo(e){Mo(Ao.current);var t=Mo(Oo.current),n=he(t,e.type);t!==n&&(da(Ro,e),da(Oo,n))}function Lo(e){Ro.current===e&&(la(Oo),la(Ro))}var Zo=ca(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Vo=null,zo=!1;function Uo(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(zo){var t=Vo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Qr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Uo(Bo,n)}Bo=e,Vo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function Go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Ho(e){if(e!==Bo)return!1;if(!zo)return Go(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Vo;t;)Uo(e,t),t=Qr(t.nextSibling);if(Go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Bo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Vo=Bo=null,zo=!1}var Ko=[];function Xo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Yo=w.ReactCurrentDispatcher,$o=w.ReactCurrentBatchConfig,Jo=0,ei=null,ti=null,ni=null,ri=!1,ai=!1;function oi(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function si(e,t,n,r,a,o){if(Jo=o,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Mi:Di,e=n(r,a),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ni=ti=null,t.updateQueue=null,Yo.current=Pi,e=n(r,a)}while(ai)}if(Yo.current=Ai,t=null!==ti&&null!==ti.next,Jo=0,ni=ti=ei=null,ri=!1,t)throw Error(i(300));return e}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function ci(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function li(e,t){return"function"===typeof t?t(e):t}function di(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ti,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=o=null,c=a;do{var l=c.lane;if((Jo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,ei.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==a);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Li=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function pi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);lr(o,t.memoizedState)||(Li=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fi(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(i(350))}function hi(e,t,n,r){var a=Ms;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),u=Yo.current,c=u.useState((function(){return fi(a,t,n)})),l=c[1],d=c[0];c=ni;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var v=ei;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=fu(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,i=e;0<i;){var u=31-Wt(i),c=1<<u;r[u]|=e,i&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fu(v);a.mutableReadLanes|=r&a.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(h,n)&&lr(m,t)&&lr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:d}).dispatch=l=Ri.bind(null,ei,e),c.queue=e,c.baseQueue=null,d=fi(a,t,n),c.memoizedState=c.baseState=d),d}function mi(e,t,n){return hi(ci(),e,t,n)}function vi(e){var t=ui();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:e}).dispatch=Ri.bind(null,ei,e),[t.memoizedState,e]}function gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yi(e){return e={current:e},ui().memoizedState=e}function bi(){return ci().memoizedState}function xi(e,t,n,r){var a=ui();ei.flags|=e,a.memoizedState=gi(1|t,n,void 0,void 0===r?null:r)}function wi(e,t,n,r){var a=ci();r=void 0===r?null:r;var o=void 0;if(null!==ti){var i=ti.memoizedState;if(o=i.destroy,null!==r&&ii(r,i.deps))return void gi(t,n,o,r)}ei.flags|=e,a.memoizedState=gi(1|t,n,o,r)}function ki(e,t){return xi(516,4,e,t)}function Si(e,t){return wi(516,4,e,t)}function Ei(e,t){return wi(4,2,e,t)}function Ci(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wi(4,2,Ci.bind(null,t,e),n)}function Ni(){}function _i(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ii(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oi(e,t){var n=Wa();Ga(98>n?98:n,(function(){e(!0)})),Ga(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Ri(e,t,n){var r=pu(),a=fu(e),o={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===ei||null!==i&&i===ei)ai=ri=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=i(s,n);if(o.eagerReducer=i,o.eagerState=u,lr(u,s))return}catch(c){}hu(e,a,r)}}var Ai={readContext:io,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},Mi={readContext:io,useCallback:function(e,t){return ui().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:ki,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xi(4,2,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xi(4,2,e,t)},useMemo:function(e,t){var n=ui();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ui();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ri.bind(null,ei,e),[r.memoizedState,e]},useRef:yi,useState:vi,useDebugValue:Ni,useDeferredValue:function(e){var t=vi(e),n=t[0],r=t[1];return ki((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=vi(!1),t=e[0];return yi(e=Oi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ui();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},hi(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(i(355))})),n=vi(t)[1];return 0===(2&ei.mode)&&(ei.flags|=516,gi(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return vi(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Di={readContext:io,useCallback:_i,useContext:io,useEffect:Si,useImperativeHandle:Ti,useLayoutEffect:Ei,useMemo:Ii,useReducer:di,useRef:bi,useState:function(){return di(li)},useDebugValue:Ni,useDeferredValue:function(e){var t=di(li),n=t[0],r=t[1];return Si((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=di(li)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return di(li)[0]},unstable_isNewReconciler:!1},Pi={readContext:io,useCallback:_i,useContext:io,useEffect:Si,useImperativeHandle:Ti,useLayoutEffect:Ei,useMemo:Ii,useReducer:pi,useRef:bi,useState:function(){return pi(li)},useDebugValue:Ni,useDeferredValue:function(e){var t=pi(li),n=t[0],r=t[1];return Si((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=pi(li)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return pi(li)[0]},unstable_isNewReconciler:!1},Fi=w.ReactCurrentOwner,Li=!1;function Zi(e,t,n,r){t.child=null===e?_o(t,null,n,r):No(t,e.child,n,r)}function ji(e,t,n,r,a){n=n.render;var o=t.ref;return oo(t,a),r=si(e,t,n,r,o,a),null===e||Li?(t.flags|=1,Zi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,os(e,t,a))}function Bi(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!==typeof i||qu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Vi(e,t,i,r,a,o))}return i=e.child,0===(a&o)&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:pr)(a,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Gu(i,r)).ref=t.ref,e.return=t,t.child=e)}function Vi(e,t,n,r,a,o){if(null!==e&&pr(e.memoizedProps,r)&&e.ref===t.ref){if(Li=!1,0===(o&a))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Li=!0)}return Wi(e,t,n,r,o)}function zi(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ku(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ku(t,e),null;t.memoizedState={baseLanes:0},ku(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ku(t,r);return Zi(e,t,a,n),t.child}function Ui(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wi(e,t,n,r,a){var o=ga(n)?ma:fa.current;return o=va(t,o),oo(t,a),n=si(e,t,n,r,o,a),null===e||Li?(t.flags|=1,Zi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,os(e,t,a))}function qi(e,t,n,r,a){if(ga(n)){var o=!0;wa(t)}else o=!1;if(oo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),ko(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=io(c):c=va(t,c=ga(n)?ma:fa.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,i,r,c),so=!1;var p=t.memoizedState;i.state=p,ho(t,r,i,a),u=t.memoizedState,s!==r||p!==u||ha.current||so?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,p,u,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ya(t.type,s),i.props=c,d=t.pendingProps,p=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=io(u):u=va(t,u=ga(n)?ma:fa.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||p!==u)&&wo(t,i,r,u),so=!1,p=t.memoizedState,i.state=p,ho(t,r,i,a);var h=t.memoizedState;s!==d||p!==h||ha.current||so?("function"===typeof f&&(go(t,n,f,r),h=t.memoizedState),(c=so||bo(t,n,c,r,p,h,u))?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=u,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Gi(e,t,n,r,o,a)}function Gi(e,t,n,r,a,o){Ui(e,t);var i=0!==(64&t.flags);if(!r&&!i)return a&&ka(t,n,!1),os(e,t,o);r=t.stateNode,Fi.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):Zi(e,t,s,o),t.memoizedState=r.state,a&&ka(t,n,!0),t.child}function Hi(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Do(e,t.containerInfo)}var Qi,Ki,Xi,Yi={dehydrated:null,retryLane:0};function $i(e,t,n){var r,a=t.pendingProps,o=Zo.current,i=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),da(Zo,1&o),null===e?(void 0!==a.fallback&&qo(t),e=a.children,o=a.fallback,i?(e=Ji(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yi,e):"number"===typeof a.unstable_expectedLoadTime?(e=Ji(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yi,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(a=ts(e,t,a.children,a.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Yi,a):(n=es(e,t,a.children,n),t.memoizedState=null,n))}function Ji(e,t,n,r){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ku(t,a,0,null),n=Qu(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var a=e.child;return e=a.sibling,n=Gu(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(i,s),null!==e?r=Gu(e,r):(r=Qu(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ao(e.return,t)}function rs(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.lastEffect=o)}function as(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Zi(e,t,r.children,n),0!==(2&(r=Zo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(da(Zo,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rs(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===jo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ga(t.type)&&ya(),null;case 3:return Po(),la(ha),la(fa),Xo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Mo(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)Ki(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Mo(Oo.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Jr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Or(Tr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Jr]=r,Qi(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=a({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?ke(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",e):null!=d&&x(e,s,d,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xi(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));n=Mo(Ao.current),Mo(Oo.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return la(Zo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Zo.current)?0===Zs&&(Zs=3):(0!==Zs&&3!==Zs||(Zs=4),null===Ms||0===(134217727&Vs)&&0===(134217727&zs)||yu(Ms,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(la(Zo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)is(r,!1);else{if(0!==Zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,is(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return da(Zo,1&Zo.current|2),t.child}e=e.sibling}null!==r.tail&&Ua()>Gs&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ua()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ua(),n.sibling=null,t=Zo.current,da(Zo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function us(e){switch(e.tag){case 1:ga(e.type)&&ya();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),la(ha),la(fa),Xo(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return la(Zo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return la(Zo),null;case 4:return Po(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ki=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Mo(Oo.current);var i,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(d in Ee(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===P?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Xi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ls(0,t)},n}function fs(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return ls(0,t),r(a)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ya(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(i(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Lu(n,e),Fu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ya(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(i(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ea&&"function"===typeof Ea.onCommitFiberUnmount)try{Ea.onCommitFiberUnmount(Sa,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Lu(t,n);else{r=t;try{a()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:ms(t);break;case 4:Cs(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function ks(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Es(e,n,t)}function Ss(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(bs(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,a),t=Ce(e,r),a=0;a<o.length;a+=2){var s=o[a],u=o[a+1];"style"===s?ke(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ie(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(qs=Ua(),ys(t.child,!0)),void Ns(t);case 19:return void Ns(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(i(163))}function Ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _s(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Os=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,As=0,Ms=null,Ds=null,Ps=0,Fs=0,Ls=ca(0),Zs=0,js=null,Bs=0,Vs=0,zs=0,Us=0,Ws=null,qs=0,Gs=1/0;function Hs(){Gs=Ua()+500}var Qs,Ks=null,Xs=!1,Ys=null,$s=null,Js=!1,eu=null,tu=90,nu=[],ru=[],au=null,ou=0,iu=null,su=-1,uu=0,cu=0,lu=null,du=!1;function pu(){return 0!==(48&As)?Ua():-1!==su?su:su=Ua()}function fu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wa()?1:2;if(0===uu&&(uu=Bs),0!==Xa.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wa(),0!==(4&As)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,n){if(50<ou)throw ou=0,iu=null,Error(i(185));if(null===(e=mu(e,t)))return null;Ut(e,t,n),e===Ms&&(zs|=t,4===Zs&&yu(e,Ps));var r=Wa();1===t?0!==(8&As)&&0===(48&As)?bu(e):(vu(e,n),0===As&&(Hs(),Qa())):(0===(4&As)||98!==r&&99!==r||(null===au?au=new Set([e]):au.add(e)),vu(e,n)),Ws=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Lt(c);var d=Ft;o[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Zt(e,e===Ms?Ps:0),t=Ft,0===r)null!==n&&(n!==La&&Na(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==La&&Na(n)}15===t?(n=bu.bind(null,e),null===ja?(ja=[n],Ba=Ta(Aa,Ka)):ja.push(n),n=La):14===t?n=Ha(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Ha(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(i(327));var t=e.callbackNode;if(Pu()&&e.callbackNode!==t)return null;var n=Zt(e,e===Ms?Ps:0);if(0===n)return null;var r=n,a=As;As|=16;var o=Tu();for(Ms===e&&Ps===r||(Hs(),Eu(e,r));;)try{Iu();break}catch(u){Cu(e,u)}if(no(),Os.current=o,As=a,null!==Ds?r=0:(Ms=null,Ps=0,r=Zs),0!==(Bs&zs))Eu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=jt(e))&&(r=Nu(e,n))),1===r)throw t=js,Eu(e,0),yu(e,n),vu(e,Ua()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Au(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=qs+500-Ua())){if(0!==Zt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){pu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qr(Au.bind(null,e),r);break}Au(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Ua()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=qr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(i(329))}}return vu(e,Ua()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Us,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(i(327));if(Pu(),e===Ms&&0!==(e.expiredLanes&Ps)){var t=Ps,n=Nu(e,t);0!==(Bs&zs)&&(n=Nu(e,t=Zt(e,t)))}else n=Nu(e,t=Zt(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=jt(e))&&(n=Nu(e,t))),1===n)throw n=js,Eu(e,0),yu(e,t),vu(e,Ua()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),vu(e,Ua()),null}function xu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Hs(),Qa())}}function wu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Hs(),Qa())}}function ku(e,t){da(Ls,Fs),Fs|=t,Bs|=t}function Su(){Fs=Ls.current,la(Ls)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ya();break;case 3:Po(),la(ha),la(fa),Xo();break;case 5:Lo(r);break;case 4:Po();break;case 13:case 19:la(Zo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Ms=e,Ds=Gu(e.current,null),Ps=Fs=Bs=t,Zs=0,js=null,Us=zs=Vs=0}function Cu(e,t){for(;;){var n=Ds;try{if(no(),Yo.current=Ai,ri){for(var r=ei.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ri=!1}if(Jo=0,ni=ti=ei=null,ai=!1,Rs.current=null,null===n||null===n.return){Zs=1,js=t,Ds=null;break}e:{var o=e,i=n.return,s=n,u=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Zo.current),p=i;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=p.updateQueue;if(null===v){var g=new Set;g.add(c),p.updateQueue=g}else v.add(c);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,po(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var x=Vu.bind(null,o,c,s);c.then(x,x)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);u=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Zs&&(Zs=2),u=cs(u,s),p=i;do{switch(p.tag){case 3:o=u,p.flags|=4096,t&=-t,p.lanes|=t,fo(p,ps(0,o,t));break e;case 1:o=u;var w=p.type,k=p.stateNode;if(0===(64&p.flags)&&("function"===typeof w.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===$s||!$s.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,fo(p,fs(p,o,t));break e}}p=p.return}while(null!==p)}Ru(n)}catch(S){t=S,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Os.current;return Os.current=Ai,null===e?Ai:e}function Nu(e,t){var n=As;As|=16;var r=Tu();for(Ms===e&&Ps===t||Eu(e,t);;)try{_u();break}catch(a){Cu(e,a)}if(no(),As=n,Os.current=r,null!==Ds)throw Error(i(261));return Ms=null,Ps=0,Zs}function _u(){for(;null!==Ds;)Ou(Ds)}function Iu(){for(;null!==Ds&&!_a();)Ou(Ds)}function Ou(e){var t=Qs(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Fs)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fs)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Zs&&(Zs=5)}function Au(e){var t=Wa();return Ga(99,Mu.bind(null,e,t)),null}function Mu(e,t){do{Pu()}while(null!==eu);if(0!==(48&As))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;a[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==au&&0===(24&r)&&au.has(e)&&au.delete(e),e===Ms&&(Ds=Ms=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=As,As|=32,Rs.current=null,Vr=Kt,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var d=0,p=-1,f=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(p=d+o),v!==c||0!==l&&3!==v.nodeType||(f=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++h===o&&(p=d),g===c&&++m===l&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===p||-1===f?null:{start:p,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Kt=!1,lu=null,du=!1,Ks=r;do{try{Du()}catch(T){if(null===Ks)throw Error(i(330));Bu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var x=Ks.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ks(Ks),Ks.flags&=-3;break;case 6:ks(Ks),Ks.flags&=-3,Ts(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ts(Ks.alternate,Ks);break;case 4:Ts(Ks.alternate,Ks);break;case 8:Cs(s,u=Ks);var k=u.alternate;xs(u),null!==k&&xs(k)}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(i(330));Bu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);if(w=zr,x=vr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,k=Math.min(s.start,u),s=void 0===s.end?k:Math.min(s.end,u),!w.extend&&k>s&&(u=s,s=k,k=u),u=hr(b,k),o=hr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),k>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Vr,zr=Vr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var S=Ks.flags;if(36&S&&gs(b,Ks.alternate,Ks),128&S){x=void 0;var E=Ks.ref;if(null!==E){var C=Ks.stateNode;Ks.tag,x=C,"function"===typeof E?E(x):E.current=x}}Ks=Ks.nextEffect}}catch(T){if(null===Ks)throw Error(i(330));Bu(Ks,T),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Za(),As=a}else e.current=n;if(Js)Js=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===iu?ou++:(ou=0,iu=e):ou=0,n=n.stateNode,Ea&&"function"===typeof Ea.onCommitFiberRoot)try{Ea.onCommitFiberRoot(Sa,n,void 0,64===(64&n.current.flags))}catch(T){}if(vu(e,Ua()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&As)||Qa(),null}function Du(){for(;null!==Ks;){var e=Ks.alternate;du||null===lu||(0!==(8&Ks.flags)?et(Ks,lu)&&(du=!0):13===Ks.tag&&_s(e,Ks)&&et(Ks,lu)&&(du=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Js||(Js=!0,Ha(97,(function(){return Pu(),null}))),Ks=Ks.nextEffect}}function Pu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ga(e,Zu)}return!1}function Fu(e,t){nu.push(t,e),Js||(Js=!0,Ha(97,(function(){return Pu(),null})))}function Lu(e,t){ru.push(t,e),Js||(Js=!0,Ha(97,(function(){return Pu(),null})))}function Zu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(i(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var a=n[r],o=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(i(330));Bu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){a=n[r],o=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===o)throw Error(i(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Qa(),!0}function ju(e,t,n){po(e,t=ps(0,t=cs(n,t),1)),t=pu(),null!==(e=mu(e,1))&&(Ut(e,1,t),vu(e,t))}function Bu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var a=fs(n,e=cs(t,e),1);if(po(n,a),a=pu(),null!==(n=mu(n,1)))Ut(n,1,a),vu(n,a);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pu(),e.pingedLanes|=e.suspendedLanes&n,Ms===e&&(Ps&n)===n&&(4===Zs||3===Zs&&(62914560&Ps)===Ps&&500>Ua()-qs?Eu(e,0):Us|=n),vu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wa()?1:2:(0===uu&&(uu=Bs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=pu(),null!==(e=mu(e,t))&&(Ut(e,t,n),vu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Uu(e,t,n,r)}function qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)qu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,a,o,t);case F:s=8,a|=16;break;case C:s=8,a|=1;break;case T:return(e=Wu(12,n,t,8|a)).elementType=T,e.type=T,e.lanes=o,e;case O:return(e=Wu(13,n,t,a)).type=O,e.elementType=O,e.lanes=o,e;case R:return(e=Wu(19,n,t,a)).elementType=R,e.lanes=o,e;case L:return Ku(n,a,o,t);case Z:return(e=Wu(24,n,t,a)).elementType=Z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case _:s=9;break e;case I:s=11;break e;case A:s=14;break e;case M:s=16,r=null;break e;case D:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=L,e.lanes=n,e}function Xu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Ju(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var a=t.current,o=pu(),s=fu(a);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ga(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(i(171))}if(1===n.tag){var c=n.type;if(ga(c)){n=xa(n,c,u);break e}}n=u}else n=pa;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(a,t),hu(a,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ac(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ea]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=tc(i);s.call(e)}}ec(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ac(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"===typeof a){var u=a;a=function(){var e=tc(i);u.call(e)}}wu((function(){ec(t,i,e,a)}))}return tc(i)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(i(200));return Ju(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ha.current)Li=!0;else{if(0===(n&r)){switch(Li=!1,t.tag){case 3:Hi(t),Qo();break;case 5:Fo(t);break;case 1:ga(t.type)&&wa(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;da($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$i(e,t,n):(da(Zo,1&Zo.current),null!==(t=os(e,t,n))?t.sibling:null);da(Zo,1&Zo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return as(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),da(Zo,Zo.current),r)break;return null;case 23:case 24:return t.lanes=0,zi(e,t,n)}return os(e,t,n)}Li=0!==(16384&e.flags)}else Li=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=va(t,fa.current),oo(t,n),a=si(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ga(r)){var o=!0;wa(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),a.updater=yo,t.stateNode=a,a._reactInternals=t,ko(t,r,e,n),t=Gi(null,t,r,!0,o,n)}else t.tag=0,Zi(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"===typeof e)return qu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(a),e=Ya(a,e),o){case 0:t=Wi(null,t,a,e,n);break e;case 1:t=qi(null,t,a,e,n);break e;case 11:t=ji(null,t,a,e,n);break e;case 14:t=Bi(null,t,a,Ya(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Wi(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 1:return r=t.type,a=t.pendingProps,qi(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 3:if(Hi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,co(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===a)Qo(),t=os(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(Vo=Qr(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],Ko.push(o);for(n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Zi(e,t,r,n),Qo();t=t.child}return t;case 5:return Fo(t),null===e&&qo(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Wr(r,a)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Ui(e,t),Zi(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return $i(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):Zi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ji(e,t,r,a=t.elementType===r?a:Ya(r,a),n);case 7:return Zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var u=t.type._context;if(da($a,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===a.children&&!ha.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,po(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ao(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Zi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(a=io(a,o.unstable_observedBits)),t.flags|=1,Zi(e,t,r,n),t.child;case 14:return o=Ya(a=t.type,t.pendingProps),Bi(e,t,a,o=Ya(a.type,o),r,n);case 15:return Vi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ya(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ga(r)?(e=!0,wa(t)):e=!1,oo(t,n),xo(t,r,a),ko(t,r,a,n),Gi(null,t,r,!0,e,n);case 19:return as(e,t,n);case 23:case 24:return zi(e,t,n)}throw Error(i(156,t.tag))},ac.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(hu(e,4,pu()),rc(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,pu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=pu(),n=fu(e);hu(e,n,t),rc(e,n)}},at=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=oa(r);if(!a)throw Error(i(90));Y(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Me=xu,De=function(e,t,n,r,a){var o=As;As|=4;try{return Ga(98,e.bind(null,t,n,r,a))}finally{0===(As=o)&&(Hs(),Qa())}},Pe=function(){0===(49&As)&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ua())}))}Qa()}(),Pu())},Fe=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Hs(),Qa())}};var uc={Events:[ra,aa,oa,Re,Ae,Pu,{current:!1}]},cc={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Sa=dc.inject(lc),Ea=dc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Ga(99,e.bind(null,t))}finally{As=n,Qa()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(i(200));return ic(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(i(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(i(40));return!!e._reactRootContainer&&(wu((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ic(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case i:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case u:return e;default:return t}}case a:return t}}}function k(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===i||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},7441:function(e,t,n){"use strict";e.exports=n(1372)},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;s()?e.hasUserMedia||this.requestUserMedia():t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),a=e.minScreenshotWidth!==t.minScreenshotWidth,o=e.minScreenshotHeight!==t.minScreenshotHeight;(r||a||o)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,a=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=r/a;a=(r=n.minScreenshotWidth||this.video.clientWidth)/o,n.minScreenshotHeight&&a<n.minScreenshotHeight&&(r=(a=n.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||a,this.ctx=this.canvas.getContext("2d")}var i=this.ctx,s=this.canvas;return i&&s&&(n.mirrored&&(i.translate(s.width,0),i.scale(-1,1)),i.imageSmoothingEnabled=n.imageSmoothing,i.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(i.scale(-1,1),i.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,a){var o={video:"undefined"===typeof a||a};n.audio&&(o.audio="undefined"===typeof r||r),navigator.mediaDevices.getUserMedia(o).then((function(n){e.unmounted?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,i=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(i=e.id)}));var s=o(n.audioConstraints);s&&(t=s);var u=o(n.videoConstraints);u&&(i=u),r(a(t),a(i))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,a=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=i(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),d=s?o(o({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c;return r.createElement("video",o({autoPlay:!0,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:d},l))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(2791))},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:o,_owner:i.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return i=i(u=e),e=""===r?"."+T(u,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),N(i,t,n,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=N(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,n,l=r+T(s,c++),i);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function _(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function R(){var e=O.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),i=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!k.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),i=new _(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==n&&r.call(w,o)&&(b=w);var k=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,s){var u=l(e[a],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=y,u(k,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(k),u(k,s,"Generator"),u(k,o,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},r=function(e,n){g=p((function(){e(t.unstable_now())}),n)},a=function(){f(g),g=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<C(a,t)))break e;e[r]=t,e[n]=a,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,u=e[s];if(void 0!==i&&0>C(i,n))void 0!==u&&0>C(u,i)?(e[r]=u,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],N=[],_=1,I=null,O=3,R=!1,A=!1,M=!1;function D(e){for(var t=S(N);null!==t;){if(null===t.callback)E(N);else{if(!(t.startTime<=e))break;E(N),t.sortIndex=t.expirationTime,k(T,t)}t=S(N)}}function P(e){if(M=!1,D(e),!A)if(null!==S(T))A=!0,n(F);else{var t=S(N);null!==t&&r(P,t.startTime-e)}}function F(e,n){A=!1,M&&(M=!1,a()),R=!0;var o=O;try{for(D(n),I=S(T);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=I.callback;if("function"===typeof i){I.callback=null,O=I.priorityLevel;var s=i(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===S(T)&&E(T),D(n)}else E(T);I=S(T)}if(null!==I)var u=!0;else{var c=S(N);null!==c&&r(P,c.startTime-n),u=!1}return u}finally{I=null,O=o,R=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:_++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>s?(e.sortIndex=i,k(N,e),null===S(T)&&e===S(N)&&(M?a():M=!0,r(P,i-s))):(e.sortIndex=u,k(T,e),A||R||(A=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),o=n(2132),i=n(890),s=n(4113),u=n(1350),c=n(3411);c.alea=r,c.xor128=a,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=u,e.exports=c},2501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},1350:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,o){var i,s=this,u=256,c=o.pow(u,6),l=o.pow(2,52),d=2*l,p=255;function f(e,t,n){var r=[],p=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(a)]}}():e,3),r),f=new h(r),b=function(){for(var e=f.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|f.g(4)},b.quick=function(){return f.g(4)/4294967296},b.double=b,g(y(f.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*u+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,g(o.random(),a),e.exports){e.exports=f;try{i=n(5042)}catch(b){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}([],Math)},7915:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionClient=void 0;var s="undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:{},u=s.WebSocket||s.MozWebSocket,c=n(8077),l=n(8427),d=n(538),p=n(9922),f=n(4197),h=n(9608),m=n(1451),v=n(7517),g=n(3190),y=n(3301),b=function(){function e(e,t,n,r){var a=t||{},o=a.connectionCallback,i=void 0===o?void 0:o,s=a.connectionParams,d=void 0===s?{}:s,p=a.minTimeout,f=void 0===p?g.MIN_WS_TIMEOUT:p,h=a.timeout,m=void 0===h?g.WS_TIMEOUT:h,y=a.reconnect,b=void 0!==y&&y,x=a.reconnectionAttempts,w=void 0===x?1/0:x,k=a.lazy,S=void 0!==k&&k,E=a.inactivityTimeout,C=void 0===E?0:E,T=a.wsOptionArguments,N=void 0===T?[]:T;if(this.wsImpl=n||u,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=r||v.GRAPHQL_WS,this.connectionCallback=i,this.url=e,this.operations={},this.nextOperationId=0,this.minWsTimeout=f,this.wsTimeout=m,this.unsentMessagesQueue=[],this.reconnect=b,this.reconnecting=!1,this.reconnectionAttempts=w,this.lazy=!!S,this.inactivityTimeout=C,this.closedByUser=!1,this.backoff=new c({jitter:.5}),this.eventEmitter=new l.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(d),this.wsOptionArguments=N,this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!1,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,y.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client.onopen=null,this.client.onclose=null,this.client.onerror=null,this.client.onmessage=null,this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,n,r=this.getObserver.bind(this),a=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[m.default]=function(){return this},t.subscribe=function(t,i,s){var u=r(t,i,s);return n=a(e,(function(e,t){null===e&&null===t?u.complete&&u.complete():e?u.error&&u.error(e[0]):u.next&&u.next(t)})),{unsubscribe:function(){n&&(o(n),n=null)}}},t},e.prototype.on=function(e,t,n){var r=this.eventEmitter.on(e,t,n);return function(){r.off(e,t,n)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach((function(t){e.unsubscribe(t)}))},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise((function(n,r){var a,o;a=i([],t.middlewares,!0),o=t,function t(i){if(i)r(i);else if(a.length>0){var s=a.shift();s&&s.applyMiddleware.apply(o,[e,t])}else n(e)}()}))},e.prototype.use=function(e){var t=this;return e.map((function(e){if("function"!==typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)})),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise((function(t,n){if("function"===typeof e)try{return t(e.call(null))}catch(r){return n(r)}t(e)}))}},e.prototype.executeOperation=function(e,t){var n=this;null===this.client&&this.connect();var r=this.generateOperationId();return this.operations[r]={options:e,handler:t},this.applyMiddlewares(e).then((function(e){n.checkOperationOptions(e,t),n.operations[r]&&(n.operations[r]={options:e,handler:t},n.sendMessage(r,y.default.GQL_START,e))})).catch((function(e){n.unsubscribe(r),t(n.formatErrors(e))})),r},e.prototype.getObserver=function(e,t,n){return"function"===typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return n&&n()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.minWsTimeout,t=this.wsTimeout;return new c({min:e,max:t,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout((function(){0===Object.keys(e.operations).length&&e.close()}),this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var n=e.query,r=e.variables,a=e.operationName;if(!n)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!(0,d.default)(n)&&!(0,h.getOperationAST)(n,a)||a&&!(0,d.default)(a)||r&&!(0,p.default)(r))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?r(r({},n),{query:"string"===typeof n.query?n.query:(0,f.print)(n.query)}):n}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,n){this.sendMessageRaw(this.buildMessage(e,t,n))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(n){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach((function(t){e.unsentMessagesQueue.push(e.buildMessage(t,y.default.GQL_START,e.operations[t].options))})),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout((function(){e.connect()}),t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach((function(t){e.sendMessageRaw(t)})),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout((function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))}),this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e,t=this;this.client=new((e=this.wsImpl).bind.apply(e,i([void 0,this.url,this.wsProtocols],this.wsOptionArguments,!1))),this.checkMaxConnectTimeout(),this.client.onopen=function(){return a(t,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=n.sent(),this.sendMessage(void 0,y.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=n.sent(),this.sendMessage(void 0,y.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}}))}))},this.client.onclose=function(){t.closedByUser||t.close(!1,!1)},this.client.onerror=function(e){t.eventEmitter.emit("error",e)},this.client.onmessage=function(e){var n=e.data;t.processReceivedData(n)}},e.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(s){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[y.default.GQL_DATA,y.default.GQL_COMPLETE,y.default.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case y.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case y.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected",t.payload),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case y.default.GQL_COMPLETE:var a=this.operations[n].handler;delete this.operations[n],a.call(this,null,null);break;case y.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case y.default.GQL_DATA:var o=t.payload.errors?r(r({},t.payload),{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,o);break;case y.default.GQL_CONNECTION_KEEP_ALIVE:var i="undefined"===typeof this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,i&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,y.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=b},3190:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WS_TIMEOUT=t.MIN_WS_TIMEOUT=void 0;t.MIN_WS_TIMEOUT=1e3;t.WS_TIMEOUT=3e4},3301:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=n},7517:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPHQL_SUBSCRIPTIONS=t.GRAPHQL_WS=void 0;t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},9922:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e&&"object"===typeof e}},538:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},8427:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,o||e,i),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,i=new Array(o);a<o;a++)i[a]=r[a].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,o,i){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,a),!0;case 5:return l.fn.call(l.context,t,r,a,o),!0;case 6:return l.fn.call(l.context,t,r,a,o,i),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var p,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,a);break;default:if(!u)for(p=1,u=new Array(d-1);p<d;p++)u[p-1]=arguments[p];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||i(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||a&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},1451:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}}),e=n.hmd(e);var r=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:e)},2343:function(e,t,n){"use strict";e.exports=n.p+"static/media/Flappy_Bird_icon.5fca4b592e71321e88bb.png"},4296:function(e,t,n){"use strict";e.exports=n.p+"static/media/Rock_Paper_Scissors_icon.73973c389552d9b1ac4f.png"},176:function(e,t,n){"use strict";e.exports=n.p+"static/media/fingerexer.bcd9288a89a49df94683.jpg"},2357:function(e,t,n){"use strict";e.exports=n.p+"static/media/five.d0d5d9923fe0a619e1c2.png"},2598:function(e,t,n){"use strict";e.exports=n.p+"static/media/four.cad5e87742a00338d80e.png"},3507:function(e,t,n){"use strict";e.exports=n.p+"static/media/mora_pose.f905dd972c62ed2530bd.png"},4929:function(e,t,n){"use strict";e.exports=n.p+"static/media/one.5464940a47444e7beecd.png"},7308:function(e,t,n){"use strict";e.exports=n.p+"static/media/pose-detect.b1b60f16de26f3e0873b.png"},1395:function(e,t,n){"use strict";e.exports=n.p+"static/media/sample.2ba39fbaa7cc88de2032.png"},7063:function(e,t,n){"use strict";e.exports=n.p+"static/media/sample_paper.be92e2ab226e09d19389.jpg"},5006:function(e,t,n){"use strict";e.exports=n.p+"static/media/sample_rock.ac5a9ef9891d6befb872.jpg"},4579:function(e,t,n){"use strict";e.exports=n.p+"static/media/sample_scissor.2e2749880c74843048db.jpg"},9198:function(e,t,n){"use strict";e.exports=n.p+"static/media/three.4841acc597886b5b5bc9.png"},4051:function(e,t,n){"use strict";e.exports=n.p+"static/media/two.9ad08e41582b9d51bb49.png"},7838:function(e,t,n){"use strict";e.exports=n.p+"static/media/zero.d25eccc46f96e9d5c1f0.png"},5410:function(){},8628:function(){},5042:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3878);var a=n(181),o=n(5267);function i(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);var a=n(9199),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},3943:function(e,t,n){"use strict";function r(e,t){if(!Boolean(e))throw new Error(t)}n.d(t,{a:function(){return r}})},7173:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(9439),a=n(3433);function o(e){return i(e,[])}function i(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";var n=[].concat((0,a.Z)(t),[e]);if(function(e){return"function"===typeof e.toJSON}(e)){var o=e.toJSON();if(o!==e)return"string"===typeof o?o:i(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,a=[],o=0;o<n;++o)a.push(i(e[o],t));1===r?a.push("... 1 more item"):r>1&&a.push("... ".concat(r," more items"));return"["+a.join(", ")+"]"}(e,n);return function(e,t){var n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var a=n.map((function(e){var n=(0,r.Z)(e,2);return n[0]+": "+i(n[1],t)}));return"{ "+a.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},365:function(e,t,n){"use strict";n.d(t,{Ye:function(){return i},WU:function(){return s},h8:function(){return u},UG:function(){return l},ku:function(){return r}});var r,a=n(5671),o=n(3144),i=function(e){function t(e,n,r){(0,a.Z)(this,t),this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}return(0,o.Z)(t,[{key:e,get:function(){return"Location"}},{key:"toJSON",value:function(){return{start:this.start,end:this.end}}}]),t}(Symbol.toStringTag),s=function(e){function t(e,n,r,o,i,s){(0,a.Z)(this,t),this.kind=e,this.start=n,this.end=r,this.line=o,this.column=i,this.value=s,this.prev=null,this.next=null}return(0,o.Z)(t,[{key:e,get:function(){return"Token"}},{key:"toJSON",value:function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}]),t}(Symbol.toStringTag),u={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},c=new Set(Object.keys(u));function l(e){var t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&c.has(t)}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(r||(r={}))},7810:function(e,t,n){"use strict";n.d(t,{wv:function(){return a},LZ:function(){return i}});var r=n(610);function a(e){for(var t,n=Number.MAX_SAFE_INTEGER,r=null,a=-1,i=0;i<e.length;++i){var s,u=e[i],c=o(u);c!==u.length&&(r=null!==(s=r)&&void 0!==s?s:i,a=i,0!==i&&c<n&&(n=c))}return e.map((function(e,t){return 0===t?e:e.slice(n)})).slice(null!==(t=r)&&void 0!==t?t:0,a+1)}function o(e){for(var t=0;t<e.length&&(0,r.FD)(e.charCodeAt(t));)++t;return t}function i(e,t){var n=e.replace(/"""/g,'\\"""'),a=n.split(/\r\n|[\n\r]/g),o=1===a.length,i=a.length>1&&a.slice(1).every((function(e){return 0===e.length||(0,r.FD)(e.charCodeAt(0))})),s=n.endsWith('\\"""'),u=e.endsWith('"')&&!s,c=e.endsWith("\\"),l=u||c,d=!(null!==t&&void 0!==t&&t.minimize)&&(!o||e.length>70||l||i||s),p="",f=o&&(0,r.FD)(e.charCodeAt(0));return(d&&!f||i)&&(p+="\n"),p+=n,(d||l)&&(p+="\n"),'"""'+p+'"""'}},610:function(e,t,n){"use strict";function r(e){return 9===e||32===e}function a(e){return e>=48&&e<=57}function o(e){return e>=97&&e<=122||e>=65&&e<=90}function i(e){return o(e)||95===e}function s(e){return o(e)||a(e)||95===e}n.d(t,{FD:function(){return r},X1:function(){return a},LQ:function(){return i},HQ:function(){return s}})},3208:function(e,t,n){"use strict";var r;n.d(t,{h:function(){return r}}),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(r||(r={}))},4197:function(e,t,n){"use strict";n.r(t),n.d(t,{print:function(){return u}});var r=n(344),a=n(7810);var o=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function i(e){return s[e.charCodeAt(0)]}var s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function u(e){return(0,r.Vn)(e,c)}var c={Name:{leave:function(e){return e.value}},Variable:{leave:function(e){return"$"+e.name}},Document:{leave:function(e){return l(e.definitions,"\n\n")}},OperationDefinition:{leave:function(e){var t=p("(",l(e.variableDefinitions,", "),")"),n=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:function(e){var t=e.variable,n=e.type,r=e.defaultValue,a=e.directives;return t+": "+n+p(" = ",r)+p(" ",l(a," "))}},SelectionSet:{leave:function(e){return d(e.selections)}},Field:{leave:function(e){var t=e.alias,n=e.name,r=e.arguments,a=e.directives,o=e.selectionSet,i=p("",t,": ")+n,s=i+p("(",l(r,", "),")");return s.length>80&&(s=i+p("(\n",f(l(r,"\n")),"\n)")),l([s,l(a," "),o]," ")}},Argument:{leave:function(e){return e.name+": "+e.value}},FragmentSpread:{leave:function(e){return"..."+e.name+p(" ",l(e.directives," "))}},InlineFragment:{leave:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return l(["...",p("on ",t),l(n," "),r]," ")}},FragmentDefinition:{leave:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,a=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(p("(",l(r,", "),")")," ")+"on ".concat(n," ").concat(p("",l(a," ")," "))+o}},IntValue:{leave:function(e){return e.value}},FloatValue:{leave:function(e){return e.value}},StringValue:{leave:function(e){var t=e.value;return e.block?(0,a.LZ)(t):'"'.concat(t.replace(o,i),'"')}},BooleanValue:{leave:function(e){return e.value?"true":"false"}},NullValue:{leave:function(){return"null"}},EnumValue:{leave:function(e){return e.value}},ListValue:{leave:function(e){return"["+l(e.values,", ")+"]"}},ObjectValue:{leave:function(e){return"{"+l(e.fields,", ")+"}"}},ObjectField:{leave:function(e){return e.name+": "+e.value}},Directive:{leave:function(e){return"@"+e.name+p("(",l(e.arguments,", "),")")}},NamedType:{leave:function(e){return e.name}},ListType:{leave:function(e){return"["+e.type+"]"}},NonNullType:{leave:function(e){return e.type+"!"}},SchemaDefinition:{leave:function(e){var t=e.description,n=e.directives,r=e.operationTypes;return p("",t,"\n")+l(["schema",l(n," "),d(r)]," ")}},OperationTypeDefinition:{leave:function(e){return e.operation+": "+e.type}},ScalarTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return p("",t,"\n")+l(["scalar",n,l(r," ")]," ")}},ObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,a=e.directives,o=e.fields;return p("",t,"\n")+l(["type",n,p("implements ",l(r," & ")),l(a," "),d(o)]," ")}},FieldDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,a=e.type,o=e.directives;return p("",t,"\n")+n+(h(r)?p("(\n",f(l(r,"\n")),"\n)"):p("(",l(r,", "),")"))+": "+a+p(" ",l(o," "))}},InputValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.type,a=e.defaultValue,o=e.directives;return p("",t,"\n")+l([n+": "+r,p("= ",a),l(o," ")]," ")}},InterfaceTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,a=e.directives,o=e.fields;return p("",t,"\n")+l(["interface",n,p("implements ",l(r," & ")),l(a," "),d(o)]," ")}},UnionTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,a=e.types;return p("",t,"\n")+l(["union",n,l(r," "),p("= ",l(a," | "))]," ")}},EnumTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,a=e.values;return p("",t,"\n")+l(["enum",n,l(r," "),d(a)]," ")}},EnumValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return p("",t,"\n")+l([n,l(r," ")]," ")}},InputObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,a=e.fields;return p("",t,"\n")+l(["input",n,l(r," "),d(a)]," ")}},DirectiveDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,a=e.repeatable,o=e.locations;return p("",t,"\n")+"directive @"+n+(h(r)?p("(\n",f(l(r,"\n")),"\n)"):p("(",l(r,", "),")"))+(a?" repeatable":"")+" on "+l(o," | ")}},SchemaExtension:{leave:function(e){var t=e.directives,n=e.operationTypes;return l(["extend schema",l(t," "),d(n)]," ")}},ScalarTypeExtension:{leave:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")}},ObjectTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,a=e.fields;return l(["extend type",t,p("implements ",l(n," & ")),l(r," "),d(a)]," ")}},InterfaceTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,a=e.fields;return l(["extend interface",t,p("implements ",l(n," & ")),l(r," "),d(a)]," ")}},UnionTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.types;return l(["extend union",t,l(n," "),p("= ",l(r," | "))]," ")}},EnumTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.values;return l(["extend enum",t,l(n," "),d(r)]," ")}},InputObjectTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.fields;return l(["extend input",t,l(n," "),d(r)]," ")}}};function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function d(e){return p("{\n",f(l(e,"\n")),"\n}")}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function f(e){return p("  ",e.replace(/\n/g,"\n  "))}function h(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((function(e){return e.includes("\n")})))&&void 0!==t&&t}},344:function(e,t,n){"use strict";n.d(t,{$_:function(){return c},Vn:function(){return l}});var r=n(9439),a=n(7762),o=n(7173),i=n(3943),s=n(365),u=n(3208),c=Object.freeze({});function l(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.h8,l=new Map,p=0,f=Object.values(u.h);p<f.length;p++){var h=f[p];l.set(h,d(t,h))}var m=void 0,v=Array.isArray(e),g=[e],y=-1,b=[],x=void 0,w=void 0,k=void 0,S=[],E=[],C=e;do{var T=++y===g.length,N=T&&0!==b.length;if(T){if(w=0===E.length?void 0:S[S.length-1],x=k,k=E.pop(),N)if(v){x=x.slice();var _,I=0,O=(0,a.Z)(b);try{for(O.s();!(_=O.n()).done;){var R=(0,r.Z)(_.value,2),A=R[0],M=R[1],D=A-I;null===M?(x.splice(D,1),I++):x[D]=M}}catch(q){O.e(q)}finally{O.f()}}else{x=Object.defineProperties({},Object.getOwnPropertyDescriptors(x));var P,F=(0,a.Z)(b);try{for(F.s();!(P=F.n()).done;){var L=(0,r.Z)(P.value,2),Z=L[0],j=L[1];x[Z]=j}}catch(q){F.e(q)}finally{F.f()}}y=m.index,g=m.keys,b=m.edits,v=m.inArray,m=m.prev}else{if(w=k?v?y:g[y]:void 0,null===(x=k?k[w]:C)||void 0===x)continue;k&&S.push(w)}var B,V=void 0;if(!Array.isArray(x)){var z,U;(0,s.UG)(x)||(0,i.a)(!1,"Invalid AST Node: ".concat((0,o.X)(x),"."));var W=T?null===(z=l.get(x.kind))||void 0===z?void 0:z.leave:null===(U=l.get(x.kind))||void 0===U?void 0:U.enter;if((V=null===W||void 0===W?void 0:W.call(t,x,w,k,S,E))===c)break;if(!1===V){if(!T){S.pop();continue}}else if(void 0!==V&&(b.push([w,V]),!T)){if(!(0,s.UG)(V)){S.pop();continue}x=V}}if(void 0===V&&N&&b.push([w,x]),T)S.pop();else m={inArray:v,index:y,keys:g,edits:b,prev:m},g=(v=Array.isArray(x))?x:null!==(B=n[x.kind])&&void 0!==B?B:[],y=-1,b=[],k&&E.push(k),k=x}while(void 0!==m);return 0!==b.length&&(C=b[b.length-1][1]),C}function d(e,t){var n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}},9608:function(e,t,n){"use strict";n.r(t),n.d(t,{getOperationAST:function(){return o}});var r=n(7762),a=n(3208);function o(e,t){var n,o=null,i=(0,r.Z)(e.definitions);try{for(i.s();!(n=i.n()).done;){var s,u=n.value;if(u.kind===a.h.OPERATION_DEFINITION)if(null==t){if(o)return null;o=u}else if((null===(s=u.name)||void 0===s?void 0:s.value)===t)return u}}catch(c){i.e(c)}finally{i.f()}return o}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".774729bc.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="frontend:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/cvgame/",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),s=new Error;n.l(i,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,o,i=r[0],s=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)u(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{conv2d:function(){return HN},depthwiseConv2d:function(){return XN},matMul:function(){return YN}});var t={};n.r(t),n.d(t,{json:function(){return zI}});var r={};n.r(r),n.d(r,{json:function(){return UI}});var a={};n.r(a),n.d(a,{json:function(){return WI}});var o={};n.r(o),n.d(o,{json:function(){return qI}});var i={};n.r(i),n.d(i,{json:function(){return GI}});var s={};n.r(s),n.d(s,{json:function(){return HI}});var u={};n.r(u),n.d(u,{json:function(){return QI}});var c={};n.r(c),n.d(c,{json:function(){return KI}});var l={};n.r(l),n.d(l,{json:function(){return XI}});var d={};n.r(d),n.d(d,{json:function(){return YI}});var p={};n.r(p),n.d(p,{json:function(){return $I}});var f={};n.r(f),n.d(f,{json:function(){return JI}});var h={};n.r(h),n.d(h,{json:function(){return eO}});var m={};n.r(m),n.d(m,{json:function(){return tO}});var v={};n.r(v),n.d(v,{json:function(){return nO}});var g={};n.r(g),n.d(g,{json:function(){return rO}});var y={};n.r(y),n.d(y,{json:function(){return aO}});var b={};n.r(b),n.d(b,{json:function(){return oO}});var x={};n.r(x),n.d(x,{json:function(){return iO}});var w={};n.r(w),n.d(w,{OP_SCOPE_SUFFIX:function(){return mk},abs:function(){return MS},acos:function(){return DS},acosh:function(){return PS},add:function(){return FS},addN:function(){return LS},all:function(){return ZS},any:function(){return jS},argMax:function(){return BS},argMin:function(){return VS},asin:function(){return zS},asinh:function(){return US},atan:function(){return WS},atan2:function(){return qS},atanh:function(){return GS},avgPool:function(){return cE},avgPool3d:function(){return lE},basicLSTMCell:function(){return gE},batchNorm:function(){return bE},batchNorm2d:function(){return xE},batchNorm3d:function(){return wE},batchNorm4d:function(){return kE},batchToSpaceND:function(){return yE},bincount:function(){return SE},booleanMaskAsync:function(){return TN},broadcastArgs:function(){return EE},broadcastTo:function(){return CE},buffer:function(){return iS},cast:function(){return sS},ceil:function(){return TE},clipByValue:function(){return NE},clone:function(){return uS},complex:function(){return gk},concat:function(){return dE},concat1d:function(){return _E},concat2d:function(){return IE},concat3d:function(){return OE},concat4d:function(){return RE},conv1d:function(){return ME},conv2d:function(){return AE},conv2dTranspose:function(){return PE},conv3d:function(){return FE},conv3dTranspose:function(){return ZE},cos:function(){return jE},cosh:function(){return BE},cosineWindow:function(){return jN},cumsum:function(){return VE},denseBincount:function(){return zE},depthToSpace:function(){return UE},depthwiseConv2d:function(){return WE},diag:function(){return qE},dilation2d:function(){return GE},div:function(){return QE},divNoNan:function(){return $E},dot:function(){return JE},dropout:function(){return LN},einsum:function(){return eC},elu:function(){return tC},enclosingPowerOfTwo:function(){return ZN},equal:function(){return KE},erf:function(){return nC},exp:function(){return rC},expandDims:function(){return aC},expm1:function(){return oC},eye:function(){return sC},fft:function(){return JT},fill:function(){return uC},floor:function(){return cC},floorDiv:function(){return HE},fused:function(){return e},gather:function(){return lC},gatherND:function(){return FN},greater:function(){return dC},greaterEqual:function(){return pC},ifft:function(){return eN},imag:function(){return fC},image:function(){return dI},inTopKAsync:function(){return VN},irfft:function(){return tN},isFinite:function(){return hC},isInf:function(){return mC},isNaN:function(){return vC},leakyRelu:function(){return gC},less:function(){return yC},lessEqual:function(){return bC},linalg:function(){return pI},linspace:function(){return xC},localResponseNormalization:function(){return wC},log:function(){return kC},log1p:function(){return SC},logSigmoid:function(){return NC},logSoftmax:function(){return RC},logSumExp:function(){return jC},logicalAnd:function(){return BC},logicalNot:function(){return VC},logicalOr:function(){return zC},logicalXor:function(){return UC},losses:function(){return fI},matMul:function(){return pE},max:function(){return _C},maxPool:function(){return WC},maxPool3d:function(){return qC},maxPoolWithArgmax:function(){return GC},maximum:function(){return HC},mean:function(){return QC},meshgrid:function(){return YC},min:function(){return $C},minimum:function(){return JC},mirrorPad:function(){return eT},mod:function(){return tT},moments:function(){return rT},movingAverage:function(){return ON},mul:function(){return fE},multiRNNCell:function(){return aT},multinomial:function(){return oT},neg:function(){return CC},norm:function(){return IN},notEqual:function(){return iT},oneHot:function(){return sT},ones:function(){return XC},onesLike:function(){return uT},op:function(){return vk},outerProduct:function(){return cT},pad:function(){return lT},pad1d:function(){return dT},pad2d:function(){return pT},pad3d:function(){return fT},pad4d:function(){return hT},pool:function(){return vT},pow:function(){return gT},prelu:function(){return yT},print:function(){return cS},prod:function(){return bT},rand:function(){return xT},randomGamma:function(){return CT},randomNormal:function(){return TT},randomUniform:function(){return NT},range:function(){return _T},real:function(){return IT},reciprocal:function(){return OT},relu:function(){return RT},relu6:function(){return AT},reshape:function(){return uE},reverse:function(){return MT},reverse1d:function(){return DT},reverse2d:function(){return PT},reverse3d:function(){return FT},reverse4d:function(){return LT},rfft:function(){return rN},round:function(){return ZT},rsqrt:function(){return jT},scalar:function(){return BT},scatterND:function(){return MN},selu:function(){return VT},separableConv2d:function(){return zT},setdiff1dAsync:function(){return WT},sigmoid:function(){return hE},sign:function(){return qT},signal:function(){return lI},sin:function(){return GT},sinh:function(){return HT},slice:function(){return mE},slice1d:function(){return QT},slice2d:function(){return KT},slice3d:function(){return XT},slice4d:function(){return YT},softmax:function(){return $T},softplus:function(){return TC},spaceToBatchND:function(){return mT},sparse:function(){return hI},sparseToDense:function(){return PN},spectral:function(){return cI},split:function(){return nN},sqrt:function(){return aN},square:function(){return nT},squaredDifference:function(){return oN},squeeze:function(){return iN},stack:function(){return sN},step:function(){return uN},stridedSlice:function(){return cN},string:function(){return mI},sub:function(){return IC},sum:function(){return OC},tan:function(){return lN},tanh:function(){return vE},tensor:function(){return bk},tensor1d:function(){return dN},tensor2d:function(){return pN},tensor3d:function(){return ES},tensor4d:function(){return fN},tensor5d:function(){return hN},tensor6d:function(){return mN},tile:function(){return iC},topk:function(){return vN},transpose:function(){return NN},truncatedNormal:function(){return gN},unique:function(){return yN},unsortedSegmentSum:function(){return bN},unstack:function(){return xN},variable:function(){return wN},where:function(){return XE},whereAsync:function(){return EN},zeros:function(){return KC},zerosLike:function(){return YE}});var k=n(2791),S=n(4164),E=n(9439),C=n(4942);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=n(3366);var I,O=n(7462),R=I||(I={});R.Pop="POP",R.Push="PUSH",R.Replace="REPLACE";var A=function(e){return e};function M(e){e.preventDefault(),e.returnValue=""}function D(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function P(){return Math.random().toString(36).substr(2,8)}function F(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function L(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Z(e,t){if(!e)throw new Error(t)}var j=(0,k.createContext)(null);var B=(0,k.createContext)(null);var V=(0,k.createContext)({outlet:null,matches:[]});function z(e){var t=e.to,n=e.replace,r=e.state;H()||Z(!1);var a=K();return(0,k.useEffect)((function(){a(t,{replace:n,state:r})})),null}function U(e){return function(e){var t=(0,k.useContext)(V).outlet;if(t)return(0,k.createElement)(X.Provider,{value:e},t);return t}(e.context)}function W(e){Z(!1)}function q(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,o=e.location,i=e.navigationType,s=void 0===i?I.Pop:i,u=e.navigator,c=e.static,l=void 0!==c&&c;H()&&Z(!1);var d=ue(n),p=(0,k.useMemo)((function(){return{basename:d,navigator:u,static:l}}),[d,u,l]);"string"===typeof o&&(o=L(o));var f=o,h=f.pathname,m=void 0===h?"/":h,v=f.search,g=void 0===v?"":v,y=f.hash,b=void 0===y?"":y,x=f.state,w=void 0===x?null:x,S=f.key,E=void 0===S?"default":S,C=(0,k.useMemo)((function(){var e=ie(m,d);return null==e?null:{pathname:e,search:g,hash:b,state:w,key:E}}),[d,m,g,b,w,E]);return null==C?null:(0,k.createElement)(j.Provider,{value:p},(0,k.createElement)(B.Provider,{children:a,value:{location:C,navigationType:s}}))}function G(e){var t=e.children,n=e.location;return function(e,t){H()||Z(!1);var n=(0,k.useContext)(V).matches,r=n[n.length-1],a=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var i,s=Q();if(t){var u,c="string"===typeof t?L(t):t;"/"===o||(null==(u=c.pathname)?void 0:u.startsWith(o))||Z(!1),i=c}else i=s;var l=i.pathname||"/",d="/"===o?l:l.slice(o.length)||"/",p=function(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var a=$(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var o=null,i=0;null==o&&i<a.length;++i)o=ne(a[i],r);return o}(e,{pathname:d});0;return re(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:se([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:se([o,e.pathnameBase])})})),n)}(Y(t),n)}function H(){return null!=(0,k.useContext)(B)}function Q(){return H()||Z(!1),(0,k.useContext)(B).location}function K(){H()||Z(!1);var e=(0,k.useContext)(j),t=e.basename,n=e.navigator,r=(0,k.useContext)(V).matches,a=Q().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),i=(0,k.useRef)(!1);return(0,k.useEffect)((function(){i.current=!0})),(0,k.useCallback)((function(e,r){if(void 0===r&&(r={}),i.current)if("number"!==typeof e){var s=oe(e,JSON.parse(o),a);"/"!==t&&(s.pathname=se([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}else n.go(e)}),[t,n,o,a])}var X=(0,k.createContext)(null);function Y(e){var t=[];return k.Children.forEach(e,(function(e){if((0,k.isValidElement)(e))if(e.type!==k.Fragment){e.type!==W&&Z(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Y(e.props.children)),t.push(n)}else t.push.apply(t,Y(e.props.children))})),t}function $(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,a){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Z(!1),o.relativePath=o.relativePath.slice(r.length));var i=se([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&Z(!1),$(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:te(i,e.index),routesMeta:s})})),t}var J=/^:\w+$/,ee=function(e){return"*"===e};function te(e,t){var n=e.split("/"),r=n.length;return n.some(ee)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!ee(e)})).reduce((function(e,t){return e+(J.test(t)?3:""===t?1:10)}),r)}function ne(e,t){for(var n=e.routesMeta,r={},a="/",o=[],i=0;i<n.length;++i){var s=n[i],u=i===n.length-1,c="/"===a?t:t.slice(a.length)||"/",l=ae({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var d=s.route;o.push({params:r,pathname:se([a,l.pathname]),pathnameBase:se([a,l.pathnameBase]),route:d}),"/"!==l.pathnameBase&&(a=se([a,l.pathnameBase]))}return o}function re(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,k.createElement)(V.Provider,{children:void 0!==r.route.element?r.route.element:(0,k.createElement)(U,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function ae(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,E.Z)(n,2),a=r[0],o=r[1],i=t.match(a);if(!i)return null;var s=i[0],u=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function oe(e,t,n){var r,a="string"===typeof e?L(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{var i=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),i-=1;a.pathname=s.join("/")}r=i>=0?t[i]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,i=n.hash,s=void 0===i?"":i,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ce(o),hash:le(s)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var se=function(e){return e.join("/").replace(/\/\/+/g,"/")},ue=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},le=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},de=(n(8457),n(8182)),pe=n(767),fe=n(7630),he=n(1046),me=n(418),ve=n(6482);function ge(){return(0,me.Z)(ve.Z)}var ye,be=n(3199);function xe(){if(ye)return ye;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),ye="reverse",e.scrollLeft>0?ye="default":(e.scrollLeft=1,0===e.scrollLeft&&(ye="negative")),document.body.removeChild(e),ye}function we(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(xe()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function ke(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Se(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,i=void 0===o?ke:o,s=r.duration,u=void 0===s?300:s,c=null,l=t[e],d=!1,p=function(){d=!0},f=function r(o){if(d)a(new Error("Animation cancelled"));else{null===c&&(c=o);var s=Math.min(1,(o-c)/u);t[e]=i(s)*(n-l)+l,s>=1?requestAnimationFrame((function(){a(null)})):requestAnimationFrame(r)}};return l===n?(a(new Error("Element already at target position")),p):(requestAnimationFrame(f),p)}var Ee=n(7602),Ce=n(184),Te=["onChange"],Ne={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var _e=n(9201),Ie=(0,_e.Z)((0,Ce.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Oe=(0,_e.Z)((0,Ce.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Re=n(2071),Ae=n(9683),Me=n(3031),De=n(3433);function Pe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function Ze(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Le(e,t)}var je=k.createContext(null);function Be(e,t){var n=Object.create(null);return e&&k.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,k.isValidElement)(e)?t(e):e}(e)})),n}function Ve(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ze(e,t,n){var r=Be(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var u in t){if(a[u])for(r=0;r<a[u].length;r++){var c=a[u][r];s[a[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(a).forEach((function(o){var i=a[o];if((0,k.isValidElement)(i)){var s=o in t,u=o in r,c=t[o],l=(0,k.isValidElement)(c)&&!c.props.in;!u||s&&!l?u||!s||l?u&&s&&(0,k.isValidElement)(c)&&(a[o]=(0,k.cloneElement)(i,{onExited:n.bind(null,i),in:c.props.in,exit:Ve(i,"exit",e),enter:Ve(i,"enter",e)})):a[o]=(0,k.cloneElement)(i,{in:!1}):a[o]=(0,k.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:Ve(i,"exit",e),enter:Ve(i,"enter",e)})}})),a}var Ue=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},We=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(Fe(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Ze(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,Be(n.children,(function(e){return(0,k.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Ve(e,"appear",n),enter:Ve(e,"enter",n),exit:Ve(e,"exit",n)})}))):ze(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=Be(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,O.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,_.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=Ue(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?k.createElement(je.Provider,{value:a},o):k.createElement(je.Provider,{value:a},k.createElement(t,r,o))},t}(k.Component);We.propTypes={},We.defaultProps={component:"div",childFactory:function(e){return e}};var qe=We,Ge=(n(8677),n(1672)),He=(n(2110),n(5438)),Qe=n(1346),Ke=n(6567),Xe=(0,Ge.w)((function(e,t){var n=e.styles,r=(0,Qe.O)([n],void 0,(0,k.useContext)(Ge.T)),a=(0,k.useRef)();return(0,k.useLayoutEffect)((function(){var e=t.key+"-global",n=new Ke.m({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,i=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(o=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),a.current=[n,o],function(){n.flush()}}),[t]),(0,k.useLayoutEffect)((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&(0,He.M)(t,r.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Qe.O)(t)}var $e=function(){var e=Ye.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Je=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,o=e.rippleX,i=e.rippleY,s=e.rippleSize,u=e.in,c=e.onExited,l=e.timeout,d=k.useState(!1),p=(0,E.Z)(d,2),f=p[0],h=p[1],m=(0,de.Z)(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),v={width:s,height:s,top:-s/2+i,left:-s/2+o},g=(0,de.Z)(n.child,f&&n.childLeaving,a&&n.childPulsate);return u||f||h(!0),k.useEffect((function(){if(!u&&null!=c){var e=setTimeout(c,l);return function(){clearTimeout(e)}}}),[c,u,l]),(0,Ce.jsx)("span",{className:m,style:v,children:(0,Ce.jsx)("span",{className:g})})},et=n(208);var tt,nt,rt,at,ot,it,st,ut,ct=(0,et.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lt=["center","classes","className"],dt=$e(ot||(ot=tt||(tt=Pe(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),pt=$e(it||(it=nt||(nt=Pe(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),ft=$e(st||(st=rt||(rt=Pe(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ht=(0,fe.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),mt=(0,fe.ZP)(Je,{name:"MuiTouchRipple",slot:"Ripple"})(ut||(ut=at||(at=Pe(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),ct.rippleVisible,dt,550,(function(e){return e.theme.transitions.easing.easeInOut}),ct.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),ct.child,ct.childLeaving,pt,550,(function(e){return e.theme.transitions.easing.easeInOut}),ct.childPulsate,ft,(function(e){return e.theme.transitions.easing.easeInOut})),vt=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,o=n.classes,i=void 0===o?{}:o,s=n.className,u=(0,_.Z)(n,lt),c=k.useState([]),l=(0,E.Z)(c,2),d=l[0],p=l[1],f=k.useRef(0),h=k.useRef(null);k.useEffect((function(){h.current&&(h.current(),h.current=null)}),[d]);var m=k.useRef(!1),v=k.useRef(null),g=k.useRef(null),y=k.useRef(null);k.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var b=k.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,o=e.cb;p((function(e){return[].concat((0,De.Z)(e),[(0,Ce.jsx)(mt,{classes:{ripple:(0,de.Z)(i.ripple,ct.ripple),rippleVisible:(0,de.Z)(i.rippleVisible,ct.rippleVisible),ripplePulsate:(0,de.Z)(i.ripplePulsate,ct.ripplePulsate),child:(0,de.Z)(i.child,ct.child),childLeaving:(0,de.Z)(i.childLeaving,ct.childLeaving),childPulsate:(0,de.Z)(i.childPulsate,ct.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},f.current)])})),f.current+=1,h.current=o}),[i]),x=k.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,i=t.center,s=void 0===i?a||t.pulsate:i,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,d,p,f=c?null:y.current,h=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),d=Math.round(h.height/2);else{var x=e.touches?e.touches[0]:e,w=x.clientX,k=x.clientY;l=Math.round(w-h.left),d=Math.round(k-h.top)}if(s)(p=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(p+=1);else{var S=2*Math.max(Math.abs((f?f.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;p=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:o,rippleX:l,rippleY:d,rippleSize:p,cb:n})},v.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:o,rippleX:l,rippleY:d,rippleSize:p,cb:n})}}),[a,b]),w=k.useCallback((function(){x({},{pulsate:!0})}),[x]),S=k.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&g.current)return g.current(),g.current=null,void(v.current=setTimeout((function(){S(e,t)})));g.current=null,p((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return k.useImperativeHandle(t,(function(){return{pulsate:w,start:x,stop:S}}),[w,x,S]),(0,Ce.jsx)(ht,(0,O.Z)({className:(0,de.Z)(i.root,ct.root,s),ref:y},u,{children:(0,Ce.jsx)(qe,{component:null,exit:!0,children:d})}))})),gt=vt,yt=n(5159);function bt(e){return(0,yt.Z)("MuiButtonBase",e)}var xt,wt=(0,et.Z)("MuiButtonBase",["root","disabled","focusVisible"]),kt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],St=(0,fe.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((xt={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,C.Z)(xt,"&.".concat(wt.disabled),{pointerEvents:"none",cursor:"default"}),(0,C.Z)(xt,"@media print",{colorAdjust:"exact"}),xt)),Et=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,o=void 0!==a&&a,i=n.children,s=n.className,u=n.component,c=void 0===u?"button":u,l=n.disabled,d=void 0!==l&&l,p=n.disableRipple,f=void 0!==p&&p,h=n.disableTouchRipple,m=void 0!==h&&h,v=n.focusRipple,g=void 0!==v&&v,y=n.LinkComponent,b=void 0===y?"a":y,x=n.onBlur,w=n.onClick,S=n.onContextMenu,C=n.onDragLeave,T=n.onFocus,N=n.onFocusVisible,I=n.onKeyDown,R=n.onKeyUp,A=n.onMouseDown,M=n.onMouseLeave,D=n.onMouseUp,P=n.onTouchEnd,F=n.onTouchMove,L=n.onTouchStart,Z=n.tabIndex,j=void 0===Z?0:Z,B=n.TouchRippleProps,V=n.type,z=(0,_.Z)(n,kt),U=k.useRef(null),W=k.useRef(null),q=(0,Me.Z)(),G=q.isFocusVisibleRef,H=q.onFocus,Q=q.onBlur,K=q.ref,X=k.useState(!1),Y=(0,E.Z)(X,2),$=Y[0],J=Y[1];function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return(0,Ae.Z)((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}d&&$&&J(!1),k.useImperativeHandle(r,(function(){return{focusVisible:function(){J(!0),U.current.focus()}}}),[]),k.useEffect((function(){$&&g&&!f&&W.current.pulsate()}),[f,g,$]);var te=ee("start",A),ne=ee("stop",S),re=ee("stop",C),ae=ee("stop",D),oe=ee("stop",(function(e){$&&e.preventDefault(),M&&M(e)})),ie=ee("start",L),se=ee("stop",P),ue=ee("stop",F),ce=ee("stop",(function(e){Q(e),!1===G.current&&J(!1),x&&x(e)}),!1),le=(0,Ae.Z)((function(e){U.current||(U.current=e.currentTarget),H(e),!0===G.current&&(J(!0),N&&N(e)),T&&T(e)})),fe=function(){var e=U.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},me=k.useRef(!1),ve=(0,Ae.Z)((function(e){g&&!me.current&&$&&W.current&&" "===e.key&&(me.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!d&&(e.preventDefault(),w&&w(e))})),ge=(0,Ae.Z)((function(e){g&&" "===e.key&&W.current&&$&&!e.defaultPrevented&&(me.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),R&&R(e),w&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&w(e)})),ye=c;"button"===ye&&(z.href||z.to)&&(ye=b);var be={};"button"===ye?(be.type=void 0===V?"button":V,be.disabled=d):(z.href||z.to||(be.role="button"),d&&(be["aria-disabled"]=d));var xe=(0,Re.Z)(K,U),we=(0,Re.Z)(t,xe),ke=k.useState(!1),Se=(0,E.Z)(ke,2),Ee=Se[0],Te=Se[1];k.useEffect((function(){Te(!0)}),[]);var Ne=Ee&&!f&&!d;var _e=(0,O.Z)({},n,{centerRipple:o,component:c,disabled:d,disableRipple:f,disableTouchRipple:m,focusRipple:g,tabIndex:j,focusVisible:$}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,a=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},i=(0,pe.Z)(o,bt,a);return n&&r&&(i.root+=" ".concat(r)),i}(_e);return(0,Ce.jsxs)(St,(0,O.Z)({as:ye,className:(0,de.Z)(Ie.root,s),ownerState:_e,onBlur:ce,onClick:w,onContextMenu:ne,onFocus:le,onKeyDown:ve,onKeyUp:ge,onMouseDown:te,onMouseLeave:oe,onMouseUp:ae,onDragLeave:re,onTouchEnd:se,onTouchMove:ue,onTouchStart:ie,ref:we,tabIndex:d?-1:j,type:V},be,z,{children:[i,Ne?(0,Ce.jsx)(gt,(0,O.Z)({ref:W,center:o},B)):null]}))})),Ct=Et;function Tt(e){return(0,yt.Z)("MuiTabScrollButton",e)}var Nt,_t,It=(0,et.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ot=["className","direction","orientation","disabled"],Rt=(0,fe.ZP)(Ct,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,O.Z)((0,C.Z)({width:40,flexShrink:0,opacity:.8},"&.".concat(It.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),At=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTabScrollButton"}),r=n.className,a=n.direction,o=(0,_.Z)(n,Ot),i="rtl"===ge().direction,s=(0,O.Z)({isRtl:i},n),u=function(e){var t=e.classes,n={root:["root",e.orientation,e.disabled&&"disabled"]};return(0,pe.Z)(n,Tt,t)}(s);return(0,Ce.jsx)(Rt,(0,O.Z)({component:"div",className:(0,de.Z)(u.root,r),ref:t,role:null,ownerState:s,tabIndex:null},o,{children:"left"===a?Nt||(Nt=(0,Ce.jsx)(Ie,{fontSize:"small"})):_t||(_t=(0,Ce.jsx)(Oe,{fontSize:"small"}))}))}));function Mt(e){return(0,yt.Z)("MuiTabs",e)}var Dt=(0,et.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Pt=n(8301),Ft=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Lt=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},Zt=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},jt=function(e,t,n){for(var r=!1,a=n(e,t);a;){if(a===e.firstChild){if(r)return;r=!0}var o=a.disabled||"true"===a.getAttribute("aria-disabled");if(a.hasAttribute("tabindex")&&!o)return void a.focus();a=n(e,a)}},Bt=(0,fe.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,C.Z)({},"& .".concat(Dt.scrollButtons),t.scrollButtons),(0,C.Z)({},"& .".concat(Dt.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return(0,O.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&(0,C.Z)({},"& .".concat(Dt.scrollButtons),(0,C.Z)({},n.breakpoints.down("sm"),{display:"none"})))})),Vt=(0,fe.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return(0,O.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),zt=(0,fe.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return(0,O.Z)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Ut=(0,fe.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return(0,O.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:n.palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:n.palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Wt=(0,fe.ZP)((function(e){var t=e.onChange,n=(0,_.Z)(e,Te),r=k.useRef(),a=k.useRef(null),o=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return k.useEffect((function(){var e=(0,be.Z)((function(){var e=r.current;o(),e!==r.current&&t(r.current)})),n=(0,Ee.Z)(a.current);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}),[t]),k.useEffect((function(){o(),t(r.current)}),[t]),(0,Ce.jsx)("div",(0,O.Z)({style:Ne,ref:a},n))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),qt={},Gt=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTabs"}),r=ge(),a="rtl"===r.direction,o=n["aria-label"],i=n["aria-labelledby"],s=n.action,u=n.centered,c=void 0!==u&&u,l=n.children,d=n.className,p=n.component,f=void 0===p?"div":p,h=n.allowScrollButtonsMobile,m=void 0!==h&&h,v=n.indicatorColor,g=void 0===v?"primary":v,y=n.onChange,b=n.orientation,x=void 0===b?"horizontal":b,w=n.ScrollButtonComponent,S=void 0===w?At:w,T=n.scrollButtons,N=void 0===T?"auto":T,I=n.selectionFollowsFocus,R=n.TabIndicatorProps,A=void 0===R?{}:R,M=n.TabScrollButtonProps,D=void 0===M?{}:M,P=n.textColor,F=void 0===P?"primary":P,L=n.value,Z=n.variant,j=void 0===Z?"standard":Z,B=n.visibleScrollbar,V=void 0!==B&&B,z=(0,_.Z)(n,Ft),U="scrollable"===j,W="vertical"===x,q=W?"scrollTop":"scrollLeft",G=W?"top":"left",H=W?"bottom":"right",Q=W?"clientHeight":"clientWidth",K=W?"height":"width",X=(0,O.Z)({},n,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:x,vertical:W,scrollButtons:N,textColor:F,variant:j,visibleScrollbar:V,fixed:!U,hideScrollbar:U&&!V,scrollableX:U&&!W,scrollableY:U&&W,centered:c&&!U,scrollButtonsHideMobile:!m}),Y=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,a=e.scrollableX,o=e.scrollableY,i=e.centered,s=e.scrollButtonsHideMobile,u=e.classes,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,pe.Z)(c,Mt,u)}(X);var $=k.useState(!1),J=(0,E.Z)($,2),ee=J[0],te=J[1],ne=k.useState(qt),re=(0,E.Z)(ne,2),ae=re[0],oe=re[1],ie=k.useState({start:!1,end:!1}),se=(0,E.Z)(ie,2),ue=se[0],ce=se[1],le=k.useState({overflow:"hidden",scrollbarWidth:0}),fe=(0,E.Z)(le,2),me=fe[0],ve=fe[1],ye=new Map,ke=k.useRef(null),Te=k.useRef(null),Ne=function(){var e,t,n=ke.current;if(n){var a=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:we(n,r.direction),scrollWidth:n.scrollWidth,top:a.top,bottom:a.bottom,left:a.left,right:a.right}}if(n&&!1!==L){var o=Te.current.children;if(o.length>0){var i=o[ye.get(L)];0,t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},_e=(0,Ae.Z)((function(){var e,t,n=Ne(),r=n.tabsMeta,o=n.tabMeta,i=0;if(W)t="top",o&&r&&(i=o.top-r.top+r.scrollTop);else if(t=a?"right":"left",o&&r){var s=a?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;i=(a?-1:1)*(o[t]-r[t]+s)}var u=(e={},(0,C.Z)(e,t,i),(0,C.Z)(e,K,o?o[K]:0),e);if(isNaN(ae[t])||isNaN(ae[K]))oe(u);else{var c=Math.abs(ae[t]-u[t]),l=Math.abs(ae[K]-u[K]);(c>=1||l>=1)&&oe(u)}})),Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.animation,a=void 0===n||n;a?Se(q,ke.current,e,{duration:r.transitions.duration.standard}):ke.current[q]=e},Oe=function(e){var t=ke.current[q];W?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===xe()?-1:1),Ie(t)},Re=function(){for(var e=ke.current[Q],t=0,n=Array.from(Te.current.children),r=0;r<n.length;r+=1){var a=n[r];if(t+a[Q]>e)break;t+=a[Q]}return t},Me=function(){Oe(-1*Re())},De=function(){Oe(Re())},Pe=k.useCallback((function(e){ve({overflow:null,scrollbarWidth:e})}),[]),Fe=(0,Ae.Z)((function(e){var t=Ne(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[G]<n[G]){var a=n[q]+(r[G]-n[G]);Ie(a,{animation:e})}else if(r[H]>n[H]){var o=n[q]+(r[H]-n[H]);Ie(o,{animation:e})}})),Le=(0,Ae.Z)((function(){if(U&&!1!==N){var e,t,n=ke.current,o=n.scrollTop,i=n.scrollHeight,s=n.clientHeight,u=n.scrollWidth,c=n.clientWidth;if(W)e=o>1,t=o<i-s-1;else{var l=we(ke.current,r.direction);e=a?l<u-c-1:l>1,t=a?l>1:l<u-c-1}e===ue.start&&t===ue.end||ce({start:e,end:t})}}));k.useEffect((function(){var e,t=(0,be.Z)((function(){_e(),Le()})),n=(0,Ee.Z)(ke.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(Te.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[_e,Le]);var Ze=k.useMemo((function(){return(0,be.Z)((function(){Le()}))}),[Le]);k.useEffect((function(){return function(){Ze.clear()}}),[Ze]),k.useEffect((function(){te(!0)}),[]),k.useEffect((function(){_e(),Le()})),k.useEffect((function(){Fe(qt!==ae)}),[Fe,ae]),k.useImperativeHandle(s,(function(){return{updateIndicator:_e,updateScrollButtons:Le}}),[_e,Le]);var je=(0,Ce.jsx)(Ut,(0,O.Z)({},A,{className:(0,de.Z)(Y.indicator,A.className),ownerState:X,style:(0,O.Z)({},ae,A.style)})),Be=0,Ve=k.Children.map(l,(function(e){if(!k.isValidElement(e))return null;var t=void 0===e.props.value?Be:e.props.value;ye.set(t,Be);var n=t===L;return Be+=1,k.cloneElement(e,(0,O.Z)({fullWidth:"fullWidth"===j,indicator:n&&!ee&&je,selected:n,selectionFollowsFocus:I,onChange:y,textColor:F,value:t},1!==Be||!1!==L||e.props.tabIndex?{}:{tabIndex:0}))})),ze=function(){var e={};e.scrollbarSizeListener=U?(0,Ce.jsx)(Wt,{onChange:Pe,className:(0,de.Z)(Y.scrollableX,Y.hideScrollbar)}):null;var t=ue.start||ue.end,n=U&&("auto"===N&&t||!0===N);return e.scrollButtonStart=n?(0,Ce.jsx)(S,(0,O.Z)({orientation:x,direction:a?"right":"left",onClick:Me,disabled:!ue.start},D,{className:(0,de.Z)(Y.scrollButtons,D.className)})):null,e.scrollButtonEnd=n?(0,Ce.jsx)(S,(0,O.Z)({orientation:x,direction:a?"left":"right",onClick:De,disabled:!ue.end},D,{className:(0,de.Z)(Y.scrollButtons,D.className)})):null,e}();return(0,Ce.jsxs)(Bt,(0,O.Z)({className:(0,de.Z)(Y.root,d),ownerState:X,ref:t,as:f},z,{children:[ze.scrollButtonStart,ze.scrollbarSizeListener,(0,Ce.jsxs)(Vt,{className:Y.scroller,ownerState:X,style:(0,C.Z)({overflow:me.overflow},W?"margin".concat(a?"Left":"Right"):"marginBottom",V?void 0:-me.scrollbarWidth),ref:ke,onScroll:Ze,children:[(0,Ce.jsx)(zt,{"aria-label":o,"aria-labelledby":i,"aria-orientation":"vertical"===x?"vertical":null,className:Y.flexContainer,ownerState:X,onKeyDown:function(e){var t=Te.current,n=(0,Pt.Z)(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===x?"ArrowLeft":"ArrowUp",o="horizontal"===x?"ArrowRight":"ArrowDown";switch("horizontal"===x&&a&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),jt(t,n,Zt);break;case o:e.preventDefault(),jt(t,n,Lt);break;case"Home":e.preventDefault(),jt(t,null,Lt);break;case"End":e.preventDefault(),jt(t,null,Zt)}}},ref:Te,role:"tablist",children:Ve}),ee&&je]}),ze.scrollButtonEnd]}))})),Ht=Gt,Qt=n(4036);function Kt(e){return(0,yt.Z)("MuiTab",e)}var Xt=(0,et.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Yt=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],$t=(0,fe.ZP)(Ct,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,Qt.Z)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,a=e.theme,o=e.ownerState;return(0,O.Z)({},a.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&(0,C.Z)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(Xt.iconWrapper),(0,O.Z)({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:a.spacing(1)},"end"===o.iconPosition&&{marginLeft:a.spacing(1)})),"inherit"===o.textColor&&(t={color:"inherit",opacity:.6},(0,C.Z)(t,"&.".concat(Xt.selected),{opacity:1}),(0,C.Z)(t,"&.".concat(Xt.disabled),{opacity:a.palette.action.disabledOpacity}),t),"primary"===o.textColor&&(n={color:a.palette.text.secondary},(0,C.Z)(n,"&.".concat(Xt.selected),{color:a.palette.primary.main}),(0,C.Z)(n,"&.".concat(Xt.disabled),{color:a.palette.text.disabled}),n),"secondary"===o.textColor&&(r={color:a.palette.text.secondary},(0,C.Z)(r,"&.".concat(Xt.selected),{color:a.palette.secondary.main}),(0,C.Z)(r,"&.".concat(Xt.disabled),{color:a.palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:a.typography.pxToRem(12)})})),Jt=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTab"}),r=n.className,a=n.disabled,o=void 0!==a&&a,i=n.disableFocusRipple,s=void 0!==i&&i,u=n.fullWidth,c=n.icon,l=n.iconPosition,d=void 0===l?"top":l,p=n.indicator,f=n.label,h=n.onChange,m=n.onClick,v=n.onFocus,g=n.selected,y=n.selectionFollowsFocus,b=n.textColor,x=void 0===b?"inherit":b,w=n.value,S=n.wrapped,E=void 0!==S&&S,C=(0,_.Z)(n,Yt),T=(0,O.Z)({},n,{disabled:o,disableFocusRipple:s,selected:g,icon:!!c,iconPosition:d,label:!!f,fullWidth:u,textColor:x,wrapped:E}),N=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,a=e.wrapped,o=e.icon,i=e.label,s=e.selected,u=e.disabled,c={root:["root",o&&i&&"labelIcon","textColor".concat((0,Qt.Z)(n)),r&&"fullWidth",a&&"wrapped",s&&"selected",u&&"disabled"],iconWrapper:["iconWrapper"]};return(0,pe.Z)(c,Kt,t)}(T),I=c&&f&&k.isValidElement(c)?k.cloneElement(c,{className:(0,de.Z)(N.iconWrapper,c.props.className)}):c;return(0,Ce.jsxs)($t,(0,O.Z)({focusRipple:!s,className:(0,de.Z)(N.root,r),ref:t,role:"tab","aria-selected":g,disabled:o,onClick:function(e){!g&&h&&h(e,w),m&&m(e)},onFocus:function(e){y&&!g&&h&&h(e,w),v&&v(e)},ownerState:T,tabIndex:g?0:-1},C,{children:["top"===d||"start"===d?(0,Ce.jsxs)(k.Fragment,{children:[I,f]}):(0,Ce.jsxs)(k.Fragment,{children:[f,I]}),p]}))})),en=n(5735),tn=n(2065);function nn(e){return(0,yt.Z)("MuiButton",e)}var rn=(0,et.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var an=k.createContext({}),on=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sn=function(e){return(0,O.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},un=(0,fe.ZP)(Ct,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Qt.Z)(n.color))],t["size".concat((0,Qt.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Qt.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,O.Z)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":(0,O.Z)({textDecoration:"none",backgroundColor:(0,tn.Fq)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:(0,tn.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:(0,tn.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":(0,O.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},(0,C.Z)(t,"&.".concat(rn.focusVisible),(0,O.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),(0,C.Z)(t,"&.".concat(rn.disabled),(0,O.Z)({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat((0,tn.Fq)(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,C.Z)(t,"&.".concat(rn.focusVisible),{boxShadow:"none"}),(0,C.Z)(t,"&:active",{boxShadow:"none"}),(0,C.Z)(t,"&.".concat(rn.disabled),{boxShadow:"none"}),t)})),cn=(0,fe.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Qt.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,O.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},sn(t))})),ln=(0,fe.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Qt.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,O.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},sn(t))})),dn=k.forwardRef((function(e,t){var n=k.useContext(an),r=(0,en.Z)(n,e),a=(0,he.Z)({props:r,name:"MuiButton"}),o=a.children,i=a.color,s=void 0===i?"primary":i,u=a.component,c=void 0===u?"button":u,l=a.className,d=a.disabled,p=void 0!==d&&d,f=a.disableElevation,h=void 0!==f&&f,m=a.disableFocusRipple,v=void 0!==m&&m,g=a.endIcon,y=a.focusVisibleClassName,b=a.fullWidth,x=void 0!==b&&b,w=a.size,S=void 0===w?"medium":w,E=a.startIcon,C=a.type,T=a.variant,N=void 0===T?"text":T,I=(0,_.Z)(a,on),R=(0,O.Z)({},a,{color:s,component:c,disabled:p,disableElevation:h,disableFocusRipple:v,fullWidth:x,size:S,type:C,variant:N}),A=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,a=e.size,o=e.variant,i=e.classes,s={root:["root",o,"".concat(o).concat((0,Qt.Z)(t)),"size".concat((0,Qt.Z)(a)),"".concat(o,"Size").concat((0,Qt.Z)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Qt.Z)(a))],endIcon:["endIcon","iconSize".concat((0,Qt.Z)(a))]},u=(0,pe.Z)(s,nn,i);return(0,O.Z)({},i,u)}(R),M=E&&(0,Ce.jsx)(cn,{className:A.startIcon,ownerState:R,children:E}),D=g&&(0,Ce.jsx)(ln,{className:A.endIcon,ownerState:R,children:g});return(0,Ce.jsxs)(un,(0,O.Z)({ownerState:R,className:(0,de.Z)(l,n.className),component:c,disabled:p,focusRipple:!v,focusVisibleClassName:(0,de.Z)(A.focusVisible,y),ref:t,type:C},I,{classes:A,children:[M,o,D]}))})),pn=n(594),fn=n(104),hn=n(2466),mn=n(6001),vn=["sx"];function gn(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){mn.G[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,_.Z)(e,vn)),a=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[a].concat((0,De.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,hn.P)(e)?(0,O.Z)({},a,e):a}:(0,O.Z)({},a,n),(0,O.Z)({},o,{sx:t})}var yn=["className","component"];var bn=n(7125),xn=n(1979),wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,r=void 0===n?"MuiBox-root":n,a=e.generateClassName,o=(0,pn.ZP)("div")(fn.Z),i=k.forwardRef((function(e,n){var i=(0,me.Z)(t),s=gn(e),u=s.className,c=s.component,l=void 0===c?"div":c,d=(0,_.Z)(s,yn);return(0,Ce.jsx)(o,(0,O.Z)({as:l,ref:n,className:(0,de.Z)(u,a?a(r):r),theme:i},d))}));return i}({defaultTheme:(0,xn.Z)(),defaultClassName:"MuiBox-root",generateClassName:bn.Z.generate}),kn=wn;var Sn=k.createContext();function En(e){return(0,yt.Z)("MuiTable",e)}(0,et.Z)("MuiTable",["root","stickyHeader"]);var Cn=["className","component","padding","size","stickyHeader"],Tn=(0,fe.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,O.Z)({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Nn="table",_n=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTable"}),r=n.className,a=n.component,o=void 0===a?Nn:a,i=n.padding,s=void 0===i?"normal":i,u=n.size,c=void 0===u?"medium":u,l=n.stickyHeader,d=void 0!==l&&l,p=(0,_.Z)(n,Cn),f=(0,O.Z)({},n,{component:o,padding:s,size:c,stickyHeader:d}),h=function(e){var t=e.classes,n={root:["root",e.stickyHeader&&"stickyHeader"]};return(0,pe.Z)(n,En,t)}(f),m=k.useMemo((function(){return{padding:s,size:c,stickyHeader:d}}),[s,c,d]);return(0,Ce.jsx)(Sn.Provider,{value:m,children:(0,Ce.jsx)(Tn,(0,O.Z)({as:o,role:o===Nn?null:"table",ref:t,className:(0,de.Z)(h.root,r),ownerState:f},p))})}));var In=k.createContext();function On(e){return(0,yt.Z)("MuiTableBody",e)}(0,et.Z)("MuiTableBody",["root"]);var Rn=["className","component"],An=(0,fe.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),Mn={variant:"body"},Dn="tbody",Pn=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTableBody"}),r=n.className,a=n.component,o=void 0===a?Dn:a,i=(0,_.Z)(n,Rn),s=(0,O.Z)({},n,{component:o}),u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},On,t)}(s);return(0,Ce.jsx)(In.Provider,{value:Mn,children:(0,Ce.jsx)(An,(0,O.Z)({className:(0,de.Z)(u.root,r),as:o,ref:t,role:o===Dn?null:"rowgroup",ownerState:s},i))})}));function Fn(e){return(0,yt.Z)("MuiTableCell",e)}var Ln=(0,et.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Zn=["align","className","component","padding","scope","size","sortDirection","variant"],jn=(0,fe.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat((0,Qt.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Qt.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Qt.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.mode?(0,tn.$n)((0,tn.Fq)(t.palette.divider,1),.88):(0,tn._j)((0,tn.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:t.palette.text.primary},"footer"===n.variant&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&(0,C.Z)({padding:"6px 16px"},"&.".concat(Ln.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})})),Bn=k.forwardRef((function(e,t){var n,r=(0,he.Z)({props:e,name:"MuiTableCell"}),a=r.align,o=void 0===a?"inherit":a,i=r.className,s=r.component,u=r.padding,c=r.scope,l=r.size,d=r.sortDirection,p=r.variant,f=(0,_.Z)(r,Zn),h=k.useContext(Sn),m=k.useContext(In),v=m&&"head"===m.variant;n=s||(v?"th":"td");var g=c;!g&&v&&(g="col");var y=p||m&&m.variant,b=(0,O.Z)({},r,{align:o,component:n,padding:u||(h&&h.padding?h.padding:"normal"),size:l||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:"head"===y&&h&&h.stickyHeader,variant:y}),x=function(e){var t=e.classes,n=e.variant,r=e.align,a=e.padding,o=e.size,i={root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat((0,Qt.Z)(r)),"normal"!==a&&"padding".concat((0,Qt.Z)(a)),"size".concat((0,Qt.Z)(o))]};return(0,pe.Z)(i,Fn,t)}(b),w=null;return d&&(w="asc"===d?"ascending":"descending"),(0,Ce.jsx)(jn,(0,O.Z)({as:n,ref:t,className:(0,de.Z)(x.root,i),"aria-sort":w,scope:g,ownerState:b},f))})),Vn=Bn;function zn(e){return(0,yt.Z)("MuiTableContainer",e)}(0,et.Z)("MuiTableContainer",["root"]);var Un=["className","component"],Wn=(0,fe.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),qn=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTableContainer"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=(0,_.Z)(n,Un),s=(0,O.Z)({},n,{component:o}),u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},zn,t)}(s);return(0,Ce.jsx)(Wn,(0,O.Z)({ref:t,as:o,className:(0,de.Z)(u.root,r),ownerState:s},i))}));function Gn(e){return(0,yt.Z)("MuiTableHead",e)}(0,et.Z)("MuiTableHead",["root"]);var Hn=["className","component"],Qn=(0,fe.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),Kn={variant:"head"},Xn="thead",Yn=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTableHead"}),r=n.className,a=n.component,o=void 0===a?Xn:a,i=(0,_.Z)(n,Hn),s=(0,O.Z)({},n,{component:o}),u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},Gn,t)}(s);return(0,Ce.jsx)(In.Provider,{value:Kn,children:(0,Ce.jsx)(Qn,(0,O.Z)({as:o,className:(0,de.Z)(u.root,r),ref:t,role:o===Xn?null:"rowgroup",ownerState:s},i))})}));function $n(e){return(0,yt.Z)("MuiTableRow",e)}var Jn=(0,et.Z)("MuiTableRow",["root","selected","hover","head","footer"]),er=["className","component","hover","selected"],tr=(0,fe.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((function(e){var t,n=e.theme;return t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},(0,C.Z)(t,"&.".concat(Jn.hover,":hover"),{backgroundColor:n.palette.action.hover}),(0,C.Z)(t,"&.".concat(Jn.selected),{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}),t})),nr=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTableRow"}),r=n.className,a=n.component,o=void 0===a?"tr":a,i=n.hover,s=void 0!==i&&i,u=n.selected,c=void 0!==u&&u,l=(0,_.Z)(n,er),d=k.useContext(In),p=(0,O.Z)({},n,{component:o,hover:s,selected:c,head:d&&"head"===d.variant,footer:d&&"footer"===d.variant}),f=function(e){var t=e.classes,n={root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]};return(0,pe.Z)(n,$n,t)}(p);return(0,Ce.jsx)(tr,(0,O.Z)({as:o,ref:t,className:(0,de.Z)(f.root,r),role:"tr"===o?null:"row",ownerState:p},l))})),rr=nr;function ar(e){return(0,yt.Z)("MuiPaper",e)}(0,et.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var or=["className","component","elevation","square","variant"],ir=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},sr=(0,fe.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&(0,O.Z)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,tn.Fq)("#fff",ir(n.elevation)),", ").concat((0,tn.Fq)("#fff",ir(n.elevation)),")")}))})),ur=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiPaper"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=n.elevation,s=void 0===i?1:i,u=n.square,c=void 0!==u&&u,l=n.variant,d=void 0===l?"elevation":l,p=(0,_.Z)(n,or),f=(0,O.Z)({},n,{component:o,elevation:s,square:c,variant:d}),h=function(e){var t=e.square,n=e.elevation,r=e.variant,a=e.classes,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,pe.Z)(o,ar,a)}(f);return(0,Ce.jsx)(sr,(0,O.Z)({as:o,ownerState:f,className:(0,de.Z)(h.root,r),ref:t},p))})),cr=ur;function lr(e){return(0,yt.Z)("MuiAppBar",e)}(0,et.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var dr=["className","color","enableColorOnDark","position"],pr=(0,fe.ZP)(cr,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Qt.Z)(n.position))],t["color".concat((0,Qt.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,O.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,O.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),fr=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiAppBar"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.enableColorOnDark,s=void 0!==i&&i,u=n.position,c=void 0===u?"fixed":u,l=(0,_.Z)(n,dr),d=(0,O.Z)({},n,{color:o,position:c,enableColorOnDark:s}),p=function(e){var t=e.color,n=e.position,r=e.classes,a={root:["root","color".concat((0,Qt.Z)(t)),"position".concat((0,Qt.Z)(n))]};return(0,pe.Z)(a,lr,r)}(d);return(0,Ce.jsx)(pr,(0,O.Z)({square:!0,component:"header",ownerState:d,elevation:4,className:(0,de.Z)(p.root,r,"fixed"===c&&"mui-fixed"),ref:t},l))}));function hr(e){return(0,yt.Z)("MuiToolbar",e)}(0,et.Z)("MuiToolbar",["root","gutters","regular","dense"]);var mr=["className","component","disableGutters","variant"],vr=(0,fe.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,C.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),gr=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiToolbar"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=n.disableGutters,s=void 0!==i&&i,u=n.variant,c=void 0===u?"regular":u,l=(0,_.Z)(n,mr),d=(0,O.Z)({},n,{component:o,disableGutters:s,variant:c}),p=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,pe.Z)(n,hr,t)}(d);return(0,Ce.jsx)(vr,(0,O.Z)({as:o,className:(0,de.Z)(p.root,r),ref:t,ownerState:d},l))}));function yr(e){return(0,yt.Z)("MuiIconButton",e)}var br=(0,et.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),xr=["edge","children","className","color","disabled","disableFocusRipple","size"],wr=(0,fe.ZP)(Ct,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Qt.Z)(n.color))],n.edge&&t["edge".concat((0,Qt.Z)(n.edge))],t["size".concat((0,Qt.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:(0,tn.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,O.Z)({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:(0,tn.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,C.Z)({},"&.".concat(br.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),kr=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,o=n.children,i=n.className,s=n.color,u=void 0===s?"default":s,c=n.disabled,l=void 0!==c&&c,d=n.disableFocusRipple,p=void 0!==d&&d,f=n.size,h=void 0===f?"medium":f,m=(0,_.Z)(n,xr),v=(0,O.Z)({},n,{edge:a,color:u,disabled:l,disableFocusRipple:p,size:h}),g=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,o=e.size,i={root:["root",n&&"disabled","default"!==r&&"color".concat((0,Qt.Z)(r)),a&&"edge".concat((0,Qt.Z)(a)),"size".concat((0,Qt.Z)(o))]};return(0,pe.Z)(i,yr,t)}(v);return(0,Ce.jsx)(wr,(0,O.Z)({className:(0,de.Z)(g.root,i),centerRipple:!0,focusRipple:!p,disabled:l,ref:t,ownerState:v},m,{children:o}))})),Sr=n(8008);function Er(e){return(0,yt.Z)("MuiTypography",e)}(0,et.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Cr=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Tr=(0,fe.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Qt.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Nr={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_r={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ir=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTypography"}),r=function(e){return _r[e]||e}(n.color),a=gn((0,O.Z)({},n,{color:r})),o=a.align,i=void 0===o?"inherit":o,s=a.className,u=a.component,c=a.gutterBottom,l=void 0!==c&&c,d=a.noWrap,p=void 0!==d&&d,f=a.paragraph,h=void 0!==f&&f,m=a.variant,v=void 0===m?"body1":m,g=a.variantMapping,y=void 0===g?Nr:g,b=(0,_.Z)(a,Cr),x=(0,O.Z)({},a,{align:i,color:r,className:s,component:u,gutterBottom:l,noWrap:p,paragraph:h,variant:v,variantMapping:y}),w=u||(h?"p":y[v]||Nr[v])||"span",k=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,a=e.paragraph,o=e.variant,i=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,Qt.Z)(t)),n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return(0,pe.Z)(s,Er,i)}(x);return(0,Ce.jsx)(Tr,(0,O.Z)({as:w,ref:t,ownerState:x,className:(0,de.Z)(k.root,s)},b))}));var Or=function(e){return"string"===typeof e};function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Or(e)?t:(0,O.Z)({},t,{ownerState:(0,O.Z)({},t.ownerState,n)})}var Ar=!1,Mr="unmounted",Dr="exited",Pr="entering",Fr="entered",Lr="exiting",Zr=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=Dr,r.appearStatus=Pr):a=Fr:a=t.unmountOnExit||t.mountOnEnter?Mr:Dr,r.state={status:a},r.nextCallback=null,r}Ze(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Mr?{status:Dr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pr&&n!==Fr&&(t=Pr):n!==Pr&&n!==Fr||(t=Lr)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Pr?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Dr&&this.setState({status:Mr})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[S.findDOMNode(this),r],o=a[0],i=a[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Ar?this.safeSetState({status:Fr},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,i),this.safeSetState({status:Pr},(function(){t.props.onEntering(o,i),t.onTransitionEnd(u,(function(){t.safeSetState({status:Fr},(function(){t.props.onEntered(o,i)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:S.findDOMNode(this);t&&!Ar?(this.props.onExit(r),this.safeSetState({status:Lr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Dr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Dr},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:S.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],i=a[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Mr)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,_.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return k.createElement(je.Provider,{value:null},"function"===typeof n?n(e,r):k.cloneElement(k.Children.only(n),r))},t}(k.Component);function jr(){}Zr.contextType=je,Zr.propTypes={},Zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jr,onEntering:jr,onEntered:jr,onExit:jr,onExiting:jr,onExited:jr},Zr.UNMOUNTED=Mr,Zr.EXITED=Dr,Zr.ENTERING=Pr,Zr.ENTERED=Fr,Zr.EXITING=Lr;var Br=Zr,Vr=function(e){return e.scrollTop};function zr(e,t){var n,r,a=e.timeout,o=e.easing,i=e.style,s=void 0===i?{}:i;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof a?a:a[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var Ur=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wr(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var qr={entering:{opacity:1,transform:Wr(1)},entered:{opacity:1,transform:"none"}},Gr=k.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,o=e.children,i=e.easing,s=e.in,u=e.onEnter,c=e.onEntered,l=e.onEntering,d=e.onExit,p=e.onExited,f=e.onExiting,h=e.style,m=e.timeout,v=void 0===m?"auto":m,g=e.TransitionComponent,y=void 0===g?Br:g,b=(0,_.Z)(e,Ur),x=k.useRef(),w=k.useRef(),S=ge(),E=k.useRef(null),C=(0,Re.Z)(o.ref,t),T=(0,Re.Z)(E,C),N=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},I=N(l),R=N((function(e,t){Vr(e);var n,r=zr({style:h,timeout:v,easing:i},{mode:"enter"}),a=r.duration,o=r.delay,s=r.easing;"auto"===v?(n=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=a,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:o}),S.transitions.create("transform",{duration:.666*n,delay:o,easing:s})].join(","),u&&u(e,t)})),A=N(c),M=N(f),D=N((function(e){var t,n=zr({style:h,timeout:v,easing:i},{mode:"exit"}),r=n.duration,a=n.delay,o=n.easing;"auto"===v?(t=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:a}),S.transitions.create("transform",{duration:.666*t,delay:a||.333*t,easing:o})].join(","),e.style.opacity="0",e.style.transform=Wr(.75),d&&d(e)})),P=N(p);return k.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,Ce.jsx)(y,(0,O.Z)({appear:a,in:s,nodeRef:E,onEnter:R,onEntered:A,onEntering:I,onExit:D,onExited:P,onExiting:M,addEndListener:function(e){"auto"===v&&(x.current=setTimeout(e,w.current||0)),n&&n(E.current,e)},timeout:"auto"===v?null:v},b,{children:function(e,t){return k.cloneElement(o,(0,O.Z)({style:(0,O.Z)({opacity:0,transform:Wr(.75),visibility:"exited"!==e||s?void 0:"hidden"},qr[e],h,o.props.style),ref:T},t))}}))}));Gr.muiSupportAuto=!0;var Hr=Gr,Qr=n(7563),Kr=n(5721),Xr=n(9723);function Yr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $r(e){return e instanceof Yr(e).Element||e instanceof Element}function Jr(e){return e instanceof Yr(e).HTMLElement||e instanceof HTMLElement}function ea(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Yr(e).ShadowRoot||e instanceof ShadowRoot)}var ta=Math.max,na=Math.min,ra=Math.round;function aa(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(Jr(e)&&t){var o=e.offsetHeight,i=e.offsetWidth;i>0&&(r=ra(n.width)/i||1),o>0&&(a=ra(n.height)/o||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function oa(e){var t=Yr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ia(e){return e?(e.nodeName||"").toLowerCase():null}function sa(e){return(($r(e)?e.ownerDocument:e.document)||window.document).documentElement}function ua(e){return aa(sa(e)).left+oa(e).scrollLeft}function ca(e){return Yr(e).getComputedStyle(e)}function la(e){var t=ca(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function da(e,t,n){void 0===n&&(n=!1);var r=Jr(t),a=Jr(t)&&function(e){var t=e.getBoundingClientRect(),n=ra(t.width)/e.offsetWidth||1,r=ra(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=sa(t),i=aa(e,a),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==ia(t)||la(o))&&(s=function(e){return e!==Yr(e)&&Jr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:oa(e);var t}(t)),Jr(t)?((u=aa(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=ua(o))),{x:i.left+s.scrollLeft-u.x,y:i.top+s.scrollTop-u.y,width:i.width,height:i.height}}function pa(e){var t=aa(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function fa(e){return"html"===ia(e)?e:e.assignedSlot||e.parentNode||(ea(e)?e.host:null)||sa(e)}function ha(e){return["html","body","#document"].indexOf(ia(e))>=0?e.ownerDocument.body:Jr(e)&&la(e)?e:ha(fa(e))}function ma(e,t){var n;void 0===t&&(t=[]);var r=ha(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Yr(r),i=a?[o].concat(o.visualViewport||[],la(r)?r:[]):r,s=t.concat(i);return a?s:s.concat(ma(fa(i)))}function va(e){return["table","td","th"].indexOf(ia(e))>=0}function ga(e){return Jr(e)&&"fixed"!==ca(e).position?e.offsetParent:null}function ya(e){for(var t=Yr(e),n=ga(e);n&&va(n)&&"static"===ca(n).position;)n=ga(n);return n&&("html"===ia(n)||"body"===ia(n)&&"static"===ca(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Jr(e)&&"fixed"===ca(e).position)return null;for(var n=fa(e);Jr(n)&&["html","body"].indexOf(ia(n))<0;){var r=ca(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var ba="top",xa="bottom",wa="right",ka="left",Sa="auto",Ea=[ba,xa,wa,ka],Ca="start",Ta="end",Na="viewport",_a="popper",Ia=Ea.reduce((function(e,t){return e.concat([t+"-"+Ca,t+"-"+Ta])}),[]),Oa=[].concat(Ea,[Sa]).reduce((function(e,t){return e.concat([t,t+"-"+Ca,t+"-"+Ta])}),[]),Ra=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Aa(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}function Ma(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Da={placement:"bottom",modifiers:[],strategy:"absolute"};function Pa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Fa(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?Da:a;return function(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Da,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,u={state:a,setOptions:function(n){var s="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:$r(e)?ma(e):e.contextElement?ma(e.contextElement):[],popper:ma(t)};var l=function(e){var t=Aa(e);return Ra.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=l.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:a,name:t,instance:u,options:r}),c=function(){};i.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(Pa(t,n)){a.rects={reference:da(t,ya(n),"fixed"===a.options.strategy),popper:pa(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,c=o.options,l=void 0===c?{}:c,d=o.name;"function"===typeof i&&(a=i({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,r=-1}}},update:Ma((function(){return new Promise((function(e){u.forceUpdate(),e(a)}))})),destroy:function(){c(),s=!0}};if(!Pa(e,t))return u;function c(){i.forEach((function(e){return e()})),i=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var La={passive:!0};function Za(e){return e.split("-")[0]}function ja(e){return e.split("-")[1]}function Ba(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Va(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?Za(a):null,i=a?ja(a):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case ba:t={x:s,y:n.y-r.height};break;case xa:t={x:s,y:n.y+n.height};break;case wa:t={x:n.x+n.width,y:u};break;case ka:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?Ba(o):null;if(null!=c){var l="y"===c?"height":"width";switch(i){case Ca:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Ta:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var za={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ua(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,i=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=e.isFixed,p=i.x,f=void 0===p?0:p,h=i.y,m=void 0===h?0:h,v="function"===typeof l?l({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),b=ka,x=ba,w=window;if(c){var k=ya(n),S="clientHeight",E="clientWidth";if(k===Yr(n)&&"static"!==ca(k=sa(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),k=k,a===ba||(a===ka||a===wa)&&o===Ta)x=xa,m-=(d&&w.visualViewport?w.visualViewport.height:k[S])-r.height,m*=u?1:-1;if(a===ka||(a===ba||a===xa)&&o===Ta)b=wa,f-=(d&&w.visualViewport?w.visualViewport.width:k[E])-r.width,f*=u?1:-1}var C,T=Object.assign({position:s},c&&za),N=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ra(t*r)/r||0,y:ra(n*r)/r||0}}({x:f,y:m}):{x:f,y:m};return f=N.x,m=N.y,u?Object.assign({},T,((C={})[x]=y?"0":"",C[b]=g?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[x]=y?m+"px":"",t[b]=g?f+"px":"",t.transform="",t))}var Wa={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];Jr(a)&&ia(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Jr(r)&&ia(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var qa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=Oa.reduce((function(e,n){return e[n]=function(e,t,n){var r=Za(e),a=[ka,ba].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[ka,wa].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,o),e}),{}),s=i[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},Ga={left:"right",right:"left",bottom:"top",top:"bottom"};function Ha(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ga[e]}))}var Qa={start:"end",end:"start"};function Ka(e){return e.replace(/start|end/g,(function(e){return Qa[e]}))}function Xa(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ea(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ya(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $a(e,t){return t===Na?Ya(function(e){var t=Yr(e),n=sa(e),r=t.visualViewport,a=n.clientWidth,o=n.clientHeight,i=0,s=0;return r&&(a=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=r.offsetLeft,s=r.offsetTop)),{width:a,height:o,x:i+ua(e),y:s}}(e)):$r(t)?function(e){var t=aa(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Ya(function(e){var t,n=sa(e),r=oa(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=ta(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=ta(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+ua(e),u=-r.scrollTop;return"rtl"===ca(a||n).direction&&(s+=ta(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:i,x:s,y:u}}(sa(e)))}function Ja(e,t,n){var r="clippingParents"===t?function(e){var t=ma(fa(e)),n=["absolute","fixed"].indexOf(ca(e).position)>=0&&Jr(e)?ya(e):e;return $r(n)?t.filter((function(e){return $r(e)&&Xa(e,n)&&"body"!==ia(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),o=a[0],i=a.reduce((function(t,n){var r=$a(e,n);return t.top=ta(r.top,t.top),t.right=na(r.right,t.right),t.bottom=na(r.bottom,t.bottom),t.left=ta(r.left,t.left),t}),$a(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function eo(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function to(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function no(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.boundary,i=void 0===o?"clippingParents":o,s=n.rootBoundary,u=void 0===s?Na:s,c=n.elementContext,l=void 0===c?_a:c,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,h=void 0===f?0:f,m=eo("number"!==typeof h?h:to(h,Ea)),v=l===_a?"reference":_a,g=e.rects.popper,y=e.elements[p?v:l],b=Ja($r(y)?y:y.contextElement||sa(e.elements.popper),i,u),x=aa(e.elements.reference),w=Va({reference:x,element:g,strategy:"absolute",placement:a}),k=Ya(Object.assign({},g,w)),S=l===_a?k:x,E={top:b.top-S.top+m.top,bottom:S.bottom-b.bottom+m.bottom,left:b.left-S.left+m.left,right:S.right-b.right+m.right},C=e.modifiersData.offset;if(l===_a&&C){var T=C[a];Object.keys(E).forEach((function(e){var t=[wa,xa].indexOf(e)>=0?1:-1,n=[ba,xa].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}var ro={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=Za(v),y=u||(g===v||!h?[Ha(v)]:function(e){if(Za(e)===Sa)return[];var t=Ha(e);return[Ka(e),t,Ka(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(Za(n)===Sa?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Oa:u,l=ja(r),d=l?s?Ia:Ia.filter((function(e){return ja(e)===l})):Ea,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=no(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[Za(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,E=b[0],C=0;C<b.length;C++){var T=b[C],N=Za(T),_=ja(T)===Ca,I=[ba,xa].indexOf(N)>=0,O=I?"width":"height",R=no(t,{placement:T,boundary:l,rootBoundary:d,altBoundary:p,padding:c}),A=I?_?wa:ka:_?xa:ba;x[O]>w[O]&&(A=Ha(A));var M=Ha(A),D=[];if(o&&D.push(R[N]<=0),s&&D.push(R[A]<=0,R[M]<=0),D.every((function(e){return e}))){E=T,S=!1;break}k.set(T,D)}if(S)for(var P=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},F=h?3:1;F>0;F--){if("break"===P(F))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ao(e,t,n){return ta(e,na(t,n))}var oo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0!==i&&i,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=no(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),g=Za(t.placement),y=ja(t.placement),b=!y,x=Ba(g),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(k){if(o){var I,O="y"===x?ba:ka,R="y"===x?xa:wa,A="y"===x?"height":"width",M=k[x],D=M+v[O],P=M-v[R],F=f?-E[A]/2:0,L=y===Ca?S[A]:E[A],Z=y===Ca?-E[A]:-S[A],j=t.elements.arrow,B=f&&j?pa(j):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[O],U=V[R],W=ao(0,S[A],B[A]),q=b?S[A]/2-F-W-z-T.mainAxis:L-W-z-T.mainAxis,G=b?-S[A]/2+F+W+U+T.mainAxis:Z+W+U+T.mainAxis,H=t.elements.arrow&&ya(t.elements.arrow),Q=H?"y"===x?H.clientTop||0:H.clientLeft||0:0,K=null!=(I=null==N?void 0:N[x])?I:0,X=M+G-K,Y=ao(f?na(D,M+q-K-Q):D,M,f?ta(P,X):P);k[x]=Y,_[x]=Y-M}if(s){var $,J="x"===x?ba:ka,ee="x"===x?xa:wa,te=k[w],ne="y"===w?"height":"width",re=te+v[J],ae=te-v[ee],oe=-1!==[ba,ka].indexOf(g),ie=null!=($=null==N?void 0:N[w])?$:0,se=oe?re:te-S[ne]-E[ne]-ie+T.altAxis,ue=oe?te+S[ne]+E[ne]-ie-T.altAxis:ae,ce=f&&oe?function(e,t,n){var r=ao(e,t,n);return r>n?n:r}(se,te,ue):ao(f?se:re,te,f?ue:ae);k[w]=ce,_[w]=ce-te}t.modifiersData[r]=_}},requiresIfExists:["offset"]};var io={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,i=n.modifiersData.popperOffsets,s=Za(n.placement),u=Ba(s),c=[ka,wa].indexOf(s)>=0?"height":"width";if(o&&i){var l=function(e,t){return eo("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:to(e,Ea))}(a.padding,n),d=pa(o),p="y"===u?ba:ka,f="y"===u?xa:wa,h=n.rects.reference[c]+n.rects.reference[u]-i[u]-n.rects.popper[c],m=i[u]-n.rects.reference[u],v=ya(o),g=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,y=h/2-m/2,b=l[p],x=g-d[c]-l[f],w=g/2-d[c]/2+y,k=ao(b,w,x),S=u;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xa(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function so(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function uo(e){return[ba,wa,xa,ka].some((function(t){return e[t]>=0}))}var co=Fa({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,s=void 0===i||i,u=Yr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,La)})),s&&u.addEventListener("resize",n.update,La),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,La)})),s&&u.removeEventListener("resize",n.update,La)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Va({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,c={placement:Za(t.placement),variation:ja(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ua(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ua(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Wa,qa,ro,oo,io,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=no(t,{elementContext:"reference"}),s=no(t,{altBoundary:!0}),u=so(i,r),c=so(s,a,o),l=uo(u),d=uo(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),lo=n(2971);var po=k.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,o=void 0!==a&&a,i=k.useState(null),s=(0,E.Z)(i,2),u=s[0],c=s[1],l=(0,Qr.Z)(k.isValidElement(n)?n.ref:null,t);return(0,Kr.Z)((function(){o||c(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),(0,Kr.Z)((function(){if(u&&!o)return(0,lo.Z)(t,u),function(){(0,lo.Z)(t,null)}}),[t,u,o]),o?k.isValidElement(n)?k.cloneElement(n,{ref:l}):n:u?S.createPortal(n,u):u})),fo=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],ho=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function mo(e){return"function"===typeof e?e():e}var vo={},go=k.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,a=e.direction,o=e.disablePortal,i=e.modifiers,s=e.open,u=e.placement,c=e.popperOptions,l=e.popperRef,d=e.TransitionProps,p=(0,_.Z)(e,fo),f=k.useRef(null),h=(0,Qr.Z)(f,t),m=k.useRef(null),v=(0,Qr.Z)(m,l),g=k.useRef(v);(0,Kr.Z)((function(){g.current=v}),[v]),k.useImperativeHandle(l,(function(){return m.current}),[]);var y=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,a),b=k.useState(y),x=(0,E.Z)(b,2),w=x[0],S=x[1];k.useEffect((function(){m.current&&m.current.forceUpdate()})),(0,Kr.Z)((function(){if(n&&s){mo(n);var e=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;S(t.placement)}}];null!=i&&(e=e.concat(i)),c&&null!=c.modifiers&&(e=e.concat(c.modifiers));var t=co(mo(n),f.current,(0,O.Z)({placement:y},c,{modifiers:e}));return g.current(t),function(){t.destroy(),g.current(null)}}}),[n,o,i,s,c,y]);var C={placement:w};return null!==d&&(C.TransitionProps=d),(0,Ce.jsx)("div",(0,O.Z)({ref:h,role:"tooltip"},p,{children:"function"===typeof r?r(C):r}))})),yo=k.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,a=e.container,o=e.direction,i=void 0===o?"ltr":o,s=e.disablePortal,u=void 0!==s&&s,c=e.keepMounted,l=void 0!==c&&c,d=e.modifiers,p=e.open,f=e.placement,h=void 0===f?"bottom":f,m=e.popperOptions,v=void 0===m?vo:m,g=e.popperRef,y=e.style,b=e.transition,x=void 0!==b&&b,w=(0,_.Z)(e,ho),S=k.useState(!0),C=(0,E.Z)(S,2),T=C[0],N=C[1];if(!l&&!p&&(!x||T))return null;var I=a||(n?(0,Xr.Z)(mo(n)).body:void 0);return(0,Ce.jsx)(po,{disablePortal:u,container:I,children:(0,Ce.jsx)(go,(0,O.Z)({anchorEl:n,direction:i,disablePortal:u,modifiers:d,ref:t,open:x?!T:p,placement:h,popperOptions:v,popperRef:g},w,{style:(0,O.Z)({position:"fixed",top:0,left:0,display:p||!l||x&&!T?null:"none"},y),TransitionProps:x?{in:p,onEnter:function(){N(!1)},onExited:function(){N(!0)}}:null,children:r}))})})),bo=yo,xo=n(9120),wo=k.forwardRef((function(e,t){var n=(0,xo.Z)();return(0,Ce.jsx)(bo,(0,O.Z)({direction:null==n?void 0:n.direction},e,{ref:t}))})),ko=wo,So=n(7384),Eo=n(8744);function Co(e){return(0,yt.Z)("MuiTooltip",e)}var To=(0,et.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),No=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];var _o=(0,fe.ZP)(ko,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,a=e.open;return(0,O.Z)({zIndex:n.zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!a&&{pointerEvents:"none"},r.arrow&&(t={},(0,C.Z)(t,'&[data-popper-placement*="bottom"] .'.concat(To.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,C.Z)(t,'&[data-popper-placement*="top"] .'.concat(To.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,C.Z)(t,'&[data-popper-placement*="right"] .'.concat(To.arrow),(0,O.Z)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,C.Z)(t,'&[data-popper-placement*="left"] .'.concat(To.arrow),(0,O.Z)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),Io=(0,fe.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,Qt.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n,r=e.theme,a=e.ownerState;return(0,O.Z)({backgroundColor:(0,tn.Fq)(r.palette.grey[700],.92),borderRadius:r.shape.borderRadius,color:r.palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},a.arrow&&{position:"relative",margin:0},a.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},(t={},(0,C.Z)(t,".".concat(To.popper,'[data-popper-placement*="left"] &'),(0,O.Z)({transformOrigin:"right center"},a.isRtl?(0,O.Z)({marginLeft:"14px"},a.touch&&{marginLeft:"24px"}):(0,O.Z)({marginRight:"14px"},a.touch&&{marginRight:"24px"}))),(0,C.Z)(t,".".concat(To.popper,'[data-popper-placement*="right"] &'),(0,O.Z)({transformOrigin:"left center"},a.isRtl?(0,O.Z)({marginRight:"14px"},a.touch&&{marginRight:"24px"}):(0,O.Z)({marginLeft:"14px"},a.touch&&{marginLeft:"24px"}))),(0,C.Z)(t,".".concat(To.popper,'[data-popper-placement*="top"] &'),(0,O.Z)({transformOrigin:"center bottom",marginBottom:"14px"},a.touch&&{marginBottom:"24px"})),(0,C.Z)(t,".".concat(To.popper,'[data-popper-placement*="bottom"] &'),(0,O.Z)({transformOrigin:"center top",marginTop:"14px"},a.touch&&{marginTop:"24px"})),t))})),Oo=(0,fe.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,tn.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),Ro=!1,Ao=null;function Mo(e,t){return function(n){t&&t(n),e(n)}}var Do=k.forwardRef((function(e,t){var n,r,a,o,i,s,u=(0,he.Z)({props:e,name:"MuiTooltip"}),c=u.arrow,l=void 0!==c&&c,d=u.children,p=u.components,f=void 0===p?{}:p,h=u.componentsProps,m=void 0===h?{}:h,v=u.describeChild,g=void 0!==v&&v,y=u.disableFocusListener,b=void 0!==y&&y,x=u.disableHoverListener,w=void 0!==x&&x,S=u.disableInteractive,C=void 0!==S&&S,T=u.disableTouchListener,N=void 0!==T&&T,I=u.enterDelay,R=void 0===I?100:I,A=u.enterNextDelay,M=void 0===A?0:A,D=u.enterTouchDelay,P=void 0===D?700:D,F=u.followCursor,L=void 0!==F&&F,Z=u.id,j=u.leaveDelay,B=void 0===j?0:j,V=u.leaveTouchDelay,z=void 0===V?1500:V,U=u.onClose,W=u.onOpen,q=u.open,G=u.placement,H=void 0===G?"bottom":G,Q=u.PopperComponent,K=u.PopperProps,X=void 0===K?{}:K,Y=u.title,$=u.TransitionComponent,J=void 0===$?Hr:$,ee=u.TransitionProps,te=(0,_.Z)(u,No),ne=ge(),re="rtl"===ne.direction,ae=k.useState(),oe=(0,E.Z)(ae,2),ie=oe[0],se=oe[1],ue=k.useState(null),ce=(0,E.Z)(ue,2),le=ce[0],fe=ce[1],me=k.useRef(!1),ve=C||L,ye=k.useRef(),be=k.useRef(),xe=k.useRef(),we=k.useRef(),ke=(0,Eo.Z)({controlled:q,default:!1,name:"Tooltip",state:"open"}),Se=(0,E.Z)(ke,2),Ee=Se[0],Te=Se[1],Ne=Ee,_e=(0,So.Z)(Z),Ie=k.useRef(),Oe=k.useCallback((function(){void 0!==Ie.current&&(document.body.style.WebkitUserSelect=Ie.current,Ie.current=void 0),clearTimeout(we.current)}),[]);k.useEffect((function(){return function(){clearTimeout(ye.current),clearTimeout(be.current),clearTimeout(xe.current),Oe()}}),[Oe]);var De=function(e){clearTimeout(Ao),Ro=!0,Te(!0),W&&!Ne&&W(e)},Pe=(0,Ae.Z)((function(e){clearTimeout(Ao),Ao=setTimeout((function(){Ro=!1}),800+B),Te(!1),U&&Ne&&U(e),clearTimeout(ye.current),ye.current=setTimeout((function(){me.current=!1}),ne.transitions.duration.shortest)})),Fe=function(e){me.current&&"touchstart"!==e.type||(ie&&ie.removeAttribute("title"),clearTimeout(be.current),clearTimeout(xe.current),R||Ro&&M?be.current=setTimeout((function(){De(e)}),Ro?M:R):De(e))},Le=function(e){clearTimeout(be.current),clearTimeout(xe.current),xe.current=setTimeout((function(){Pe(e)}),B)},Ze=(0,Me.Z)(),je=Ze.isFocusVisibleRef,Be=Ze.onBlur,Ve=Ze.onFocus,ze=Ze.ref,Ue=k.useState(!1),We=(0,E.Z)(Ue,2)[1],qe=function(e){Be(e),!1===je.current&&(We(!1),Le(e))},Ge=function(e){ie||se(e.currentTarget),Ve(e),!0===je.current&&(We(!0),Fe(e))},He=function(e){me.current=!0;var t=d.props;t.onTouchStart&&t.onTouchStart(e)},Qe=Fe,Ke=Le;k.useEffect((function(){if(Ne)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Pe(e)}}),[Pe,Ne]);var Xe=(0,Re.Z)(se,t),Ye=(0,Re.Z)(ze,Xe),$e=(0,Re.Z)(d.ref,Ye);""===Y&&(Ne=!1);var Je=k.useRef({x:0,y:0}),et=k.useRef(),tt={},nt="string"===typeof Y;g?(tt.title=Ne||!nt||w?null:Y,tt["aria-describedby"]=Ne?_e:null):(tt["aria-label"]=nt?Y:null,tt["aria-labelledby"]=Ne&&!nt?_e:null);var rt=(0,O.Z)({},tt,te,d.props,{className:(0,de.Z)(te.className,d.props.className),onTouchStart:He,ref:$e},L?{onMouseMove:function(e){var t=d.props;t.onMouseMove&&t.onMouseMove(e),Je.current={x:e.clientX,y:e.clientY},et.current&&et.current.update()}}:{});var at={};N||(rt.onTouchStart=function(e){He(e),clearTimeout(xe.current),clearTimeout(ye.current),Oe(),Ie.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",we.current=setTimeout((function(){document.body.style.WebkitUserSelect=Ie.current,Fe(e)}),P)},rt.onTouchEnd=function(e){d.props.onTouchEnd&&d.props.onTouchEnd(e),Oe(),clearTimeout(xe.current),xe.current=setTimeout((function(){Pe(e)}),z)}),w||(rt.onMouseOver=Mo(Qe,rt.onMouseOver),rt.onMouseLeave=Mo(Ke,rt.onMouseLeave),ve||(at.onMouseOver=Qe,at.onMouseLeave=Ke)),b||(rt.onFocus=Mo(Ge,rt.onFocus),rt.onBlur=Mo(qe,rt.onBlur),ve||(at.onFocus=Ge,at.onBlur=qe));var ot=k.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(le),options:{element:le,padding:4}}];return null!=(e=X.popperOptions)&&e.modifiers&&(t=t.concat(X.popperOptions.modifiers)),(0,O.Z)({},X.popperOptions,{modifiers:t})}),[le,X]),it=(0,O.Z)({},u,{isRtl:re,arrow:l,disableInteractive:ve,placement:H,PopperComponentProp:Q,touch:me.current}),st=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,a=e.touch,o=e.placement,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch","tooltipPlacement".concat((0,Qt.Z)(o.split("-")[0]))],arrow:["arrow"]};return(0,pe.Z)(i,Co,t)}(it),ut=null!=(n=f.Popper)?n:_o,ct=null!=(r=null!=(a=f.Transition)?a:J)?r:Hr,lt=null!=(o=f.Tooltip)?o:Io,dt=null!=(i=f.Arrow)?i:Oo,pt=Rr(ut,(0,O.Z)({},X,m.popper),it),ft=Rr(ct,(0,O.Z)({},ee,m.transition),it),ht=Rr(lt,(0,O.Z)({},m.tooltip),it),mt=Rr(dt,(0,O.Z)({},m.arrow),it);return(0,Ce.jsxs)(k.Fragment,{children:[k.cloneElement(d,rt),(0,Ce.jsx)(ut,(0,O.Z)({as:null!=Q?Q:ko,placement:H,anchorEl:L?{getBoundingClientRect:function(){return{top:Je.current.y,left:Je.current.x,right:Je.current.x,bottom:Je.current.y,width:0,height:0}}}:ie,popperRef:et,open:!!ie&&Ne,id:_e,transition:!0},at,pt,{className:(0,de.Z)(st.popper,null==X?void 0:X.className,null==(s=m.popper)?void 0:s.className),popperOptions:ot,children:function(e){var t,n,r=e.TransitionProps;return(0,Ce.jsx)(ct,(0,O.Z)({timeout:ne.transitions.duration.shorter},r,ft,{children:(0,Ce.jsxs)(lt,(0,O.Z)({},ht,{className:(0,de.Z)(st.tooltip,null==(t=m.tooltip)?void 0:t.className),children:[Y,l?(0,Ce.jsx)(dt,(0,O.Z)({},mt,{className:(0,de.Z)(st.arrow,null==(n=m.arrow)?void 0:n.className),ref:fe})):null]}))}))}}))]})})),Po=Do,Fo=n(5205);var Lo=k.createContext({});function Zo(e){return(0,yt.Z)("MuiList",e)}(0,et.Z)("MuiList",["root","padding","dense","subheader"]);var jo=["children","className","component","dense","disablePadding","subheader"],Bo=(0,fe.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,O.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Vo=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiList"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"ul":o,s=n.dense,u=void 0!==s&&s,c=n.disablePadding,l=void 0!==c&&c,d=n.subheader,p=(0,_.Z)(n,jo),f=k.useMemo((function(){return{dense:u}}),[u]),h=(0,O.Z)({},n,{component:i,dense:u,disablePadding:l}),m=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,pe.Z)(n,Zo,t)}(h);return(0,Ce.jsx)(Lo.Provider,{value:f,children:(0,Ce.jsxs)(Bo,(0,O.Z)({as:i,className:(0,de.Z)(m.root,a),ref:t,ownerState:h},p,{children:[d,r]}))})}));function zo(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Uo=zo,Wo=n(162),qo=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Go(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ho(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Qo(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Ko(e,t,n,r,a,o){for(var i=!1,s=a(e,t,!!t&&n);s;){if(s===e.firstChild){if(i)return!1;i=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Qo(s,o)&&!u)return s.focus(),!0;s=a(e,s,n)}return!1}var Xo=k.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,o=e.autoFocusItem,i=void 0!==o&&o,s=e.children,u=e.className,c=e.disabledItemsFocusable,l=void 0!==c&&c,d=e.disableListWrap,p=void 0!==d&&d,f=e.onKeyDown,h=e.variant,m=void 0===h?"selectedMenu":h,v=(0,_.Z)(e,qo),g=k.useRef(null),y=k.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Wo.Z)((function(){a&&g.current.focus()}),[a]),k.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(Uo((0,Pt.Z)(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var b=(0,Re.Z)(g,t),x=-1;k.Children.forEach(s,(function(e,t){k.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===x)&&(x=t))}));var w=k.Children.map(s,(function(e,t){if(t===x){var n={};return i&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),k.cloneElement(e,n)}return e}));return(0,Ce.jsx)(Vo,(0,O.Z)({role:"menu",ref:b,className:u,onKeyDown:function(e){var t=g.current,n=e.key,r=(0,Pt.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ko(t,r,p,l,Go);else if("ArrowUp"===n)e.preventDefault(),Ko(t,r,p,l,Ho);else if("Home"===n)e.preventDefault(),Ko(t,null,p,l,Go);else if("End"===n)e.preventDefault(),Ko(t,null,p,l,Ho);else if(1===n.length){var a=y.current,o=n.toLowerCase(),i=performance.now();a.keys.length>0&&(i-a.lastTime>500?(a.keys=[],a.repeating=!0,a.previousKeyMatched=!0):a.repeating&&o!==a.keys[0]&&(a.repeating=!1)),a.lastTime=i,a.keys.push(o);var s=r&&!a.repeating&&Qo(r,a);a.previousKeyMatched&&(s||Ko(t,r,!1,l,Go,a))?e.preventDefault():a.previousKeyMatched=!1}f&&f(e)},tabIndex:a?0:-1},v,{children:w}))})),Yo=Xo,$o=n(8956),Jo=n(8949),ei=n(5671),ti=n(3144),ni=n(7979);function ri(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ai(e){return parseInt((0,ni.Z)(e).getComputedStyle(e).paddingRight,10)||0}function oi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,De.Z)(r)),i=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&-1===i.indexOf(e.tagName)&&ri(e,a)}))}function ii(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function si(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Xr.Z)(e);return t.body===e?(0,ni.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var a=zo((0,Xr.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(ai(r)+a,"px");var o=(0,Xr.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(ai(e)+a,"px")}))}var i=r.parentElement,s=(0,ni.Z)(r),u="HTML"===(null==i?void 0:i.nodeName)&&"scroll"===s.getComputedStyle(i).overflowY?i:r;n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ui=function(){function e(){(0,ei.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,ti.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ri(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);oi(t,e.mount,e.modalRef,r,!0);var a=ii(this.containers,(function(e){return e.container===t}));return-1!==a?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=ii(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=si(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=ii(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&ri(e.modalRef,!0),oi(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var a=r.modals[r.modals.length-1];a.modalRef&&ri(a.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),ci=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function li(e){var t=[],n=[];return Array.from(e.querySelectorAll(ci)).forEach((function(e,r){var a=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==a&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===a?t.push(e):n.push({documentOrder:r,tabIndex:a,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function di(){return!0}var pi=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,i=e.disableRestoreFocus,s=void 0!==i&&i,u=e.getTabbable,c=void 0===u?li:u,l=e.isEnabled,d=void 0===l?di:l,p=e.open,f=k.useRef(),h=k.useRef(null),m=k.useRef(null),v=k.useRef(null),g=k.useRef(null),y=k.useRef(!1),b=k.useRef(null),x=(0,Qr.Z)(t.ref,b),w=k.useRef(null);k.useEffect((function(){p&&b.current&&(y.current=!r)}),[r,p]),k.useEffect((function(){if(p&&b.current){var e=(0,Xr.Z)(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),y.current&&b.current.focus()),function(){s||(v.current&&v.current.focus&&(f.current=!0,v.current.focus()),v.current=null)}}}),[p]),k.useEffect((function(){if(p&&b.current){var e=(0,Xr.Z)(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!f.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!y.current)return;var r=[];if(e.activeElement!==h.current&&e.activeElement!==m.current||(r=c(b.current)),r.length>0){var a,i,s=Boolean((null==(a=w.current)?void 0:a.shiftKey)&&"Tab"===(null==(i=w.current)?void 0:i.key)),u=r[0],l=r[r.length-1];s?l.focus():u.focus()}else n.focus()}}else f.current=!1},n=function(t){w.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(f.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,o,s,d,p,c]);var S=function(e){null===v.current&&(v.current=e.relatedTarget),y.current=!0};return(0,Ce.jsxs)(k.Fragment,{children:[(0,Ce.jsx)("div",{tabIndex:0,onFocus:S,ref:h,"data-test":"sentinelStart"}),k.cloneElement(t,{ref:x,onFocus:function(e){null===v.current&&(v.current=e.relatedTarget),y.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Ce.jsx)("div",{tabIndex:0,onFocus:S,ref:m,"data-test":"sentinelEnd"})]})};function fi(e){return(0,yt.Z)("MuiModal",e)}(0,et.Z)("MuiModal",["root","hidden"]);var hi=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var mi=new ui,vi=k.forwardRef((function(e,t){var n=e.BackdropComponent,r=e.BackdropProps,a=e.children,o=e.classes,i=e.className,s=e.closeAfterTransition,u=void 0!==s&&s,c=e.component,l=void 0===c?"div":c,d=e.components,p=void 0===d?{}:d,f=e.componentsProps,h=void 0===f?{}:f,m=e.container,v=e.disableAutoFocus,g=void 0!==v&&v,y=e.disableEnforceFocus,b=void 0!==y&&y,x=e.disableEscapeKeyDown,w=void 0!==x&&x,S=e.disablePortal,C=void 0!==S&&S,T=e.disableRestoreFocus,N=void 0!==T&&T,I=e.disableScrollLock,R=void 0!==I&&I,A=e.hideBackdrop,M=void 0!==A&&A,D=e.keepMounted,P=void 0!==D&&D,F=e.manager,L=void 0===F?mi:F,Z=e.onBackdropClick,j=e.onClose,B=e.onKeyDown,V=e.open,z=e.theme,U=e.onTransitionEnter,W=e.onTransitionExited,q=(0,_.Z)(e,hi),G=k.useState(!0),H=(0,E.Z)(G,2),Q=H[0],K=H[1],X=k.useRef({}),Y=k.useRef(null),$=k.useRef(null),J=(0,Qr.Z)($,t),ee=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),te=function(){return X.current.modalRef=$.current,X.current.mountNode=Y.current,X.current},ne=function(){L.mount(te(),{disableScrollLock:R}),$.current.scrollTop=0},re=(0,$o.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(m)||(0,Xr.Z)(Y.current).body;L.add(te(),e),$.current&&ne()})),ae=k.useCallback((function(){return L.isTopModal(te())}),[L]),oe=(0,$o.Z)((function(e){Y.current=e,e&&(V&&ae()?ne():ri($.current,!0))})),ie=k.useCallback((function(){L.remove(te())}),[L]);k.useEffect((function(){return function(){ie()}}),[ie]),k.useEffect((function(){V?re():ee&&u||ie()}),[V,ie,ee,u,re]);var se=(0,O.Z)({},e,{classes:o,closeAfterTransition:u,disableAutoFocus:g,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:C,disableRestoreFocus:N,disableScrollLock:R,exited:Q,hideBackdrop:M,keepMounted:P}),ue=function(e){var t=e.open,n=e.exited,r=e.classes,a={root:["root",!t&&n&&"hidden"]};return(0,pe.Z)(a,fi,r)}(se);if(!P&&!V&&(!ee||Q))return null;var ce={};void 0===a.props.tabIndex&&(ce.tabIndex="-1"),ee&&(ce.onEnter=(0,Jo.Z)((function(){K(!1),U&&U()}),a.props.onEnter),ce.onExited=(0,Jo.Z)((function(){K(!0),W&&W(),u&&ie()}),a.props.onExited));var le=p.Root||l,fe=h.root||{};return(0,Ce.jsx)(po,{ref:oe,container:m,disablePortal:C,children:(0,Ce.jsxs)(le,(0,O.Z)({role:"presentation"},fe,!Or(le)&&{as:l,ownerState:(0,O.Z)({},se,fe.ownerState),theme:z},q,{ref:J,onKeyDown:function(e){B&&B(e),"Escape"===e.key&&ae()&&(w||(e.stopPropagation(),j&&j(e,"escapeKeyDown")))},className:(0,de.Z)(ue.root,fe.className,i),children:[!M&&n?(0,Ce.jsx)(n,(0,O.Z)({open:V,onClick:function(e){e.target===e.currentTarget&&(Z&&Z(e),j&&j(e,"backdropClick"))}},r)):null,(0,Ce.jsx)(pi,{disableEnforceFocus:b,disableAutoFocus:g,disableRestoreFocus:N,isEnabled:ae,open:V,children:k.cloneElement(a,ce)})]}))})})),gi=vi;function yi(e){return(0,yt.Z)("MuiBackdrop",e)}(0,et.Z)("MuiBackdrop",["root","invisible"]);var bi=["classes","className","invisible","component","components","componentsProps","theme"],xi=k.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.invisible,o=void 0!==a&&a,i=e.component,s=void 0===i?"div":i,u=e.components,c=void 0===u?{}:u,l=e.componentsProps,d=void 0===l?{}:l,p=e.theme,f=(0,_.Z)(e,bi),h=(0,O.Z)({},e,{classes:n,invisible:o}),m=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,pe.Z)(n,yi,t)}(h),v=c.Root||s,g=d.root||{};return(0,Ce.jsx)(v,(0,O.Z)({"aria-hidden":!0},g,!Or(v)&&{as:s,ownerState:(0,O.Z)({},h,g.ownerState),theme:p},{ref:t},f,{className:(0,de.Z)(m.root,g.className,r)}))})),wi=xi,ki=n(1314),Si=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ei={entering:{opacity:1},entered:{opacity:1}},Ci={enter:ki.x9.enteringScreen,exit:ki.x9.leavingScreen},Ti=k.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,o=e.children,i=e.easing,s=e.in,u=e.onEnter,c=e.onEntered,l=e.onEntering,d=e.onExit,p=e.onExited,f=e.onExiting,h=e.style,m=e.timeout,v=void 0===m?Ci:m,g=e.TransitionComponent,y=void 0===g?Br:g,b=(0,_.Z)(e,Si),x=ge(),w=k.useRef(null),S=(0,Re.Z)(o.ref,t),E=(0,Re.Z)(w,S),C=function(e){return function(t){if(e){var n=w.current;void 0===t?e(n):e(n,t)}}},T=C(l),N=C((function(e,t){Vr(e);var n=zr({style:h,timeout:v,easing:i},{mode:"enter"});e.style.webkitTransition=x.transitions.create("opacity",n),e.style.transition=x.transitions.create("opacity",n),u&&u(e,t)})),I=C(c),R=C(f),A=C((function(e){var t=zr({style:h,timeout:v,easing:i},{mode:"exit"});e.style.webkitTransition=x.transitions.create("opacity",t),e.style.transition=x.transitions.create("opacity",t),d&&d(e)})),M=C(p);return(0,Ce.jsx)(y,(0,O.Z)({appear:a,in:s,nodeRef:w,onEnter:N,onEntered:I,onEntering:T,onExit:A,onExited:M,onExiting:R,addEndListener:function(e){n&&n(w.current,e)},timeout:v},b,{children:function(e,t){return k.cloneElement(o,(0,O.Z)({style:(0,O.Z)({opacity:0,visibility:"exited"!==e||s?void 0:"hidden"},Ei[e],h,o.props.style),ref:E},t))}}))})),Ni=Ti,_i=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Ii=(0,fe.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,O.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Oi=k.forwardRef((function(e,t){var n,r=(0,he.Z)({props:e,name:"MuiBackdrop"}),a=r.children,o=r.components,i=void 0===o?{}:o,s=r.componentsProps,u=void 0===s?{}:s,c=r.className,l=r.invisible,d=void 0!==l&&l,p=r.open,f=r.transitionDuration,h=r.TransitionComponent,m=void 0===h?Ni:h,v=(0,_.Z)(r,_i),g=function(e){return e.classes}((0,O.Z)({},r,{invisible:d}));return(0,Ce.jsx)(m,(0,O.Z)({in:p,timeout:f},v,{children:(0,Ce.jsx)(wi,{className:c,invisible:d,components:(0,O.Z)({Root:Ii},i),componentsProps:{root:(0,O.Z)({},u.root,(!i.Root||!Or(i.Root))&&{ownerState:(0,O.Z)({},null==(n=u.root)?void 0:n.ownerState)})},classes:g,ref:t,children:a})}))})),Ri=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],Ai=(0,fe.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Mi=(0,fe.ZP)(Oi,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Di=k.forwardRef((function(e,t){var n,r=(0,he.Z)({name:"MuiModal",props:e}),a=r.BackdropComponent,o=void 0===a?Mi:a,i=r.closeAfterTransition,s=void 0!==i&&i,u=r.children,c=r.components,l=void 0===c?{}:c,d=r.componentsProps,p=void 0===d?{}:d,f=r.disableAutoFocus,h=void 0!==f&&f,m=r.disableEnforceFocus,v=void 0!==m&&m,g=r.disableEscapeKeyDown,y=void 0!==g&&g,b=r.disablePortal,x=void 0!==b&&b,w=r.disableRestoreFocus,S=void 0!==w&&w,C=r.disableScrollLock,T=void 0!==C&&C,N=r.hideBackdrop,I=void 0!==N&&N,R=r.keepMounted,A=void 0!==R&&R,M=(0,_.Z)(r,Ri),D=k.useState(!0),P=(0,E.Z)(D,2),F=P[0],L=P[1],Z={closeAfterTransition:s,disableAutoFocus:h,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:x,disableRestoreFocus:S,disableScrollLock:T,hideBackdrop:I,keepMounted:A},j=function(e){return e.classes}((0,O.Z)({},r,Z,{exited:F}));return(0,Ce.jsx)(gi,(0,O.Z)({components:(0,O.Z)({Root:Ai},l),componentsProps:{root:(0,O.Z)({},p.root,(!l.Root||!Or(l.Root))&&{ownerState:(0,O.Z)({},null==(n=p.root)?void 0:n.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return L(!1)},onTransitionExited:function(){return L(!0)},ref:t},M,{classes:j},Z,{children:u}))}));function Pi(e){return(0,yt.Z)("MuiPopover",e)}(0,et.Z)("MuiPopover",["root","paper"]);var Fi=["onEntering"],Li=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Zi(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ji(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Bi(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Vi(e){return"function"===typeof e?e():e}var zi=(0,fe.ZP)(Di,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Ui=(0,fe.ZP)(cr,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wi=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiPopover"}),r=n.action,a=n.anchorEl,o=n.anchorOrigin,i=void 0===o?{vertical:"top",horizontal:"left"}:o,s=n.anchorPosition,u=n.anchorReference,c=void 0===u?"anchorEl":u,l=n.children,d=n.className,p=n.container,f=n.elevation,h=void 0===f?8:f,m=n.marginThreshold,v=void 0===m?16:m,g=n.open,y=n.PaperProps,b=void 0===y?{}:y,x=n.transformOrigin,w=void 0===x?{vertical:"top",horizontal:"left"}:x,S=n.TransitionComponent,E=void 0===S?Hr:S,C=n.transitionDuration,T=void 0===C?"auto":C,N=n.TransitionProps,I=(N=void 0===N?{}:N).onEntering,R=(0,_.Z)(n.TransitionProps,Fi),A=(0,_.Z)(n,Li),M=k.useRef(),D=(0,Re.Z)(M,b.ref),P=(0,O.Z)({},n,{anchorOrigin:i,anchorReference:c,elevation:h,marginThreshold:v,PaperProps:b,transformOrigin:w,TransitionComponent:E,transitionDuration:T,TransitionProps:R}),F=function(e){var t=e.classes;return(0,pe.Z)({root:["root"],paper:["paper"]},Pi,t)}(P),L=k.useCallback((function(){if("anchorPosition"===c)return s;var e=Vi(a),t=(e&&1===e.nodeType?e:(0,Pt.Z)(M.current).body).getBoundingClientRect();return{top:t.top+Zi(t,i.vertical),left:t.left+ji(t,i.horizontal)}}),[a,i.horizontal,i.vertical,s,c]),Z=k.useCallback((function(e){return{vertical:Zi(e,w.vertical),horizontal:ji(e,w.horizontal)}}),[w.horizontal,w.vertical]),j=k.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=Z(t);if("none"===c)return{top:null,left:null,transformOrigin:Bi(n)};var r=L(),o=r.top-n.vertical,i=r.left-n.horizontal,s=o+t.height,u=i+t.width,l=(0,Ee.Z)(Vi(a)),d=l.innerHeight-v,p=l.innerWidth-v;if(o<v){var f=o-v;o-=f,n.vertical+=f}else if(s>d){var h=s-d;o-=h,n.vertical+=h}if(i<v){var m=i-v;i-=m,n.horizontal+=m}else if(u>p){var g=u-p;i-=g,n.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Bi(n)}}),[a,c,L,Z,v]),B=k.useCallback((function(){var e=M.current;if(e){var t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[j]);k.useEffect((function(){g&&B()})),k.useImperativeHandle(r,(function(){return g?{updatePosition:function(){B()}}:null}),[g,B]),k.useEffect((function(){if(g){var e=(0,be.Z)((function(){B()})),t=(0,Ee.Z)(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,g,B]);var V=T;"auto"!==T||E.muiSupportAuto||(V=void 0);var z=p||(a?(0,Pt.Z)(Vi(a)).body:void 0);return(0,Ce.jsx)(zi,(0,O.Z)({BackdropProps:{invisible:!0},className:(0,de.Z)(F.root,d),container:z,open:g,ref:t,ownerState:P},A,{children:(0,Ce.jsx)(E,(0,O.Z)({appear:!0,in:g,onEntering:function(e,t){I&&I(e,t),B()},timeout:V},R,{children:(0,Ce.jsx)(Ui,(0,O.Z)({elevation:h},b,{ref:D,className:(0,de.Z)(F.paper,b.className),children:l}))}))}))})),qi=Wi;function Gi(e){return(0,yt.Z)("MuiMenu",e)}(0,et.Z)("MuiMenu",["root","paper","list"]);var Hi=["onEntering"],Qi=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Ki={vertical:"top",horizontal:"right"},Xi={vertical:"top",horizontal:"left"},Yi=(0,fe.ZP)(qi,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),$i=(0,fe.ZP)(cr,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ji=(0,fe.ZP)(Yo,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),es=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiMenu"}),r=n.autoFocus,a=void 0===r||r,o=n.children,i=n.disableAutoFocusItem,s=void 0!==i&&i,u=n.MenuListProps,c=void 0===u?{}:u,l=n.onClose,d=n.open,p=n.PaperProps,f=void 0===p?{}:p,h=n.PopoverClasses,m=n.transitionDuration,v=void 0===m?"auto":m,g=n.TransitionProps,y=(g=void 0===g?{}:g).onEntering,b=n.variant,x=void 0===b?"selectedMenu":b,w=(0,_.Z)(n.TransitionProps,Hi),S=(0,_.Z)(n,Qi),E=ge(),C="rtl"===E.direction,T=(0,O.Z)({},n,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:c,onEntering:y,PaperProps:f,transitionDuration:v,TransitionProps:w,variant:x}),N=function(e){var t=e.classes;return(0,pe.Z)({root:["root"],paper:["paper"],list:["list"]},Gi,t)}(T),I=a&&!s&&d,R=k.useRef(null),A=-1;return k.Children.map(o,(function(e,t){k.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===A)&&(A=t))})),(0,Ce.jsx)(Yi,(0,O.Z)({classes:h,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Ki:Xi,PaperProps:(0,O.Z)({component:$i},f,{classes:(0,O.Z)({},f.classes,{root:N.paper})}),className:N.root,open:d,ref:t,transitionDuration:v,TransitionProps:(0,O.Z)({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,E),y&&y(e,t)}},w),ownerState:T},S,{children:(0,Ce.jsx)(Ji,(0,O.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),l&&l(e,"tabKeyDown"))},actions:R,autoFocus:a&&(-1===A||s),autoFocusItem:I,variant:x},c,{className:(0,de.Z)(N.list,c.className),children:o}))}))})),ts=es;function ns(e){return(0,yt.Z)("MuiDivider",e)}var rs=(0,et.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function as(e){return(0,yt.Z)("MuiListItemIcon",e)}var os=(0,et.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);function is(e){return(0,yt.Z)("MuiListItemText",e)}var ss=(0,et.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function us(e){return(0,yt.Z)("MuiMenuItem",e)}var cs=(0,et.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ls=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],ds=(0,fe.ZP)(Ct,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,O.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,C.Z)(t,"&.".concat(cs.selected),(0,C.Z)({backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(cs.focusVisible),{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,C.Z)(t,"&.".concat(cs.selected,":hover"),{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,C.Z)(t,"&.".concat(cs.focusVisible),{backgroundColor:n.palette.action.focus}),(0,C.Z)(t,"&.".concat(cs.disabled),{opacity:n.palette.action.disabledOpacity}),(0,C.Z)(t,"& + .".concat(rs.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,C.Z)(t,"& + .".concat(rs.inset),{marginLeft:52}),(0,C.Z)(t,"& .".concat(ss.root),{marginTop:0,marginBottom:0}),(0,C.Z)(t,"& .".concat(ss.inset),{paddingLeft:36}),(0,C.Z)(t,"& .".concat(os.root),{minWidth:36}),t),!r.dense&&(0,C.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,O.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,C.Z)({},"& .".concat(os.root," svg"),{fontSize:"1.25rem"})))})),ps=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,a=void 0!==r&&r,o=n.component,i=void 0===o?"li":o,s=n.dense,u=void 0!==s&&s,c=n.divider,l=void 0!==c&&c,d=n.disableGutters,p=void 0!==d&&d,f=n.focusVisibleClassName,h=n.role,m=void 0===h?"menuitem":h,v=n.tabIndex,g=(0,_.Z)(n,ls),y=k.useContext(Lo),b={dense:u||y.dense||!1,disableGutters:p},x=k.useRef(null);(0,Wo.Z)((function(){a&&x.current&&x.current.focus()}),[a]);var w,S=(0,O.Z)({},n,{dense:b.dense,divider:l,disableGutters:p}),E=function(e){var t=e.disabled,n=e.dense,r=e.divider,a=e.disableGutters,o=e.selected,i=e.classes,s={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",o&&"selected"]},u=(0,pe.Z)(s,us,i);return(0,O.Z)({},i,u)}(n),C=(0,Re.Z)(x,t);return n.disabled||(w=void 0!==v?v:-1),(0,Ce.jsx)(Lo.Provider,{value:b,children:(0,Ce.jsx)(ds,(0,O.Z)({ref:C,role:m,tabIndex:w,component:i,focusVisibleClassName:(0,de.Z)(E.focusVisible,f)},g,{ownerState:S,classes:E}))})})),fs=(0,fe.ZP)(fr,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return N({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),hs=function(e){var t=e.open,n=(e.setOpen,e.toggleSideBar),r=(0,k.useState)(null),a=(0,E.Z)(r,2),o=(a[0],a[1],(0,k.useState)(null)),i=(0,E.Z)(o,2),s=i[0],u=i[1],c=K(),l=(0,k.useContext)(Aq),d=l.UserData,p=l.handleLogout,f=l.handleSignUp;return(0,Ce.jsx)(fs,{position:"absolute",open:t,children:(0,Ce.jsxs)(gr,{sx:{pr:"24px"},children:[(0,Ce.jsx)(kr,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,sx:N({marginRight:"36px"},t&&{display:"none"}),children:(0,Ce.jsx)(Sr.Z,{})}),(0,Ce.jsx)(Ir,{variant:"h5",sx:{flexGrow:1},color:"inherit",noWrap:!0,children:"Computor Vision Game Playground"}),(0,Ce.jsxs)(kn,{sx:{flexGrow:.2,display:{xs:"none",md:"flex"}},children:[(0,Ce.jsx)(dn,{onClick:function(){c("/login/".concat(d.username,"/lobby"))},sx:{fontSize:20,color:"inherit",display:"block"},children:"Home"},"Home"),(0,Ce.jsx)(dn,{onClick:function(){c("/login/".concat(d.username,"/about"))},sx:{fontSize:20,color:"inherit",display:"block"},children:"About"},"About")]}),(0,Ce.jsxs)(kn,{sx:{flexGrow:0},children:[(0,Ce.jsx)(Po,{title:"".concat(d.username),children:(0,Ce.jsx)(kr,{onClick:function(e){u(e.currentTarget)},sx:{p:0},children:(0,Ce.jsx)(Fo.Z,{sx:{fontSize:"30px"}})})}),(0,Ce.jsxs)(ts,{sx:{mt:"30px"},id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},open:Boolean(s),onClose:function(){u(null)},children:[(0,Ce.jsx)(ps,{onClick:p,children:(0,Ce.jsx)(Ir,{textAlign:"center",children:"Log Out"})},"Log Out"),(0,Ce.jsx)(ps,{onClick:f,children:(0,Ce.jsx)(Ir,{textAlign:"center",children:"Sign Up"})},"Sign Up")]})]})]})})},ms=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function vs(e,t,n){var r,a=function(e,t,n){var r,a=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=(0,Ee.Z)(t);if(t.fakeTransform)r=t.fakeTransform;else{var s=i.getComputedStyle(t);r=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var u=0,c=0;if(r&&"none"!==r&&"string"===typeof r){var l=r.split("(")[1].split(")")[0].split(",");u=parseInt(l[4],10),c=parseInt(l[5],10)}return"left"===e?"translateX(".concat(o?o.right+u-a.left:i.innerWidth+u-a.left,"px)"):"right"===e?"translateX(-".concat(o?a.right-o.left-u:a.left+a.width-u,"px)"):"up"===e?"translateY(".concat(o?o.bottom+c-a.top:i.innerHeight+c-a.top,"px)"):"translateY(-".concat(o?a.top-o.top+a.height-c:a.top+a.height-c,"px)")}(e,t,"function"===typeof(r=n)?r():r);a&&(t.style.webkitTransform=a,t.style.transform=a)}var gs={enter:ki.Ui.easeOut,exit:ki.Ui.sharp},ys={enter:ki.x9.enteringScreen,exit:ki.x9.leavingScreen},bs=k.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,o=e.children,i=e.container,s=e.direction,u=void 0===s?"down":s,c=e.easing,l=void 0===c?gs:c,d=e.in,p=e.onEnter,f=e.onEntered,h=e.onEntering,m=e.onExit,v=e.onExited,g=e.onExiting,y=e.style,b=e.timeout,x=void 0===b?ys:b,w=e.TransitionComponent,S=void 0===w?Br:w,E=(0,_.Z)(e,ms),C=ge(),T=k.useRef(null),N=(0,Re.Z)(o.ref,T),I=(0,Re.Z)(N,t),R=function(e){return function(t){e&&(void 0===t?e(T.current):e(T.current,t))}},A=R((function(e,t){vs(u,e,i),Vr(e),p&&p(e,t)})),M=R((function(e,t){var n=zr({timeout:x,style:y,easing:l},{mode:"enter"});e.style.webkitTransition=C.transitions.create("-webkit-transform",(0,O.Z)({},n)),e.style.transition=C.transitions.create("transform",(0,O.Z)({},n)),e.style.webkitTransform="none",e.style.transform="none",h&&h(e,t)})),D=R(f),P=R(g),F=R((function(e){var t=zr({timeout:x,style:y,easing:l},{mode:"exit"});e.style.webkitTransition=C.transitions.create("-webkit-transform",t),e.style.transition=C.transitions.create("transform",t),vs(u,e,i),m&&m(e)})),L=R((function(e){e.style.webkitTransition="",e.style.transition="",v&&v(e)})),Z=k.useCallback((function(){T.current&&vs(u,T.current,i)}),[u,i]);return k.useEffect((function(){if(!d&&"down"!==u&&"right"!==u){var e=(0,be.Z)((function(){T.current&&vs(u,T.current,i)})),t=(0,Ee.Z)(T.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[u,d,i]),k.useEffect((function(){d||Z()}),[d,Z]),(0,Ce.jsx)(S,(0,O.Z)({nodeRef:T,onEnter:A,onEntered:D,onEntering:M,onExit:F,onExited:L,onExiting:P,addEndListener:function(e){n&&n(T.current,e)},appear:a,in:d,timeout:x},E,{children:function(e,t){return k.cloneElement(o,(0,O.Z)({ref:I,style:(0,O.Z)({visibility:"exited"!==e||d?void 0:"hidden"},y,o.props.style)},t))}}))})),xs=bs;function ws(e){return(0,yt.Z)("MuiDrawer",e)}(0,et.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var ks=["BackdropProps"],Ss=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Es=function(e,t){var n=e.ownerState;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Cs=(0,fe.ZP)(Di,{name:"MuiDrawer",slot:"Root",overridesResolver:Es})((function(e){return{zIndex:e.theme.zIndex.drawer}})),Ts=(0,fe.ZP)("div",{shouldForwardProp:fe.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Es})({flex:"0 0 auto"}),Ns=(0,fe.ZP)(cr,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["paperAnchor".concat((0,Qt.Z)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,Qt.Z)(n.anchor))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:t.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat(t.palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat(t.palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat(t.palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat(t.palette.divider)})})),_s={left:"right",right:"left",top:"down",bottom:"up"};var Is={enter:ki.x9.enteringScreen,exit:ki.x9.leavingScreen},Os=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiDrawer"}),r=n.anchor,a=void 0===r?"left":r,o=n.BackdropProps,i=n.children,s=n.className,u=n.elevation,c=void 0===u?16:u,l=n.hideBackdrop,d=void 0!==l&&l,p=n.ModalProps,f=(p=void 0===p?{}:p).BackdropProps,h=n.onClose,m=n.open,v=void 0!==m&&m,g=n.PaperProps,y=void 0===g?{}:g,b=n.SlideProps,x=n.TransitionComponent,w=void 0===x?xs:x,S=n.transitionDuration,E=void 0===S?Is:S,C=n.variant,T=void 0===C?"temporary":C,N=(0,_.Z)(n.ModalProps,ks),I=(0,_.Z)(n,Ss),R=ge(),A=k.useRef(!1);k.useEffect((function(){A.current=!0}),[]);var M=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?_s[t]:t}(R,a),D=a,P=(0,O.Z)({},n,{anchor:D,elevation:c,open:v,variant:T},I),F=function(e){var t=e.classes,n=e.anchor,r=e.variant,a={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,Qt.Z)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,Qt.Z)(n))]};return(0,pe.Z)(a,ws,t)}(P),L=(0,Ce.jsx)(Ns,(0,O.Z)({elevation:"temporary"===T?c:0,square:!0},y,{className:(0,de.Z)(F.paper,y.className),ownerState:P,children:i}));if("permanent"===T)return(0,Ce.jsx)(Ts,(0,O.Z)({className:(0,de.Z)(F.root,F.docked,s),ownerState:P,ref:t},I,{children:L}));var Z=(0,Ce.jsx)(w,(0,O.Z)({in:v,direction:_s[M],timeout:E,appear:A.current},b,{children:L}));return"persistent"===T?(0,Ce.jsx)(Ts,(0,O.Z)({className:(0,de.Z)(F.root,F.docked,s),ownerState:P,ref:t},I,{children:Z})):(0,Ce.jsx)(Cs,(0,O.Z)({BackdropProps:(0,O.Z)({},o,f,{transitionDuration:E}),className:(0,de.Z)(F.root,F.modal,s),open:v,ownerState:P,onClose:h,hideBackdrop:d,ref:t},I,N,{children:Z}))})),Rs=Os,As=n(1009),Ms=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Ds=(0,fe.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:(0,tn.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat(t.palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat(t.palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return(0,O.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),Ps=(0,fe.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),Fs=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiDivider"}),r=n.absolute,a=void 0!==r&&r,o=n.children,i=n.className,s=n.component,u=void 0===s?o?"div":"hr":s,c=n.flexItem,l=void 0!==c&&c,d=n.light,p=void 0!==d&&d,f=n.orientation,h=void 0===f?"horizontal":f,m=n.role,v=void 0===m?"hr"!==u?"separator":void 0:m,g=n.textAlign,y=void 0===g?"center":g,b=n.variant,x=void 0===b?"fullWidth":b,w=(0,_.Z)(n,Ms),k=(0,O.Z)({},n,{absolute:a,component:u,flexItem:l,light:p,orientation:h,role:v,textAlign:y,variant:x}),S=function(e){var t=e.absolute,n=e.children,r=e.classes,a=e.flexItem,o=e.light,i=e.orientation,s=e.textAlign,u={root:["root",t&&"absolute",e.variant,o&&"light","vertical"===i&&"vertical",a&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===s&&"vertical"!==i&&"textAlignRight","left"===s&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,pe.Z)(u,ns,r)}(k);return(0,Ce.jsx)(Ds,(0,O.Z)({as:u,className:(0,de.Z)(S.root,i),role:v,ref:t,ownerState:k},w,{children:o?(0,Ce.jsx)(Ps,{className:S.wrapper,ownerState:k,children:o}):null}))}));function Ls(e){return(0,yt.Z)("MuiListSubheader",e)}(0,et.Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var Zs=["className","color","component","disableGutters","disableSticky","inset"],js=(0,fe.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Qt.Z)(n.color))],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:t.palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})})),Bs=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiListSubheader"}),r=n.className,a=n.color,o=void 0===a?"default":a,i=n.component,s=void 0===i?"li":i,u=n.disableGutters,c=void 0!==u&&u,l=n.disableSticky,d=void 0!==l&&l,p=n.inset,f=void 0!==p&&p,h=(0,_.Z)(n,Zs),m=(0,O.Z)({},n,{color:o,component:s,disableGutters:c,disableSticky:d,inset:f}),v=function(e){var t=e.classes,n=e.color,r=e.disableGutters,a=e.inset,o=e.disableSticky,i={root:["root","default"!==n&&"color".concat((0,Qt.Z)(n)),!r&&"gutters",a&&"inset",!o&&"sticky"]};return(0,pe.Z)(i,Ls,t)}(m);return(0,Ce.jsx)(js,(0,O.Z)({as:s,className:(0,de.Z)(v.root,r),ref:t,ownerState:m},h))})),Vs=n(9103);function zs(e){return(0,yt.Z)("MuiListItem",e)}var Us=(0,et.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var Ws=(0,et.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function qs(e){return(0,yt.Z)("MuiListItemSecondaryAction",e)}(0,et.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var Gs=["className"],Hs=(0,fe.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,O.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Qs=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,a=(0,_.Z)(n,Gs),o=k.useContext(Lo),i=(0,O.Z)({},n,{disableGutters:o.disableGutters}),s=function(e){var t=e.disableGutters,n=e.classes,r={root:["root",t&&"disableGutters"]};return(0,pe.Z)(r,qs,n)}(i);return(0,Ce.jsx)(Hs,(0,O.Z)({className:(0,de.Z)(s.root,r),ownerState:i,ref:t},a))}));Qs.muiName="ListItemSecondaryAction";var Ks=Qs,Xs=["className"],Ys=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],$s=(0,fe.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,O.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&(0,O.Z)({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&(0,C.Z)({},"& > .".concat(Ws.root),{paddingRight:48}),(t={},(0,C.Z)(t,"&.".concat(Us.focusVisible),{backgroundColor:n.palette.action.focus}),(0,C.Z)(t,"&.".concat(Us.selected),(0,C.Z)({backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Us.focusVisible),{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,C.Z)(t,"&.".concat(Us.disabled),{opacity:n.palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},r.button&&(0,C.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Us.selected,":hover"),{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,tn.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),Js=(0,fe.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),eu=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiListItem"}),r=n.alignItems,a=void 0===r?"center":r,o=n.autoFocus,i=void 0!==o&&o,s=n.button,u=void 0!==s&&s,c=n.children,l=n.className,d=n.component,p=n.components,f=void 0===p?{}:p,h=n.componentsProps,m=void 0===h?{}:h,v=n.ContainerComponent,g=void 0===v?"li":v,y=n.ContainerProps,b=(y=void 0===y?{}:y).className,x=n.dense,w=void 0!==x&&x,S=n.disabled,E=void 0!==S&&S,C=n.disableGutters,T=void 0!==C&&C,N=n.disablePadding,I=void 0!==N&&N,R=n.divider,A=void 0!==R&&R,M=n.focusVisibleClassName,D=n.secondaryAction,P=n.selected,F=void 0!==P&&P,L=(0,_.Z)(n.ContainerProps,Xs),Z=(0,_.Z)(n,Ys),j=k.useContext(Lo),B={dense:w||j.dense||!1,alignItems:a,disableGutters:T},V=k.useRef(null);(0,Wo.Z)((function(){i&&V.current&&V.current.focus()}),[i]);var z=k.Children.toArray(c),U=z.length&&(0,Vs.Z)(z[z.length-1],["ListItemSecondaryAction"]),W=(0,O.Z)({},n,{alignItems:a,autoFocus:i,button:u,dense:B.dense,disabled:E,disableGutters:T,disablePadding:I,divider:A,hasSecondaryAction:U,selected:F}),q=function(e){var t=e.alignItems,n=e.button,r=e.classes,a=e.dense,o=e.disabled,i={root:["root",a&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,pe.Z)(i,zs,r)}(W),G=(0,Re.Z)(V,t),H=f.Root||$s,Q=m.root||{},K=(0,O.Z)({className:(0,de.Z)(q.root,Q.className,l),disabled:E},Z),X=d||"li";return u&&(K.component=d||"div",K.focusVisibleClassName=(0,de.Z)(Us.focusVisible,M),X=Ct),U?(X=K.component||d?X:"div","li"===g&&("li"===X?X="div":"li"===K.component&&(K.component="div")),(0,Ce.jsx)(Lo.Provider,{value:B,children:(0,Ce.jsxs)(Js,(0,O.Z)({as:g,className:(0,de.Z)(q.container,b),ref:G,ownerState:W},L,{children:[(0,Ce.jsx)(H,(0,O.Z)({},Q,!Or(H)&&{as:X,ownerState:(0,O.Z)({},W,Q.ownerState)},K,{children:z})),z.pop()]}))})):(0,Ce.jsx)(Lo.Provider,{value:B,children:(0,Ce.jsxs)(H,(0,O.Z)({},Q,{as:X,ref:G,ownerState:W},!Or(H)&&{ownerState:(0,O.Z)({},W,Q.ownerState)},K,{children:[z,D&&(0,Ce.jsx)(Ks,{children:D})]}))})})),tu=["className"],nu=(0,fe.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),ru=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiListItemIcon"}),r=n.className,a=(0,_.Z)(n,tu),o=k.useContext(Lo),i=(0,O.Z)({},n,{alignItems:o.alignItems}),s=function(e){var t=e.alignItems,n=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,pe.Z)(r,as,n)}(i);return(0,Ce.jsx)(nu,(0,O.Z)({className:(0,de.Z)(s.root,r),ownerState:i,ref:t},a))})),au=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ou=(0,fe.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,C.Z)({},"& .".concat(ss.primary),t.primary),(0,C.Z)({},"& .".concat(ss.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,O.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),iu=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiListItemText"}),r=n.children,a=n.className,o=n.disableTypography,i=void 0!==o&&o,s=n.inset,u=void 0!==s&&s,c=n.primary,l=n.primaryTypographyProps,d=n.secondary,p=n.secondaryTypographyProps,f=(0,_.Z)(n,au),h=k.useContext(Lo).dense,m=null!=c?c:r,v=d,g=(0,O.Z)({},n,{disableTypography:i,inset:u,primary:!!m,secondary:!!v,dense:h}),y=function(e){var t=e.classes,n=e.inset,r=e.primary,a=e.secondary,o={root:["root",n&&"inset",e.dense&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,pe.Z)(o,is,t)}(g);return null==m||m.type===Ir||i||(m=(0,Ce.jsx)(Ir,(0,O.Z)({variant:h?"body2":"body1",className:y.primary,component:"span",display:"block"},l,{children:m}))),null==v||v.type===Ir||i||(v=(0,Ce.jsx)(Ir,(0,O.Z)({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},p,{children:v}))),(0,Ce.jsxs)(ou,(0,O.Z)({className:(0,de.Z)(y.root,a),ownerState:g,ref:t},f,{children:[m,v]}))})),su=(0,_e.Z)((0,Ce.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function uu(e){return(0,yt.Z)("MuiAvatar",e)}(0,et.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var cu=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],lu=(0,fe.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),du=(0,fe.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),pu=(0,fe.ZP)(su,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var fu=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiAvatar"}),r=n.alt,a=n.children,o=n.className,i=n.component,s=void 0===i?"div":i,u=n.imgProps,c=n.sizes,l=n.src,d=n.srcSet,p=n.variant,f=void 0===p?"circular":p,h=(0,_.Z)(n,cu),m=null,v=function(e){var t=e.crossOrigin,n=e.referrerPolicy,r=e.src,a=e.srcSet,o=k.useState(!1),i=(0,E.Z)(o,2),s=i[0],u=i[1];return k.useEffect((function(){if(r||a){u(!1);var e=!0,o=new Image;return o.onload=function(){e&&u("loaded")},o.onerror=function(){e&&u("error")},o.crossOrigin=t,o.referrerPolicy=n,o.src=r,a&&(o.srcset=a),function(){e=!1}}}),[t,n,r,a]),s}((0,O.Z)({},u,{src:l,srcSet:d})),g=l||d,y=g&&"error"!==v,b=(0,O.Z)({},n,{colorDefault:!y,component:s,variant:f}),x=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,pe.Z)(n,uu,t)}(b);return m=y?(0,Ce.jsx)(du,(0,O.Z)({alt:r,src:l,srcSet:d,sizes:c,ownerState:b,className:x.img},u)):null!=a?a:g&&r?r[0]:(0,Ce.jsx)(pu,{className:x.fallback}),(0,Ce.jsx)(lu,(0,O.Z)({as:s,ownerState:b,className:(0,de.Z)(x.root,o),ref:t},h,{children:m}))})),hu=n(2780),mu=(0,fe.ZP)(Rs,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":N({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&(0,C.Z)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),vu=function(e){var t=e.open,r=(e.setOpen,e.toggleSideBar),a=K(),o=(0,k.useContext)(Aq).UserData;return(0,Ce.jsxs)(mu,{variant:"permanent",open:t,children:[(0,Ce.jsx)(gr,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:(0,Ce.jsx)(kr,{onClick:r,children:(0,Ce.jsx)(As.Z,{})})}),(0,Ce.jsx)(Fs,{}),(0,Ce.jsx)(Vo,{children:(0,Ce.jsxs)("div",{children:[(0,Ce.jsx)(Bs,{inset:!0,children:"Game List"}),(0,Ce.jsxs)(eu,{button:!0,onClick:function(){a("/login/".concat(o.username,"/pose-flappy-bird"))},children:[(0,Ce.jsx)(ru,{children:(0,Ce.jsx)(fu,{alt:"Pose Flappy Bird",src:n(2343)})}),(0,Ce.jsx)(iu,{primary:"Pose-Flappy-Bird"})]}),(0,Ce.jsxs)(eu,{button:!0,onClick:function(){a("/login/".concat(o.username,"/rock-paper-scissors"))},children:[(0,Ce.jsx)(ru,{children:(0,Ce.jsx)(fu,{alt:"Remy Sharp",src:n(4296)})}),(0,Ce.jsx)(iu,{primary:"Rock-Paper-Scissors"})]}),(0,Ce.jsxs)(eu,{button:!0,onClick:function(){a("/login/".concat(o.username,"/fingerexercise"))},children:[(0,Ce.jsx)(ru,{children:(0,Ce.jsx)(fu,{alt:"hands",src:n(176)})}),(0,Ce.jsx)(iu,{primary:"Finger-Exercise"})]}),(0,Ce.jsx)(Fs,{}),(0,Ce.jsx)(Bs,{inset:!0,children:"Statistics"}),(0,Ce.jsxs)(eu,{button:!0,onClick:function(){a("/login/".concat(o.username,"/leaderboard"))},children:[(0,Ce.jsx)(ru,{sx:{pl:1},children:(0,Ce.jsx)(hu.Z,{})}),(0,Ce.jsx)(iu,{primary:"Leader Board"})]}),(0,Ce.jsx)(Fs,{})]})})]})};function gu(e){return(0,yt.Z)("MuiContainer",e)}(0,et.Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var yu=["className","component","disableGutters","fixed","maxWidth"],bu=(0,fe.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,Qt.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,C.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},"xs"===n.maxWidth&&(0,C.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,C.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),xu=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiContainer"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=n.disableGutters,s=void 0!==i&&i,u=n.fixed,c=void 0!==u&&u,l=n.maxWidth,d=void 0===l?"lg":l,p=(0,_.Z)(n,yu),f=(0,O.Z)({},n,{component:o,disableGutters:s,fixed:c,maxWidth:d}),h=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,a=e.maxWidth,o={root:["root",a&&"maxWidth".concat((0,Qt.Z)(String(a))),n&&"fixed",r&&"disableGutters"]};return(0,pe.Z)(o,gu,t)}(f);return(0,Ce.jsx)(bu,(0,O.Z)({as:o,ownerState:f,className:(0,de.Z)(h.root,r),ref:t},p))})),wu=n(1184);var ku=k.createContext();function Su(e){return(0,yt.Z)("MuiGrid",e)}var Eu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Cu=(0,et.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,De.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,De.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,De.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,De.Z)(Eu.map((function(e){return"grid-xs-".concat(e)}))),(0,De.Z)(Eu.map((function(e){return"grid-sm-".concat(e)}))),(0,De.Z)(Eu.map((function(e){return"grid-md-".concat(e)}))),(0,De.Z)(Eu.map((function(e){return"grid-lg-".concat(e)}))),(0,De.Z)(Eu.map((function(e){return"grid-xl-".concat(e)}))))),Tu=Cu,Nu=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function _u(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Iu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,a=e.sm,o=e.md,i=e.lg,s=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(a)>0&&(n["spacing-sm-".concat(String(a))]||"spacing-sm-".concat(String(a))),Number(o)>0&&(n["spacing-md-".concat(String(o))]||"spacing-md-".concat(String(o))),Number(i)>0&&(n["spacing-lg-".concat(String(i))]||"spacing-lg-".concat(String(i))),Number(s)>0&&(n["spacing-xl-".concat(String(s))]||"spacing-xl-".concat(String(s)))]}var Ou=(0,fe.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,a=n.direction,o=n.item,i=n.lg,s=n.md,u=n.sm,c=n.spacing,l=n.wrap,d=n.xl,p=n.xs,f=n.zeroMinWidth;return[t.root,r&&t.container,o&&t.item,f&&t.zeroMinWidth].concat((0,De.Z)(Iu(c,r,t)),["row"!==a&&t["direction-xs-".concat(String(a))],"wrap"!==l&&t["wrap-xs-".concat(String(l))],!1!==p&&t["grid-xs-".concat(String(p))],!1!==u&&t["grid-sm-".concat(String(u))],!1!==s&&t["grid-md-".concat(String(s))],!1!==i&&t["grid-lg-".concat(String(i))],!1!==d&&t["grid-xl-".concat(String(d))]])}})((function(e){var t=e.ownerState;return(0,O.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"nowrap"===t.wrap&&{flexWrap:"nowrap"},"reverse"===t.wrap&&{flexWrap:"wrap-reverse"})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,wu.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,wu.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Tu.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.rowSpacing,o={};if(r&&0!==a){var i=(0,wu.P$)({values:a,breakpoints:t.breakpoints.values});o=(0,wu.k9)({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?(0,C.Z)({marginTop:"-".concat(_u(n))},"& > .".concat(Tu.item),{paddingTop:_u(n)}):{}}))}return o}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,a=n.columnSpacing,o={};if(r&&0!==a){var i=(0,wu.P$)({values:a,breakpoints:t.breakpoints.values});o=(0,wu.k9)({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?(0,C.Z)({width:"calc(100% + ".concat(_u(n),")"),marginLeft:"-".concat(_u(n))},"& > .".concat(Tu.item),{paddingLeft:_u(n)}):{}}))}return o}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,a){var o={};if(r[a]&&(t=r[a]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var i=(0,wu.P$)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof i?i[a]:i;if(void 0===s||null===s)return e;var u="".concat(Math.round(t/s*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var l=n.spacing(r.columnSpacing);if("0px"!==l){var d="calc(".concat(u," + ").concat(_u(l),")");c={flexBasis:d,maxWidth:d}}}o=(0,O.Z)({flexBasis:u,flexGrow:0,maxWidth:u},c)}return 0===n.breakpoints.values[a]?Object.assign(e,o):e[n.breakpoints.up(a)]=o,e}),{})})),Ru=k.forwardRef((function(e,t){var n,r=gn((0,he.Z)({props:e,name:"MuiGrid"})),a=r.className,o=r.columns,i=r.columnSpacing,s=r.component,u=void 0===s?"div":s,c=r.container,l=void 0!==c&&c,d=r.direction,p=void 0===d?"row":d,f=r.item,h=void 0!==f&&f,m=r.lg,v=void 0!==m&&m,g=r.md,y=void 0!==g&&g,b=r.rowSpacing,x=r.sm,w=void 0!==x&&x,S=r.spacing,E=void 0===S?0:S,C=r.wrap,T=void 0===C?"wrap":C,N=r.xl,I=void 0!==N&&N,R=r.xs,A=void 0!==R&&R,M=r.zeroMinWidth,D=void 0!==M&&M,P=(0,_.Z)(r,Nu),F=b||E,L=i||E,Z=k.useContext(ku),j=o||Z||12,B=(0,O.Z)({},r,{columns:j,container:l,direction:p,item:h,lg:v,md:y,sm:w,rowSpacing:F,columnSpacing:L,wrap:T,xl:I,xs:A,zeroMinWidth:D}),V=function(e){var t=e.classes,n=e.container,r=e.direction,a=e.item,o=e.lg,i=e.md,s=e.sm,u=e.spacing,c=e.wrap,l=e.xl,d=e.xs,p={root:["root",n&&"container",a&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat((0,De.Z)(Iu(u,n)),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==c&&"wrap-xs-".concat(String(c)),!1!==d&&"grid-xs-".concat(String(d)),!1!==s&&"grid-sm-".concat(String(s)),!1!==i&&"grid-md-".concat(String(i)),!1!==o&&"grid-lg-".concat(String(o)),!1!==l&&"grid-xl-".concat(String(l))])};return(0,pe.Z)(p,Su,t)}(B);return n=(0,Ce.jsx)(Ou,(0,O.Z)({ownerState:B,className:(0,de.Z)(V.root,a),as:u,ref:t},P)),12!==j?(0,Ce.jsx)(ku.Provider,{value:j,children:n}):n})),Au=Ru,Mu=n(8529);function Du(e){return(0,yt.Z)("MuiLink",e)}var Pu=(0,et.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Fu=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],Lu={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zu=(0,fe.ZP)(Ir,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat((0,Qt.Z)(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState,r=(0,Mu.D)(t,"palette.".concat(function(e){return Lu[e]||e}(n.color)))||n.color;return(0,O.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?(0,tn.Fq)(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&(0,C.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Pu.focusVisible),{outline:"auto"}))})),ju=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiLink"}),r=n.className,a=n.color,o=void 0===a?"primary":a,i=n.component,s=void 0===i?"a":i,u=n.onBlur,c=n.onFocus,l=n.TypographyClasses,d=n.underline,p=void 0===d?"always":d,f=n.variant,h=void 0===f?"inherit":f,m=(0,_.Z)(n,Fu),v=(0,Me.Z)(),g=v.isFocusVisibleRef,y=v.onBlur,b=v.onFocus,x=v.ref,w=k.useState(!1),S=(0,E.Z)(w,2),C=S[0],T=S[1],N=(0,Re.Z)(t,x),I=(0,O.Z)({},n,{color:o,component:s,focusVisible:C,underline:p,variant:h}),R=function(e){var t=e.classes,n=e.component,r=e.focusVisible,a=e.underline,o={root:["root","underline".concat((0,Qt.Z)(a)),"button"===n&&"button",r&&"focusVisible"]};return(0,pe.Z)(o,Du,t)}(I);return(0,Ce.jsx)(Zu,(0,O.Z)({className:(0,de.Z)(R.root,r),classes:l,color:o,component:s,onBlur:function(e){y(e),!1===g.current&&T(!1),u&&u(e)},onFocus:function(e){b(e),!0===g.current&&T(!0),c&&c(e)},ref:N,ownerState:I,variant:h},m))})),Bu=function(){return(0,Ce.jsx)(kn,{px:{xs:3,sm:8},py:{xs:3,sm:5},bgcolor:"text.secondary",color:"white",component:"footer",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]}},children:(0,Ce.jsx)(xu,{maxWidth:"lg",children:(0,Ce.jsxs)(Au,{container:!0,spacing:4,children:[(0,Ce.jsxs)(Au,{item:!0,xs:10,sm:4,children:[(0,Ce.jsx)(kn,{borderBottom:1,children:"Author"}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(ju,{href:"https://github.com/Bosh-Kuo",underline:"hover",color:"inherit",children:"\u90ed\u67cf\u5fd7 Bosh-Kuo"})}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(ju,{href:"https://github.com/feidon",underline:"hover",color:"inherit",children:"\u8cbb\u807f\u55a7 Yu-Hsuan Fei"})}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(ju,{href:"https://github.com/b06901089",underline:"hover",color:"inherit",children:"\u8521\u4e88\u8b19 Yu-Chien Tsai"})})]}),(0,Ce.jsxs)(Au,{item:!0,xs:10,sm:4,children:[(0,Ce.jsx)(kn,{borderBottom:1,children:"Contact"}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(Ir,{color:"inherit",children:"r09521205@ntu.edu.tw"})}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(Ir,{color:"inherit",children:"r09521515@ntu.edu.tw"})}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(Ir,{color:"inherit",children:"b06901089@ntu.edu.tw"})})]}),(0,Ce.jsxs)(Au,{item:!0,xs:10,sm:4,children:[(0,Ce.jsx)(kn,{borderBottom:1,children:"Reference"}),(0,Ce.jsx)(kn,{children:(0,Ce.jsx)(ju,{href:"https://www.facebook.com/groups/133408567007072",underline:"hover",color:"inherit",children:"Web Programming 2021-Fall"})})]})]})})})},Vu=function(e){var t=(0,k.useState)(!1),n=(0,E.Z)(t,2),r=n[0],a=n[1],o=function(){a(!r)};return(0,Ce.jsxs)(kn,{sx:{display:"flex"},children:[(0,Ce.jsx)(hs,{open:r,setOpen:a,toggleSideBar:o}),(0,Ce.jsx)(vu,{open:r,setOpen:a,toggleSideBar:o}),(0,Ce.jsxs)(kn,{sx:{flexGrow:1,height:"100vh"},children:[(0,Ce.jsx)(gr,{}),(0,Ce.jsx)(xu,{maxWidth:"lg",sx:{mt:4,mb:8,minHeight:"65vh"},children:e.children}),(0,Ce.jsx)(Bu,{})]})]})},zu="FINGER_EXERCISE",Uu="ROCK_PAPER_SCISSORS",Wu="POSE_FLAPPY_BIRD",qu=["value","index","loading","error","data","subscribeToMore"],Gu=(0,fe.ZP)(Vn)((function(e){var t,n=e.theme;return t={},(0,C.Z)(t,"&.".concat(Ln.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),(0,C.Z)(t,"&.".concat(Ln.body),{fontSize:14}),t})),Hu=(0,fe.ZP)(rr)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),Qu=function(e){var t=e.value,n=e.index,r=e.loading,a=e.error,o=e.data,i=(e.subscribeToMore,function(e,t){if(null==e)return{};var n,r,a=(0,_.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,qu));return r?(0,Ce.jsx)(kn,{children:"Loading..."}):a?(0,Ce.jsxs)(kn,{children:["Error! $",a.message]}):(0,Ce.jsx)("div",N(N({role:"tabpanel",hidden:t!==n,id:"tabpanel-".concat(n),"aria-labelledby":"tab-".concat(n)},i),{},{children:t===n&&(0,Ce.jsx)(qn,{component:cr,children:(0,Ce.jsxs)(_n,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,Ce.jsx)(Yn,{children:(0,Ce.jsxs)(Hu,{children:[(0,Ce.jsx)(Gu,{align:"center",children:"Name"}),(0,Ce.jsx)(Gu,{align:"center",children:n===Wu?"Score":"Time"})]})}),(0,Ce.jsx)(Pn,{children:o.users.map((function(e){var t=e.name,r=e.scores;if(r.filter((function(e){return e.game===n})).length>0)return(0,Ce.jsxs)(Hu,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Ce.jsx)(Gu,{align:"center",children:t}),(0,Ce.jsx)(Gu,{align:"center",children:r.map((function(e){return e.game===n?e.game===Wu?e.score:function(e){var t=("0"+Math.floor(e/6e4%60)).slice(-2),n=("0"+Math.floor(e/1e3%60)).slice(-2),r=("0"+e/10%100).slice(-2);return"".concat(t,":").concat(n,":").concat(r)}(e.score):null}))})]},t)}))})]})})}))},Ku=function(e){var t=(0,k.useState)(Uu),n=(0,E.Z)(t,2),r=n[0],a=n[1],o=K(),i=(0,k.useContext)(Aq).UserData;return(0,Ce.jsx)(Vu,{children:(0,Ce.jsxs)(kn,{sx:{display:"flex"},children:[(0,Ce.jsx)(kn,{sx:{width:"10%",height:"50px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,Ce.jsx)(dn,{variant:"contained",onClick:function(){o("/login/".concat(i.username,"/lobby"))},children:"Back"})}),(0,Ce.jsxs)(kn,{sx:{width:"80%"},children:[(0,Ce.jsxs)(Ht,{value:r,onChange:function(e,t){a(t)},variant:"fullWidth",children:[(0,Ce.jsx)(Jt,{value:Uu,label:Uu}),(0,Ce.jsx)(Jt,{value:zu,label:zu}),(0,Ce.jsx)(Jt,{value:Wu,label:Wu})]}),(0,Ce.jsx)(Qu,N({value:r,index:Uu},e)),(0,Ce.jsx)(Qu,N({value:r,index:zu},e)),(0,Ce.jsx)(Qu,N({value:r,index:Wu},e))]})]})})};function Xu(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,a="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Ce.jsx)(Xe,{styles:a})}var Yu=function(e){return(0,Ce.jsx)(Xu,(0,O.Z)({},e,{defaultTheme:ve.Z}))},$u=function(e,t){return(0,O.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},Ju=function(e){return(0,O.Z)({color:e.palette.text.primary},e.typography.body1,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var ec=function(e){var t=(0,he.Z)({props:e,name:"MuiCssBaseline"}),n=t.children,r=t.enableColorScheme,a=void 0!==r&&r;return(0,Ce.jsxs)(k.Fragment,{children:[(0,Ce.jsx)(Yu,{styles:function(e){return function(e){var t,n,r={html:$u(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,O.Z)({margin:0},Ju(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})},a=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return a&&(r=[r,a]),r}(e,a)}}),n]})},tc=n(8023),nc=n(9598),rc="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var ac=function(e){var t=e.children,n=e.theme,r=(0,nc.Z)(),a=k.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):(0,O.Z)({},e,t)}(r,n);return null!=e&&(e[rc]=null!==r),e}),[n,r]);return(0,Ce.jsx)(tc.Z.Provider,{value:a,children:t})};function oc(e){var t=(0,me.Z)();return(0,Ce.jsx)(Ge.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var ic=function(e){var t=e.children,n=e.theme;return(0,Ce.jsx)(ac,{theme:n,children:(0,Ce.jsx)(oc,{children:t})})};function sc(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){sc(o,r,a,i,s,"next",e)}function s(e){sc(o,r,a,i,s,"throw",e)}i(void 0)}))}}var cc=n(7757),lc=n.n(cc);var dc=function(){return dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},dc.apply(this,arguments)};Object.create;Object.create;var pc=n(7762);function fc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(e)}function mc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function gc(e,t){if(t&&("object"===vc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function yc(e){var t=mc();return function(){var n,r=hc(e);if(t){var a=hc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gc(this,n)}}function bc(e,t,n){return bc=mc()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Le(a,n.prototype),a},bc.apply(null,arguments)}function xc(e){var t="function"===typeof Map?new Map:void 0;return xc=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return bc(e,arguments,hc(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Le(r,e)},xc(e)}function wc(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}var kc=/\r\n|[\n\r]/g;function Sc(e,t){var n,r=0,a=1,o=(0,pc.Z)(e.body.matchAll(kc));try{for(o.s();!(n=o.n()).done;){var i=n.value;if("number"===typeof i.index||wc(!1),i.index>=t)break;r=i.index+i[0].length,a+=1}}catch(s){o.e(s)}finally{o.f()}return{line:a,column:t+1-r}}function Ec(e){return Cc(e.source,Sc(e.source,e.start))}function Cc(e,t){var n=e.locationOffset.column-1,r="".padStart(n)+e.body,a=t.line-1,o=e.locationOffset.line-1,i=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(i,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[a];if(d.length>120){for(var p=Math.floor(u/80),f=u%80,h=[],m=0;m<d.length;m+=80)h.push(d.slice(m,m+80));return c+Tc([["".concat(i," |"),h[0]]].concat((0,De.Z)(h.slice(1,p+1).map((function(e){return["|",e]}))),[["|","^".padStart(f)],["|",h[p+1]]]))}return c+Tc([["".concat(i-1," |"),l[a-1]],["".concat(i," |"),d],["|","^".padStart(u)],["".concat(i+1," |"),l[a+1]]])}function Tc(e){var t=e.filter((function(e){var t=(0,E.Z)(e,2);t[0];return void 0!==t[1]})),n=Math.max.apply(Math,(0,De.Z)(t.map((function(e){return(0,E.Z)(e,1)[0].length}))));return t.map((function(e){var t=(0,E.Z)(e,2),r=t[0],a=t[1];return r.padStart(n)+(a?" "+a:"")})).join("\n")}var Nc=function(e,t){fc(r,e);var n=yc(r);function r(e,t,a,o,i,s,u){var c,l,d,p;(0,ei.Z)(this,r),(c=n.call(this,e)).name="GraphQLError",c.path=null!==i&&void 0!==i?i:void 0,c.originalError=null!==s&&void 0!==s?s:void 0,c.nodes=_c(Array.isArray(t)?t:t?[t]:void 0);var f=_c(null===(l=c.nodes)||void 0===l?void 0:l.map((function(e){return e.loc})).filter((function(e){return null!=e})));c.source=null!==a&&void 0!==a?a:null===f||void 0===f||null===(d=f[0])||void 0===d?void 0:d.source,c.positions=null!==o&&void 0!==o?o:null===f||void 0===f?void 0:f.map((function(e){return e.start})),c.locations=o&&a?o.map((function(e){return Sc(a,e)})):null===f||void 0===f?void 0:f.map((function(e){return Sc(e.source,e.start)}));var h,m="object"==typeof(h=null===s||void 0===s?void 0:s.extensions)&&null!==h?null===s||void 0===s?void 0:s.extensions:void 0;return c.extensions=null!==(p=null!==u&&void 0!==u?u:m)&&void 0!==p?p:Object.create(null),Object.defineProperties(Fe(c),{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==s&&void 0!==s&&s.stack?Object.defineProperty(Fe(c),"stack",{value:s.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(Fe(c),r):Object.defineProperty(Fe(c),"stack",{value:Error().stack,writable:!0,configurable:!0}),c}return(0,ti.Z)(r,[{key:t,get:function(){return"GraphQLError"}},{key:"toString",value:function(){var e=this.message;if(this.nodes){var t,n=(0,pc.Z)(this.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.loc&&(e+="\n\n"+Ec(r.loc))}}catch(s){n.e(s)}finally{n.f()}}else if(this.source&&this.locations){var a,o=(0,pc.Z)(this.locations);try{for(o.s();!(a=o.n()).done;){var i=a.value;e+="\n\n"+Cc(this.source,i)}}catch(s){o.e(s)}finally{o.f()}}return e}},{key:"toJSON",value:function(){var e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}]),r}(xc(Error),Symbol.toStringTag);function _c(e){return void 0===e||0===e.length?void 0:e}function Ic(e,t,n){return new Nc("Syntax Error: ".concat(n),void 0,e,[t])}var Oc,Rc=n(3208),Ac=n(365);!function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(Oc||(Oc={}));var Mc,Dc=n(7173),Pc=n(3943),Fc=function(e,t){return e instanceof t},Lc=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};(0,ei.Z)(this,t),"string"===typeof e||(0,Pc.a)(!1,"Body must be a string. Received: ".concat((0,Dc.X)(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||(0,Pc.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,Pc.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}return(0,ti.Z)(t,[{key:e,get:function(){return"Source"}}]),t}(Symbol.toStringTag);!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(Mc||(Mc={}));var Zc=n(7810),jc=n(610),Bc=function(e){function t(e){(0,ei.Z)(this,t);var n=new Ac.WU(Oc.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}return(0,ti.Z)(t,[{key:e,get:function(){return"Lexer"}},{key:"advance",value:function(){return this.lastToken=this.token,this.token=this.lookahead()}},{key:"lookahead",value:function(){var e=this.token;if(e.kind!==Oc.EOF)do{if(e.next)e=e.next;else{var t=Hc(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===Oc.COMMENT);return e}}]),t}(Symbol.toStringTag);function Vc(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function zc(e,t){return Uc(e.charCodeAt(t))&&Wc(e.charCodeAt(t+1))}function Uc(e){return e>=55296&&e<=56319}function Wc(e){return e>=56320&&e<=57343}function qc(e,t){var n=e.source.body.codePointAt(t);if(void 0===n)return Oc.EOF;if(n>=32&&n<=126){var r=String.fromCodePoint(n);return'"'===r?"'\"'":'"'.concat(r,'"')}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Gc(e,t,n,r,a){var o=e.line,i=1+n-e.lineStart;return new Ac.WU(t,n,r,o,i,a)}function Hc(e,t){for(var n=e.source.body,r=n.length,a=t;a<r;){var o=n.charCodeAt(a);switch(o){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:10===n.charCodeAt(a+1)?a+=2:++a,++e.line,e.lineStart=a;continue;case 35:return Qc(e,a);case 33:return Gc(e,Oc.BANG,a,a+1);case 36:return Gc(e,Oc.DOLLAR,a,a+1);case 38:return Gc(e,Oc.AMP,a,a+1);case 40:return Gc(e,Oc.PAREN_L,a,a+1);case 41:return Gc(e,Oc.PAREN_R,a,a+1);case 46:if(46===n.charCodeAt(a+1)&&46===n.charCodeAt(a+2))return Gc(e,Oc.SPREAD,a,a+3);break;case 58:return Gc(e,Oc.COLON,a,a+1);case 61:return Gc(e,Oc.EQUALS,a,a+1);case 64:return Gc(e,Oc.AT,a,a+1);case 91:return Gc(e,Oc.BRACKET_L,a,a+1);case 93:return Gc(e,Oc.BRACKET_R,a,a+1);case 123:return Gc(e,Oc.BRACE_L,a,a+1);case 124:return Gc(e,Oc.PIPE,a,a+1);case 125:return Gc(e,Oc.BRACE_R,a,a+1);case 34:return 34===n.charCodeAt(a+1)&&34===n.charCodeAt(a+2)?rl(e,a):Yc(e,a)}if((0,jc.X1)(o)||45===o)return Kc(e,a,o);if((0,jc.LQ)(o))return al(e,a);throw Ic(e.source,a,39===o?"Unexpected single quote character ('), did you mean to use a double quote (\")?":Vc(o)||zc(n,a)?"Unexpected character: ".concat(qc(e,a),"."):"Invalid character: ".concat(qc(e,a),"."))}return Gc(e,Oc.EOF,r,r)}function Qc(e,t){for(var n=e.source.body,r=n.length,a=t+1;a<r;){var o=n.charCodeAt(a);if(10===o||13===o)break;if(Vc(o))++a;else{if(!zc(n,a))break;a+=2}}return Gc(e,Oc.COMMENT,t,a,n.slice(t+1,a))}function Kc(e,t,n){var r=e.source.body,a=t,o=n,i=!1;if(45===o&&(o=r.charCodeAt(++a)),48===o){if(o=r.charCodeAt(++a),(0,jc.X1)(o))throw Ic(e.source,a,"Invalid number, unexpected digit after 0: ".concat(qc(e,a),"."))}else a=Xc(e,a,o),o=r.charCodeAt(a);if(46===o&&(i=!0,o=r.charCodeAt(++a),a=Xc(e,a,o),o=r.charCodeAt(a)),69!==o&&101!==o||(i=!0,43!==(o=r.charCodeAt(++a))&&45!==o||(o=r.charCodeAt(++a)),a=Xc(e,a,o),o=r.charCodeAt(a)),46===o||(0,jc.LQ)(o))throw Ic(e.source,a,"Invalid number, expected digit but got: ".concat(qc(e,a),"."));return Gc(e,i?Oc.FLOAT:Oc.INT,t,a,r.slice(t,a))}function Xc(e,t,n){if(!(0,jc.X1)(n))throw Ic(e.source,t,"Invalid number, expected digit but got: ".concat(qc(e,t),"."));for(var r=e.source.body,a=t+1;(0,jc.X1)(r.charCodeAt(a));)++a;return a}function Yc(e,t){for(var n=e.source.body,r=n.length,a=t+1,o=a,i="";a<r;){var s=n.charCodeAt(a);if(34===s)return i+=n.slice(o,a),Gc(e,Oc.STRING,t,a+1,i);if(92!==s){if(10===s||13===s)break;if(Vc(s))++a;else{if(!zc(n,a))throw Ic(e.source,a,"Invalid character within String: ".concat(qc(e,a),"."));a+=2}}else{i+=n.slice(o,a);var u=117===n.charCodeAt(a+1)?123===n.charCodeAt(a+2)?$c(e,a):Jc(e,a):nl(e,a);i+=u.value,o=a+=u.size}}throw Ic(e.source,a,"Unterminated string.")}function $c(e,t){for(var n=e.source.body,r=0,a=3;a<12;){var o=n.charCodeAt(t+a++);if(125===o){if(a<5||!Vc(r))break;return{value:String.fromCodePoint(r),size:a}}if((r=r<<4|tl(o))<0)break}throw Ic(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+a),'".'))}function Jc(e,t){var n=e.source.body,r=el(n,t+2);if(Vc(r))return{value:String.fromCodePoint(r),size:6};if(Uc(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){var a=el(n,t+8);if(Wc(a))return{value:String.fromCodePoint(r,a),size:12}}throw Ic(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+6),'".'))}function el(e,t){return tl(e.charCodeAt(t))<<12|tl(e.charCodeAt(t+1))<<8|tl(e.charCodeAt(t+2))<<4|tl(e.charCodeAt(t+3))}function tl(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function nl(e,t){var n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Ic(e.source,t,'Invalid character escape sequence: "'.concat(n.slice(t,t+2),'".'))}function rl(e,t){for(var n=e.source.body,r=n.length,a=e.lineStart,o=t+3,i=o,s="",u=[];o<r;){var c=n.charCodeAt(o);if(34===c&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){s+=n.slice(i,o),u.push(s);var l=Gc(e,Oc.BLOCK_STRING,t,o+3,(0,Zc.wv)(u).join("\n"));return e.line+=u.length-1,e.lineStart=a,l}if(92!==c||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==c&&13!==c)if(Vc(c))++o;else{if(!zc(n,o))throw Ic(e.source,o,"Invalid character within String: ".concat(qc(e,o),"."));o+=2}else s+=n.slice(i,o),u.push(s),13===c&&10===n.charCodeAt(o+1)?o+=2:++o,s="",i=o,a=o;else s+=n.slice(i,o),i=o+1,o+=4}throw Ic(e.source,o,"Unterminated string.")}function al(e,t){for(var n=e.source.body,r=n.length,a=t+1;a<r;){var o=n.charCodeAt(a);if(!(0,jc.HQ)(o))break;++a}return Gc(e,Oc.NAME,t,a,n.slice(t,a))}var ol=function(){function e(t,n){(0,ei.Z)(this,e);var r=function(e){return Fc(e,Lc)}(t)?t:new Lc(t);this._lexer=new Bc(r),this._options=n}return(0,ti.Z)(e,[{key:"parseName",value:function(){var e=this.expectToken(Oc.NAME);return this.node(e,{kind:Rc.h.NAME,value:e.value})}},{key:"parseDocument",value:function(){return this.node(this._lexer.token,{kind:Rc.h.DOCUMENT,definitions:this.many(Oc.SOF,this.parseDefinition,Oc.EOF)})}},{key:"parseDefinition",value:function(){if(this.peek(Oc.BRACE_L))return this.parseOperationDefinition();var e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===Oc.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Ic(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}},{key:"parseOperationDefinition",value:function(){var e=this._lexer.token;if(this.peek(Oc.BRACE_L))return this.node(e,{kind:Rc.h.OPERATION_DEFINITION,operation:Ac.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});var t,n=this.parseOperationType();return this.peek(Oc.NAME)&&(t=this.parseName()),this.node(e,{kind:Rc.h.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseOperationType",value:function(){var e=this.expectToken(Oc.NAME);switch(e.value){case"query":return Ac.ku.QUERY;case"mutation":return Ac.ku.MUTATION;case"subscription":return Ac.ku.SUBSCRIPTION}throw this.unexpected(e)}},{key:"parseVariableDefinitions",value:function(){return this.optionalMany(Oc.PAREN_L,this.parseVariableDefinition,Oc.PAREN_R)}},{key:"parseVariableDefinition",value:function(){return this.node(this._lexer.token,{kind:Rc.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Oc.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Oc.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}},{key:"parseVariable",value:function(){var e=this._lexer.token;return this.expectToken(Oc.DOLLAR),this.node(e,{kind:Rc.h.VARIABLE,name:this.parseName()})}},{key:"parseSelectionSet",value:function(){return this.node(this._lexer.token,{kind:Rc.h.SELECTION_SET,selections:this.many(Oc.BRACE_L,this.parseSelection,Oc.BRACE_R)})}},{key:"parseSelection",value:function(){return this.peek(Oc.SPREAD)?this.parseFragment():this.parseField()}},{key:"parseField",value:function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Oc.COLON)?(e=r,t=this.parseName()):t=r,this.node(n,{kind:Rc.h.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Oc.BRACE_L)?this.parseSelectionSet():void 0})}},{key:"parseArguments",value:function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Oc.PAREN_L,t,Oc.PAREN_R)}},{key:"parseArgument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._lexer.token,n=this.parseName();return this.expectToken(Oc.COLON),this.node(t,{kind:Rc.h.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}},{key:"parseConstArgument",value:function(){return this.parseArgument(!0)}},{key:"parseFragment",value:function(){var e=this._lexer.token;this.expectToken(Oc.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Oc.NAME)?this.node(e,{kind:Rc.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Rc.h.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentDefinition",value:function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:Rc.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:Rc.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentName",value:function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}},{key:"parseValueLiteral",value:function(e){var t=this._lexer.token;switch(t.kind){case Oc.BRACKET_L:return this.parseList(e);case Oc.BRACE_L:return this.parseObject(e);case Oc.INT:return this._lexer.advance(),this.node(t,{kind:Rc.h.INT,value:t.value});case Oc.FLOAT:return this._lexer.advance(),this.node(t,{kind:Rc.h.FLOAT,value:t.value});case Oc.STRING:case Oc.BLOCK_STRING:return this.parseStringLiteral();case Oc.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:Rc.h.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Rc.h.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Rc.h.NULL});default:return this.node(t,{kind:Rc.h.ENUM,value:t.value})}case Oc.DOLLAR:if(e){if(this.expectToken(Oc.DOLLAR),this._lexer.token.kind===Oc.NAME){var n=this._lexer.token.value;throw Ic(this._lexer.source,t.start,'Unexpected variable "$'.concat(n,'" in constant value.'))}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}},{key:"parseConstValueLiteral",value:function(){return this.parseValueLiteral(!0)}},{key:"parseStringLiteral",value:function(){var e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:Rc.h.STRING,value:e.value,block:e.kind===Oc.BLOCK_STRING})}},{key:"parseList",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Rc.h.LIST,values:this.any(Oc.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Oc.BRACKET_R)})}},{key:"parseObject",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Rc.h.OBJECT,fields:this.any(Oc.BRACE_L,(function(){return t.parseObjectField(e)}),Oc.BRACE_R)})}},{key:"parseObjectField",value:function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Oc.COLON),this.node(t,{kind:Rc.h.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}},{key:"parseDirectives",value:function(e){for(var t=[];this.peek(Oc.AT);)t.push(this.parseDirective(e));return t}},{key:"parseConstDirectives",value:function(){return this.parseDirectives(!0)}},{key:"parseDirective",value:function(e){var t=this._lexer.token;return this.expectToken(Oc.AT),this.node(t,{kind:Rc.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}},{key:"parseTypeReference",value:function(){var e,t=this._lexer.token;if(this.expectOptionalToken(Oc.BRACKET_L)){var n=this.parseTypeReference();this.expectToken(Oc.BRACKET_R),e=this.node(t,{kind:Rc.h.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(Oc.BANG)?this.node(t,{kind:Rc.h.NON_NULL_TYPE,type:e}):e}},{key:"parseNamedType",value:function(){return this.node(this._lexer.token,{kind:Rc.h.NAMED_TYPE,name:this.parseName()})}},{key:"peekDescription",value:function(){return this.peek(Oc.STRING)||this.peek(Oc.BLOCK_STRING)}},{key:"parseDescription",value:function(){if(this.peekDescription())return this.parseStringLiteral()}},{key:"parseSchemaDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseConstDirectives(),r=this.many(Oc.BRACE_L,this.parseOperationTypeDefinition,Oc.BRACE_R);return this.node(e,{kind:Rc.h.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}},{key:"parseOperationTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Oc.COLON);var n=this.parseNamedType();return this.node(e,{kind:Rc.h.OPERATION_TYPE_DEFINITION,operation:t,type:n})}},{key:"parseScalarTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:Rc.h.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Rc.h.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:a,fields:o})}},{key:"parseImplementsInterfaces",value:function(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Oc.AMP,this.parseNamedType):[]}},{key:"parseFieldsDefinition",value:function(){return this.optionalMany(Oc.BRACE_L,this.parseFieldDefinition,Oc.BRACE_R)}},{key:"parseFieldDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Oc.COLON);var a=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:Rc.h.FIELD_DEFINITION,description:t,name:n,arguments:r,type:a,directives:o})}},{key:"parseArgumentDefs",value:function(){return this.optionalMany(Oc.PAREN_L,this.parseInputValueDef,Oc.PAREN_R)}},{key:"parseInputValueDef",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Oc.COLON);var r,a=this.parseTypeReference();this.expectOptionalToken(Oc.EQUALS)&&(r=this.parseConstValueLiteral());var o=this.parseConstDirectives();return this.node(e,{kind:Rc.h.INPUT_VALUE_DEFINITION,description:t,name:n,type:a,defaultValue:r,directives:o})}},{key:"parseInterfaceTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Rc.h.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:a,fields:o})}},{key:"parseUnionTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();return this.node(e,{kind:Rc.h.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:a})}},{key:"parseUnionMemberTypes",value:function(){return this.expectOptionalToken(Oc.EQUALS)?this.delimitedMany(Oc.PIPE,this.parseNamedType):[]}},{key:"parseEnumTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();return this.node(e,{kind:Rc.h.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:a})}},{key:"parseEnumValuesDefinition",value:function(){return this.optionalMany(Oc.BRACE_L,this.parseEnumValueDefinition,Oc.BRACE_R)}},{key:"parseEnumValueDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:Rc.h.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseEnumValueName",value:function(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Ic(this._lexer.source,this._lexer.token.start,"".concat(il(this._lexer.token)," is reserved and cannot be used for an enum value."));return this.parseName()}},{key:"parseInputObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();return this.node(e,{kind:Rc.h.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:a})}},{key:"parseInputFieldsDefinition",value:function(){return this.optionalMany(Oc.BRACE_L,this.parseInputValueDef,Oc.BRACE_R)}},{key:"parseTypeSystemExtension",value:function(){var e=this._lexer.lookahead();if(e.kind===Oc.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}},{key:"parseSchemaExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseConstDirectives(),n=this.optionalMany(Oc.BRACE_L,this.parseOperationTypeDefinition,Oc.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Rc.h.SCHEMA_EXTENSION,directives:t,operationTypes:n})}},{key:"parseScalarTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:Rc.h.SCALAR_TYPE_EXTENSION,name:t,directives:n})}},{key:"parseObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===a.length)throw this.unexpected();return this.node(e,{kind:Rc.h.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:a})}},{key:"parseInterfaceTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===a.length)throw this.unexpected();return this.node(e,{kind:Rc.h.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:a})}},{key:"parseUnionTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rc.h.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}},{key:"parseEnumTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rc.h.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}},{key:"parseInputObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rc.h.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}},{key:"parseDirectiveDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Oc.AT);var n=this.parseName(),r=this.parseArgumentDefs(),a=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return this.node(e,{kind:Rc.h.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:a,locations:o})}},{key:"parseDirectiveLocations",value:function(){return this.delimitedMany(Oc.PIPE,this.parseDirectiveLocation)}},{key:"parseDirectiveLocation",value:function(){var e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(Mc,t.value))return t;throw this.unexpected(e)}},{key:"node",value:function(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new Ac.Ye(e,this._lexer.lastToken,this._lexer.source)),t}},{key:"peek",value:function(e){return this._lexer.token.kind===e}},{key:"expectToken",value:function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ic(this._lexer.source,t.start,"Expected ".concat(sl(e),", found ").concat(il(t),"."))}},{key:"expectOptionalToken",value:function(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}},{key:"expectKeyword",value:function(e){var t=this._lexer.token;if(t.kind!==Oc.NAME||t.value!==e)throw Ic(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(il(t),"."));this._lexer.advance()}},{key:"expectOptionalKeyword",value:function(e){var t=this._lexer.token;return t.kind===Oc.NAME&&t.value===e&&(this._lexer.advance(),!0)}},{key:"unexpected",value:function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return Ic(this._lexer.source,t.start,"Unexpected ".concat(il(t),"."))}},{key:"any",value:function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r}},{key:"optionalMany",value:function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]}},{key:"many",value:function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}},{key:"delimitedMany",value:function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}]),e}();function il(e){var t=e.value;return sl(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function sl(e){return function(e){return e===Oc.BANG||e===Oc.DOLLAR||e===Oc.AMP||e===Oc.PAREN_L||e===Oc.PAREN_R||e===Oc.SPREAD||e===Oc.COLON||e===Oc.EQUALS||e===Oc.AT||e===Oc.BRACKET_L||e===Oc.BRACKET_R||e===Oc.BRACE_L||e===Oc.PIPE||e===Oc.BRACE_R}(e)?'"'.concat(e,'"'):e}var ul=new Map,cl=new Map,ll=!0,dl=!1;function pl(e){return e.replace(/[\s,]+/g," ").trim()}function fl(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,a=pl((i=e.loc).source.body.substring(i.start,i.end)),o=cl.get(r);o&&!o.has(a)?ll&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||cl.set(r,o=new Set),o.add(a),t.has(a)||(t.add(a),n.push(e))}else n.push(e);var i})),dc(dc({},e),{definitions:n})}function hl(e){var t=pl(e);if(!ul.has(t)){var n=function(e,t){return new ol(e,t).parseDocument()}(e,{experimentalFragmentVariables:dl,allowLegacyFragmentVariables:dl});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");ul.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"===typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(fl(n)))}return ul.get(t)}function ml(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"===typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),hl(r)}var vl,gl=ml,yl=function(){ul.clear(),cl.clear()},bl=function(){ll=!1},xl=function(){dl=!0},wl=function(){dl=!1};(vl=ml||(ml={})).gql=gl,vl.resetCaches=yl,vl.disableFragmentWarnings=bl,vl.enableExperimentalFragmentVariables=xl,vl.disableExperimentalFragmentVariables=wl,ml.default=ml;var kl,Sl,El,Cl,Tl,Nl=ml(kl||(kl=Pe(["\n  query users($game: String!) {\n    users(game: $game) {\n      name\n      scores {\n        game\n        score\n      }\n    }\n  }\n"]))),_l=ml(Sl||(Sl=Pe(["\n  mutation SignupMutation($data: CreateUserInput!) {\n    createUser(data:$data) {\n      ok\n      user {\n        name\n      }\n      error\n    }\n  }\n"]))),Il=ml(El||(El=Pe(["\n  mutation LoginMutation($data: CreateUserInput!) {\n      loginUser(data:$data) {\n      ok\n      user {\n        name\n        scores {\n          game\n          score\n        }\n      }\n      error\n    }\n  }\n"]))),Ol=ml(Cl||(Cl=Pe(["\n  mutation UpdateMutation($data: UpdateUserInput!) {\n    updateUser(data:$data) {\n      ok\n      user {\n        name\n        scores {\n          game\n          score\n        }\n      }\n      error\n    }\n  }\n"]))),Rl=ml(Tl||(Tl=Pe(["\n  subscription userUpdated($game: String!) {\n    userUpdated(game: $game) {\n      mutation\n      data {\n        name\n        scores {\n          game\n          score\n        }\n      }\n    }\n  }\n"]))),Al=function(e,t){return Al=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Al(e,t)};function Ml(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Al(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Dl=function(){return Dl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Dl.apply(this,arguments)};function Pl(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function Fl(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Ll(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zl(e,t)};Object.create;Object.create;var jl="Invariant Violation",Bl=Object.setPrototypeOf,Vl=void 0===Bl?function(e,t){return e.__proto__=t,e}:Bl,zl=function(e){function t(n){void 0===n&&(n=jl);var r=e.call(this,"number"===typeof n?jl+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=jl,Vl(r,t.prototype),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function Ul(e,t){if(!e)throw new zl(t)}var Wl=["debug","log","warn","error","silent"],ql=Wl.indexOf("log");function Gl(e){return function(){if(Wl.indexOf(e)>=ql){var t=console[e]||console.log;return t.apply(console,arguments)}}}!function(e){e.debug=Gl("debug"),e.log=Gl("log"),e.warn=Gl("warn"),e.error=Gl("error")}(Ul||(Ul={}));function Hl(e){try{return e()}catch(Bl){}}var Ql=Hl((function(){return globalThis}))||Hl((function(){return window}))||Hl((function(){return self}))||Hl((function(){return global}))||Hl((function(){return Hl.constructor("return this")()})),Kl="__",Xl=[Kl,Kl].join("DEV");var Yl=function(){try{return Boolean(__DEV__)}catch(Bl){return Object.defineProperty(Ql,Xl,{value:"production"!==Hl((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),Ql[Xl]}}();function $l(e){try{return e()}catch(t){}}var Jl=$l((function(){return globalThis}))||$l((function(){return window}))||$l((function(){return self}))||$l((function(){return n.g}))||$l((function(){return $l.constructor("return this")()})),ed=!1;function td(){ed&&(delete Jl.process,ed=!1)}function nd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rd(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function od(e,t,n){return t&&ad(e.prototype,t),n&&ad(e,n),e}!Jl||$l((function(){return"production"}))||$l((function(){return process}))||(Object.defineProperty(Jl,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),ed=!0),td(),__DEV__?Ul("boolean"===typeof Yl,Yl):Ul("boolean"===typeof Yl,36);var id=function(){return"function"===typeof Symbol},sd=function(e){return id()&&Boolean(Symbol[e])},ud=function(e){return sd(e)?Symbol[e]:"@@"+e};id()&&!sd("observable")&&(Symbol.observable=Symbol("observable"));var cd=ud("iterator"),ld=ud("observable"),dd=ud("species");function pd(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function fd(e){var t=e.constructor;return void 0!==t&&null===(t=t[dd])&&(t=void 0),void 0!==t?t:Sd}function hd(e){return e instanceof Sd}function md(e){md.log?md.log(e):setTimeout((function(){throw e}))}function vd(e){Promise.resolve().then((function(){try{e()}catch(t){md(t)}}))}function gd(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=pd(t,"unsubscribe");n&&n.call(t)}}catch(r){md(r)}}function yd(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function bd(e,t,n){e._state="running";var r=e._observer;try{var a=pd(r,t);switch(t){case"next":a&&a.call(r,n);break;case"error":if(yd(e),!a)throw n;a.call(r,n);break;case"complete":yd(e),a&&a.call(r)}}catch(o){md(o)}"closed"===e._state?gd(e):"running"===e._state&&(e._state="ready")}function xd(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void vd((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(bd(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void bd(e,t,n);e._queue.push({type:t,value:n})}}var wd=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new kd(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(yd(this),gd(this))},od(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),kd=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){xd(this._subscription,"next",e)},t.error=function(e){xd(this._subscription,"error",e)},t.complete=function(){xd(this._subscription,"complete")},od(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Sd=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new wd(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var a=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),a.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){a.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(fd(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(fd(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=fd(this),r=arguments.length>1,a=!1,o=arguments[1],i=o;return new n((function(n){return t.subscribe({next:function(t){var o=!a;if(a=!0,!o||r)try{i=e(i,t)}catch(s){return n.error(s)}else i=t},error:function(e){n.error(e)},complete:function(){if(!a&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=fd(this);return new a((function(t){var r,o=0;return function e(i){r=i.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(a.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=fd(this);return new n((function(r){var a=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=a.indexOf(o);e>=0&&a.splice(e,1),i()}});a.push(o)},error:function(e){r.error(e)},complete:function(){i()}});function i(){o.closed&&0===a.length&&r.complete()}return function(){a.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[ld]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=pd(t,ld);if(r){var a=r.call(t);if(Object(a)!==a)throw new TypeError(a+" is not an object");return hd(a)&&a.constructor===n?a:new n((function(e){return a.subscribe(e)}))}if(sd("iterator")&&(r=pd(t,cd)))return new n((function(e){vd((function(){if(!e.closed){for(var n,a=nd(r.call(t));!(n=a()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){vd((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a="function"===typeof this?this:e;return new a((function(e){vd((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},od(e,null,[{key:dd,get:function(){return this}}]),e}();function Ed(e){return null!==e&&"object"===typeof e}function Cd(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var a={};n.fields.map((function(e){return Cd(a,e.name,e.value,r)})),e[t.value]=a}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Cd(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new zl('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new zl(52);e[t.value]=null}}id()&&Object.defineProperty(Sd,Symbol("extensions"),{value:{symbol:ld,hostReportError:md},configurable:!0});var Td=["connection","include","skip","client","rest","export"],Nd=(Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var a={};return r.forEach((function(e){a[e]=t[e]})),"".concat(n.connection.key,"(").concat(Nd(a),")")}return n.connection.key}var o=e;if(t){var i=Nd(t);o+="(".concat(i,")")}return n&&Object.keys(n).forEach((function(e){-1===Td.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(Nd(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=Nd;return Nd=e,t}}),function(e){return JSON.stringify(e,_d)});function _d(e,t){return Ed(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Id(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,a=e.value;return Cd(n,r,a,t)})),n}return null}function Od(e){return e.alias?e.alias.value:e.name.value}function Rd(e){return"Field"===e.kind}function Ad(e){return"InlineFragment"===e.kind}function Md(e){__DEV__?Ul(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Ul(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new zl('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new zl(45);return e}));return __DEV__?Ul(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Ul(t.length<=1,46),e}function Dd(e){return Md(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Pd(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function Fd(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function Ld(e){var t;Md(e);for(var n=0,r=e.definitions;n<r.length;n++){var a=r[n];if("OperationDefinition"===a.kind){var o=a.operation;if("query"===o||"mutation"===o||"subscription"===o)return a}"FragmentDefinition"!==a.kind||t||(t=a)}if(t)return t;throw __DEV__?new zl("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new zl(51)}function Zd(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&Cd(t,e.variable.name,e.defaultValue)})),t}function jd(e,t){return t?t(e):Sd.of()}function Bd(e){return"function"===typeof e?new Ud(e):e}function Vd(e){return e.request.length<=1}var zd=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return Ml(t,e),t}(Error),Ud=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Sd.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Bd).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var a=Bd(n),o=Bd(r||new e(jd));return Vd(a)&&Vd(o)?new e((function(e){return t(e)?a.request(e)||Sd.of():o.request(e)||Sd.of()})):new e((function(e,n){return t(e)?a.request(e,n)||Sd.of():o.request(e,n)||Sd.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=Dl({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Dl(Dl({},n),"function"===typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Dl({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?Pd(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if(t.indexOf(a)<0)throw __DEV__?new zl("illegal argument: ".concat(a)):new zl(24)}return e}(t))))||Sd.of()},e.concat=function(t,n){var r=Bd(t);if(Vd(r))return __DEV__&&Ul.warn(new zd("You are calling concat on a terminating link, which will have no effect",r)),r;var a=Bd(n);return Vd(a)?new e((function(e){return r.request(e,(function(e){return a.request(e)||Sd.of()}))||Sd.of()})):new e((function(e,t){return r.request(e,(function(e){return a.request(e,t)||Sd.of()}))||Sd.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(jd)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new zl("request is not implemented"):new zl(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),Wd=Ud.execute;function qd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}var Gd=n(344),Hd=function(e,t){var n;try{n=JSON.stringify(e)}catch(a){var r=__DEV__?new zl("Network request failed. ".concat(t," is not serializable: ").concat(a.message)):new zl(21);throw r.parseError=a,r}return n},Qd=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Kd=Object.prototype.hasOwnProperty;var Xd=n(4197),Yd={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},$d=function(e,t){return t(e)};function Jd(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a={},o={};n.forEach((function(e){a=Dl(Dl(Dl({},a),e.options),{headers:Dl(Dl({},a.headers),ep(e.headers))}),e.credentials&&(a.credentials=e.credentials),o=Dl(Dl({},o),e.http)}));var i=e.operationName,s=e.extensions,u=e.variables,c=e.query,l={operationName:i,variables:u};return o.includeExtensions&&(l.extensions=s),o.includeQuery&&(l.query=t(c,Xd.print)),{options:a,body:l}}function ep(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function tp(e){return new Sd((function(t){t.error(e)}))}var np=Hl((function(){return fetch})),rp=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,a=e.print,o=void 0===a?$d:a,i=e.includeExtensions,s=e.useGETForQueries,u=e.includeUnusedVariables,c=void 0!==u&&u,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw __DEV__?new zl("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new zl(20)}(r||np);var d={http:{includeExtensions:i},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new Ud((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),a=e.getContext(),i={};if(a.clientAwareness){var u=a.clientAwareness,l=u.name,p=u.version;l&&(i["apollographql-client-name"]=l),p&&(i["apollographql-client-version"]=p)}var f,h=Dl(Dl({},i),a.headers),m={http:a.http,options:a.fetchOptions,credentials:a.credentials,headers:h},v=Jd(e,o,Yd,d,m),g=v.options,y=v.body;if(y.variables&&!c){var b=new Set(Object.keys(y.variables));(0,Gd.Vn)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(y.variables=Dl({},y.variables),b.forEach((function(e){delete y.variables[e]})))}if(!g.signal){var x=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=x.controller,k=x.signal;(f=w)&&(g.signal=k)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(g.method="GET"),"GET"===g.method){var S=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var a=void 0;try{a=Hd(t.variables,"Variables map")}catch(C){return{parseError:C}}r("variables",a)}if(t.extensions){var o=void 0;try{o=Hd(t.extensions,"Extensions map")}catch(C){return{parseError:C}}r("extensions",o)}var i="",s=e,u=e.indexOf("#");-1!==u&&(i=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+i}}(t,y),E=S.newURI,C=S.parseError;if(C)return tp(C);t=E}else try{g.body=Hd(y,"Payload")}catch(C){return tp(C)}return new Sd((function(n){var a;return(r||Hl((function(){return fetch}))||np)(t,g).then((function(t){return e.setContext({response:t}),t})).then((a=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&Qd(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||Kd.call(t,"data")||Kd.call(t,"errors")||Qd(e,t,"Server response was missing for query '".concat(Array.isArray(a)?a.map((function(e){return e.operationName})):a.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))},ap=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,rp(t).request)||this;return n.options=t,n}return Ml(t,e),t}(Ud),op=Object.prototype,ip=op.toString,sp=op.hasOwnProperty,up=Function.prototype.toString,cp=new Map;function lp(e,t){try{return dp(e,t)}finally{cp.clear()}}function dp(e,t){if(e===t)return!0;var n=ip.call(e);if(n!==ip.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(mp(e,t))return!0;var r=pp(e),a=pp(t),o=r.length;if(o!==a.length)return!1;for(var i=0;i<o;++i)if(!sp.call(t,r[i]))return!1;for(i=0;i<o;++i){var s=r[i];if(!dp(e[s],t[s]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(mp(e,t))return!0;for(var u=e.entries(),c="[object Map]"===n;;){var l=u.next();if(l.done)break;var d=l.value,p=d[0],f=d[1];if(!t.has(p))return!1;if(c&&!dp(f,t.get(p)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var h=e.byteLength;if(h===t.byteLength)for(;h--&&e[h]===t[h];);return-1===h;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var m=up.call(e);return m===up.call(t)&&!function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(m,hp)}return!1}function pp(e){return Object.keys(e).filter(fp,e)}function fp(e){return void 0!==this[e]}var hp="{ [native code] }";function mp(e,t){var n=cp.get(e);if(n){if(n.has(t))return!0}else cp.set(e,n=new Set);return n.add(t),!1}var vp=function(){return Object.create(null)},gp=Array.prototype,yp=gp.forEach,bp=gp.slice,xp=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=vp),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return yp.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(bp.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var wp="function"===typeof WeakMap&&!("object"===typeof navigator&&"ReactNative"===navigator.product),kp="function"===typeof WeakSet,Sp="function"===typeof Symbol&&"function"===typeof Symbol.for;var Ep,Cp,Tp=function(){function e(){this.known=new(kp?WeakSet:Set),this.pool=new xp(wp),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Ed(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Ed(e)){var t=function(e){return Ed(e)?Array.isArray(e)?e.slice(0):Dl({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Ed(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),o=[a],i=this.sortedKeys(e);o.push(i.json);var s,u=o.length;if(i.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(o)).object){var c=s.object=Object.create(a);this.known.add(c),i.sorted.forEach((function(e,t){c[e]=o[u+t]})),__DEV__&&Object.freeze(c)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),Np=Object.assign((function(e){if(Ed(e)){void 0===Ep&&_p();var t=Ep.admit(e),n=Cp.get(t);return void 0===n&&Cp.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:_p});function _p(){Ep=new Tp,Cp=new(wp?WeakMap:Map)}function Ip(e,t,n){return new Sd((function(r){var a=r.next,o=r.error,i=r.complete,s=0,u=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++s;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--s,a&&a.call(r,e),u&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:l(t,a),error:l(n,o),complete:function(){u=!0,s||i&&i.call(r)}},p=e.subscribe(d);return function(){return p.unsubscribe()}}))}function Op(e){return e.errors&&e.errors.length>0||!1}function Rp(e,t,n){var r=0;return e.forEach((function(n,a){t.call(this,n,a,e)&&(e[r++]=n)}),n),e.length=r,e}function Ap(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}var Mp={kind:"Field",name:{kind:"Name",value:"__typename"}};function Dp(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&Dp(t[e.name.value],t)}))}function Pp(e){return Dp(Dd(e)||function(e){__DEV__?Ul("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Ul("Document"===e.kind,48),__DEV__?Ul(e.definitions.length<=1,"Fragment must have exactly one definition."):Ul(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?Ul("FragmentDefinition"===t.kind,"Must be a fragment definition."):Ul("FragmentDefinition"===t.kind,50),t}(e),Ap(Fd(e)))?null:e}function Fp(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function Lp(e,t){var n=Object.create(null),r=[],a=Object.create(null),o=[],i=Pp((0,Gd.Vn)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(Fp(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&jp(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(Fp(e)(t))return null}}}));return i&&Rp(r,(function(e){return!!e.name&&!n[e.name]})).length&&(i=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return Pp((0,Gd.Vn)(t,{OperationDefinition:{enter:function(t){return Dl(Dl({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,i)),i&&Rp(o,(function(e){return!!e.name&&!a[e.name]})).length&&(i=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return Pp((0,Gd.Vn)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,i)),i}Object.assign((function(e){return(0,Gd.Vn)(Md(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return Rd(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var a=n;if(!(Rd(a)&&a.directives&&a.directives.some((function(e){return"export"===e.name.value}))))return Dl(Dl({},e),{selections:Ll(Ll([],r,!0),[Mp],!1)})}}}}})}),{added:function(e){return e===Mp}});var Zp={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&Ul.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function jp(e){var t=[];return e.selections.forEach((function(e){(Rd(e)||Ad(e))&&e.selectionSet?jp(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function Bp(e){return"query"===Ld(e).operation?e:(0,Gd.Vn)(e,{OperationDefinition:{enter:function(e){return Dl(Dl({},e),{operation:"query"})}}})}function Vp(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?Ul(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):Ul(n&&1===n.length,38);var a=n[0];__DEV__?Ul(a.name&&"if"===a.name.value,"Invalid argument for the @".concat(r," directive.")):Ul(a.name&&"if"===a.name.value,39);var o=a.value;__DEV__?Ul(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):Ul(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:a})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,a=!1;return"Variable"===r.value.kind?(a=t&&t[r.value.name.value],__DEV__?Ul(void 0!==a,"Invalid variable referenced in @".concat(n.name.value," directive.")):Ul(void 0!==a,37)):a=r.value.value,"skip"===n.name.value?!a:a}))}function zp(e,t){return function(e){var t=[];return(0,Gd.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Up(e){return e&&zp(["client"],e)&&zp(["export"],e)}var Wp=new Map;function qp(e){var t=Wp.get(e)||1;return Wp.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function Gp(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function Hp(e){function t(t){Object.defineProperty(e,t,{value:Sd})}return Sp&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Qp(e){return e&&"function"===typeof e.then}var Kp=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],Gp(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),Gp(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?Qp(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),Gp(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new Sd(t)]),Qp(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return Ml(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(a),e())},a={next:r,error:r,complete:r},o=this.addCount;this.addObserver(a),this.addCount=o},t}(Sd);function Xp(e){return Array.isArray(e)&&e.length>0}Hp(Kp);var Yp,$p=function(e){function t(n){var r=n.graphQLErrors,a=n.clientErrors,o=n.networkError,i=n.errorMessage,s=n.extraInfo,u=e.call(this,i)||this;return u.graphQLErrors=r||[],u.clientErrors=a||[],u.networkError=o||null,u.message=i||function(e){var t="";return(Xp(e.graphQLErrors)||Xp(e.clientErrors))&&(e.graphQLErrors||[]).concat(e.clientErrors||[]).forEach((function(e){var n=e?e.message:"Error message not found.";t+="".concat(n,"\n")})),e.networkError&&(t+="".concat(e.networkError.message,"\n")),t=t.replace(/\n$/,"")}(u),u.extraInfo=s,u.__proto__=t.prototype,u}return Ml(t,e),t}(Error);function Jp(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Yp||(Yp={}));var ef=Object.prototype.toString;function tf(e){return nf(e)}function nf(e,t){switch(ef.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=nf(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=nf(e[n],t)})),r;default:return e}}var rf=Object.assign,af=Object.hasOwnProperty,of=!1,sf=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,a=t.options,o=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=uf)}catch(t){}var r=!o.observers.size;o.observers.add(e);var a=o.last;return a&&a.error?e.error&&e.error(a.error):a&&a.result&&e.next&&e.next(a.result),r&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=a,o.queryId=r.queryId||n.generateQueryId();var i=Dd(a.query);return o.queryName=i&&i.name&&i.name.value,o.initialFetchPolicy=a.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return Ml(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){a.unsubscribe()}),0)},error:n},a=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Yp.ready,r=Dl(Dl({},t),{loading:Jp(n),networkStatus:n}),a=this.options.fetchPolicy,o=void 0===a?"cache-first":a;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var i=this.queryInfo.getDiff();(i.complete||this.options.returnPartialData)&&(r.data=i.result),lp(r.data,{})&&(r.data=void 0),i.complete?(delete r.partial,!i.complete||r.networkStatus!==Yp.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=Yp.ready,r.loading=!1)):r.partial=!0,!__DEV__||i.complete||this.options.partialRefetch||r.loading||r.data||r.error||cf(i.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!lp(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||lp(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="standby"===r||"cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&af.call(e,"variables")){var a=function(e){var t=Dd(e);return __DEV__?Ul(t&&"query"===t.operation,"Must contain a query definition."):Ul(t&&"query"===t.operation,47),t}(this.options.query),o=a.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&Ul.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=a.name)||void 0===t?void 0:t.value)||JSON.stringify(a),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!lp(this.options.variables,e)&&(n.variables=this.options.variables=Dl(Dl({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Yp.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Dl(Dl({},e.query?e:Dl(Dl(Dl({},this.options),e),{variables:Dl(Dl({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Yp.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,Yp.fetchMore).then((function(r){var a=r.data,o=e.updateQuery;return o?(__DEV__&&!of&&(__DEV__&&Ul.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),of=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:a,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:a}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var a=t.variables;return r(e,{subscriptionData:n,variables:a})}))},error:function(t){e.onError?e.onError(t):__DEV__&&Ul.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return lp(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Yp.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?Ul(n,"Attempted to start a polling query without a polling interval."):Ul(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Jp(e.queryInfo.networkStatus)?a():e.reobserve({fetchPolicy:"network-only"},Yp.poll).then(a,a))},a=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};a()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=Dl(Dl({},this.last),{result:this.queryManager.assumeImmutableResults?e:tf(e),variables:t}),Xp(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Yp.refetch||t===Yp.fetchMore||t===Yp.poll,a=this.options.variables,o=r?qd(this.options,e):rf(this.options,qd(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!lp(e.variables,a)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Yp.setVariables)));var i=o.variables&&Dl({},o.variables),s=this.fetch(o,t),u={next:function(e){n.reportResult(e,i)},error:function(e){n.reportError(e,i)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=s,this.observer=u),s.addObserver(u),s.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),Gp(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=Dl(Dl({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Yp.error,loading:!1});this.updateLastResult(n,t),Gp(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(Sd);function uf(e){__DEV__&&Ul.error("Unhandled error",e.message,e.stack)}function cf(e){__DEV__&&e&&__DEV__&&Ul.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}Hp(sf);var lf=Object.prototype.hasOwnProperty;function df(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pf(e)}function pf(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new hf,a=1;a<n;++a)t=r.merge(t,e[a]);return t}var ff=function(e,t,n){return this.merge(e[n],t[n])},hf=function(){function e(e){void 0===e&&(e=ff),this.reconciler=e,this.isObject=Ed,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];return Ed(t)&&Ed(e)?(Object.keys(t).forEach((function(a){if(lf.call(e,a)){var o=e[a];if(t[a]!==o){var i=n.reconciler.apply(n,Ll([e,t,a],r,!1));i!==o&&((e=n.shallowCopyForMerge(e))[a]=i)}}else(e=n.shallowCopyForMerge(e))[a]=t[a]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(Ed(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):Dl({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),mf=null,vf={},gf=1,yf="@wry/context:Slot",bf=Array,xf=bf["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",gf++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=mf;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===vf)break;return e!==mf&&(mf.slots[this.id]=t),!0}return mf&&(mf.slots[this.id]=vf),!1},e.prototype.getValue=function(){if(this.hasValue())return mf.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var a,o=((a={__proto__:null})[this.id]=e,a),i=mf;mf={parent:i,slots:o};try{return t.apply(r,n)}finally{mf=i}},e.bind=function(e){var t=mf;return function(){var n=mf;try{return mf=t,e.apply(this,arguments)}finally{mf=n}}},e.noContext=function(e,t,n){if(!mf)return e.apply(n,t);var r=mf;try{return mf=null,e.apply(n,t)}finally{mf=r}},e}();try{Object.defineProperty(bf,yf,{value:bf["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();xf.bind,xf.noContext;function wf(){}var kf,Sf=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=wf),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Ef=new xf,Cf=Object.prototype.hasOwnProperty,Tf=void 0===(kf=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:kf;function Nf(e){var t=e.unsubscribe;"function"===typeof t&&(e.unsubscribe=void 0,t())}var _f=[];function If(e,t){if(!e)throw new Error(t||"assertion failure")}function Of(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Rf=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!Df(this))return Af(this),this.value[0]},e.prototype.recompute=function(e){return If(!this.recomputing,"already recomputing"),Af(this),Df(this)?function(e,t){Vf(e),Ef.withValue(e,Mf,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{Nf(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,Df(e))return;Ff(e)}(e);return Of(e.value)}(this,e):Of(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Pf(this),Nf(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),Vf(this),Lf(this,(function(t,n){t.setDirty(),zf(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=_f.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(Tf(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),_f.push(this.deps),this.deps=null)},e.count=0,e}();function Af(e){var t=Ef.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Df(e)?Zf(t,e):jf(t,e),t}function Mf(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function Df(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Pf(e){Lf(e,Zf)}function Ff(e){Lf(e,jf)}function Lf(e,t){var n=e.parents.size;if(n)for(var r=Tf(e.parents),a=0;a<n;++a)t(r[a],e)}function Zf(e,t){If(e.childValues.has(t)),If(Df(t));var n=!Df(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=_f.pop()||new Set;e.dirtyChildren.add(t),n&&Pf(e)}function jf(e,t){If(e.childValues.has(t)),If(!Df(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),Bf(e,t),Df(e)||Ff(e)}function Bf(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(_f.length<100&&_f.push(n),e.dirtyChildren=null))}function Vf(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){zf(e,n)})),e.forgetDeps(),If(null===e.dirtyChildren)}function zf(e,t){t.parents.delete(e),e.childValues.delete(t),Bf(e,t)}var Uf={setDirty:!0,dispose:!0,forget:!0};function Wf(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=Ef.getValue();if(r){var a=t.get(e);a||t.set(e,a=new Set),r.dependOn(a),"function"===typeof n&&(Nf(a),a.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var a=n&&Cf.call(Uf,n)?n:"setDirty";Tf(r).forEach((function(e){return e[a]()})),t.delete(e),Nf(r)}},r}function qf(){var e=new xp("function"===typeof WeakMap);return function(){return e.lookupArray(arguments)}}qf();var Gf=new Set;function Hf(e,t){void 0===t&&(t=Object.create(null));var n=new Sf(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,a=t.makeCacheKey||qf(),o=function(){var o=a.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var i=n.get(o);i||(n.set(o,i=new Rf(e)),i.subscribe=t.subscribe,i.forget=function(){return n.delete(o)});var s=i.recompute(Array.prototype.slice.call(arguments));return n.set(o,i),Gf.add(n),Ef.hasValue()||(Gf.forEach((function(e){return e.clean()})),Gf.clear()),s};function i(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function u(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=i,o.dirty=function(){i(a.apply(null,arguments))},o.peekKey=s,o.peek=function(){return s(a.apply(null,arguments))},o.forgetKey=u,o.forget=function(){return u(a.apply(null,arguments))},o.makeCacheKey=a,o.getKey=r?function(){return a.apply(null,r.apply(null,arguments))}:a,Object.freeze(o)}var Qf=new xf;new WeakMap;var Kf=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=df(t.resolvers,e)})):this.resolvers=df(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,i=void 0!==o&&o;return Pl(this,void 0,void 0,(function(){return Fl(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,a,this.fragmentMatcher,i).then((function(e){return Dl(Dl({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return zp(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){Md(e);var t=Lp([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,Gd.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Rd(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Dl(Dl({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Pl(this,void 0,void 0,(function(){return Fl(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Dl(Dl({},t),e.exportedVariables)}))]:[2,Dl({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Gd.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Gd.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Bp(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,a,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===a&&(a=function(){return!0}),void 0===o&&(o=!1),Pl(this,void 0,void 0,(function(){var i,s,u,c,l,d,p,f,h;return Fl(this,(function(m){return i=Ld(e),s=Fd(e),u=Ap(s),c=i.operation,l=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",p=(d=this).cache,f=d.client,h={fragmentMap:u,context:Dl(Dl({},n),{cache:p,client:f}),variables:r,fragmentMatcher:a,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(i.selectionSet,t,h).then((function(e){return{result:e,exportedVariables:h.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Pl(this,void 0,void 0,(function(){var r,a,o,i,s,u=this;return Fl(this,(function(c){return r=n.fragmentMap,a=n.context,o=n.variables,i=[t],s=function(e){return Pl(u,void 0,void 0,(function(){var s,u;return Fl(this,(function(c){return Vp(e,o)?Rd(e)?[2,this.resolveField(e,t,n).then((function(t){var n;"undefined"!==typeof t&&i.push(((n={})[Od(e)]=t,n))}))]:(Ad(e)?s=e:(s=r[e.name.value],__DEV__?Ul(s,"No fragment named ".concat(e.name.value)):Ul(s,9)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,a))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){i.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return pf(i)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Pl(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p=this;return Fl(this,(function(f){return r=n.variables,a=e.name.value,o=Od(e),i=a!==o,s=t[o]||t[a],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(d=l[i?a:o])&&(u=Promise.resolve(Qf.withValue(this.cache,d,[t,Id(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),Xf=new(wp?WeakMap:Map);function Yf(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return Xf.set(e,(Xf.get(e)+1)%1e15),n.apply(this,arguments)})}function $f(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Jf=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Xf.has(n)||(Xf.set(n,0),Yf(n,"evict"),Yf(n,"modify"),Yf(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Yp.loading;return this.variables&&this.networkStatus!==Yp.loading&&!lp(this.variables,e.variables)&&(t=Yp.setVariables),lp(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){$f(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&lp(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||lp(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;$f(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Jp(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=Dl(Dl({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&lp(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Xf.get(this.cache)&&lp(t,n.variables)&&lp(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=Xp(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(eh(e,t.errorPolicy)?this.cache.performTransaction((function(a){if(r.shouldWrite(e,t.variables))a.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:Xf.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),i=a.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(i,o),i.complete&&(e.data=i.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Yp.ready},e.prototype.markError=function(e){return this.networkStatus=Yp.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function eh(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!Op(e);return!r&&n&&e.data&&(r=!0),r}var th=Object.prototype.hasOwnProperty,nh=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,a=void 0!==r&&r,o=e.onBroadcast,i=e.ssrMode,s=void 0!==i&&i,u=e.clientAwareness,c=void 0===u?{}:u,l=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(wp?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=a,this.clientAwareness=c,this.localState=l||new Kf({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!d,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new zl("QueryManager stopped while query was in flight"):new zl(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,i=void 0===o?[]:o,s=e.awaitRefetchQueries,u=void 0!==s&&s,c=e.update,l=e.onQueryUpdated,d=e.errorPolicy,p=void 0===d?"none":d,f=e.fetchPolicy,h=void 0===f?"network-only":f,m=e.keepRootFields,v=e.context;return Pl(this,void 0,void 0,(function(){var e,o,s;return Fl(this,(function(d){switch(d.label){case 0:return __DEV__?Ul(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):Ul(t,12),__DEV__?Ul("network-only"===h||"no-cache"===h,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Ul("network-only"===h||"no-cache"===h,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:h,errorPolicy:p,context:v,updateQueries:a,update:c,keepRootFields:m}),this.broadcastQueries(),s=this,[2,new Promise((function(d,f){return Ip(s.getObservableFromLink(t,Dl(Dl({},v),{optimisticResponse:r}),n,!1),(function(d){if(Op(d)&&"none"===p)throw new $p({graphQLErrors:d.errors});o&&(o.loading=!1,o.error=null);var f=Dl({},d);return"function"===typeof i&&(i=i(f)),"ignore"===p&&Op(f)&&delete f.errors,s.markMutationResult({mutationId:e,result:f,document:t,variables:n,fetchPolicy:h,errorPolicy:p,context:v,update:c,updateQueries:a,awaitRefetchQueries:u,refetchQueries:i,removeOptimistic:r?e:void 0,onQueryUpdated:l,keepRootFields:m})})).subscribe({next:function(e){s.broadcastQueries(),d(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&s.cache.removeOptimistic(e),s.broadcastQueries(),f(t instanceof $p?t:new $p({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,a=[],o="no-cache"===e.fetchPolicy;if(!o&&eh(r,e.errorPolicy)){a.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var i=e.updateQueries;i&&this.queries.forEach((function(e,o){var s=e.observableQuery,u=s&&s.queryName;if(u&&th.call(i,u)){var c=i[u],l=n.queries.get(o),d=l.document,p=l.variables,f=t.diff({query:d,variables:p,returnPartialData:!0,optimistic:!1}),h=f.result;if(f.complete&&h){var m=c(h,{mutationResult:r,queryName:d&&Pd(d)||void 0,queryVariables:p});m&&a.push({result:m,dataId:"ROOT_QUERY",query:d,variables:p})}}}))}if(a.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){o||a.forEach((function(e){return t.write(e)}));var i=e.update;if(i){if(!o){var s=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});s.complete&&(r=Dl(Dl({},r),{data:s.result}))}i(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Dl(Dl({},t),{result:{data:r}}),e)}catch(a){__DEV__&&Ul.error(a)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),a=(t=this.cache.transformForLink(r),Lp([Zp],Md(t))),o=this.localState.clientQuery(r),i=a&&this.localState.serverQuery(a),s={document:r,hasClientExports:Up(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:i,defaultVars:Zd(Dd(r)),asQuery:Dl(Dl({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Dl(Dl({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,s)};u(e),u(r),u(o),u(i)}return n.get(e)},e.prototype.getVariables=function(e,t){return Dl(Dl({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){"undefined"===typeof(e=Dl(Dl({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Jf(this),n=new sf({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?Ul(e.query,"query option is required. You must specify your GraphQL document in the query option."):Ul(e.query,14),__DEV__?Ul("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):Ul("Document"===e.query.kind,15),__DEV__?Ul(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):Ul(!e.returnPartialData,16),__DEV__?Ul(!e.pollInterval,"pollInterval option only supported on watchQuery."):Ul(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new zl("Store reset while query was in flight (not completed in link chain)"):new zl(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Yp.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,a=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):Ed(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):Ed(e)&&e.query&&a.add(e)})),this.queries.forEach((function(t,a){var o=t.observableQuery,i=t.document;if(o){if("all"===e)return void n.set(a,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&r.has(s)||i&&r.has(i))&&(n.set(a,o),s&&r.set(s,!0),i&&r.set(i,!0))}})),a.size&&a.forEach((function(e){var r=qp("legacyOneTimeQuery"),a=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new sf({queryManager:t,queryInfo:a,options:Dl(Dl({},e),{fetchPolicy:"network-only"})});Ul(o.queryId===r),a.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&Ul.warn("Unknown query ".concat("string"===typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,a){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(a).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,a=e.errorPolicy,o=e.variables,i=e.context,s=void 0===i?{}:i;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,s,e).map((function(o){if("no-cache"!==r&&(eh(o,a)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),Op(o))throw new $p({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,o,s).then(u);return new Sd((function(e){var t=null;return c.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var a,o,i=this;void 0===r&&(r=null!==(a=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==a?a:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var u=this.inFlightLinkObservables,c=this.link,l={query:s,variables:n,operationName:Pd(s)||void 0,context:this.prepareContext(Dl(Dl({},t),{forceFetch:!r}))};if(t=l.context,r){var d=u.get(s)||new Map;u.set(s,d);var p=Np(n);if(!(o=d.get(p))){var f=new Kp([Wd(c,l)]);d.set(p,o=f),f.cleanup((function(){d.delete(p)&&d.size<1&&u.delete(s)}))}}else o=new Kp([Wd(c,l)])}else o=new Kp([Sd.of({data:{}})]),t=this.prepareContext(t);var h=this.transform(e).clientQuery;return h&&(o=Ip(o,(function(e){return i.localState.runResolvers({document:h,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return Ip(this.getObservableFromLink(e.document,n.context,n.variables),(function(a){var o=Xp(a.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new $p({graphQLErrors:a.errors}));e.markResult(a,n,t),e.markReady()}var i={data:a.data,loading:!1,networkStatus:e.networkStatus||Yp.ready};return o&&"ignore"!==n.errorPolicy&&(i.errors=a.errors),i}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new $p({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Yp.loading);var a=this.transform(t.query).document,o=this.getVariables(a,t.variables),i=this.getQuery(e),s=t.fetchPolicy,u=void 0===s?"cache-first":s,c=t.errorPolicy,l=void 0===c?"none":c,d=t.returnPartialData,p=void 0!==d&&d,f=t.notifyOnNetworkStatusChange,h=void 0!==f&&f,m=t.context,v=void 0===m?{}:m,g=Object.assign({},t,{query:a,variables:o,fetchPolicy:u,errorPolicy:l,returnPartialData:p,notifyOnNetworkStatusChange:h,context:v}),y=function(e){return g.variables=e,r.fetchQueryByPolicy(i,g,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return b.cancel(e)}))}));var b=new Kp(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(y):y(g.variables));return b.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"===typeof r?r.call(e,n):r)}(t)})),b},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,a=e.optimistic,o=void 0!==a&&a,i=e.removeOptimistic,s=void 0===i?o?qp("refetchQueries"):void 0:i,u=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Jf&&e.watcher.observableQuery;if(r){if(u){c.delete(r.queryId);var a=u(r,t,n);return!0===a&&(a=r.refetch()),!1!==a&&l.set(r,a),a}null!==u&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,a=e.oq,o=e.lastDiff,i=e.diff;if(u){if(!i){var s=a.queryInfo;s.reset(),i=s.getDiff()}r=u(a,i,o)}u&&!0!==r||(r=a.refetch()),!1!==r&&l.set(a,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,a=t.query,o=t.variables,i=t.fetchPolicy,s=t.refetchWritePolicy,u=t.errorPolicy,c=t.returnPartialData,l=t.context,d=t.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:a,variables:o,networkStatus:n});var f=function(){return e.getDiff(o)},h=function(t,n){void 0===n&&(n=e.networkStatus||Yp.loading);var i=t.result;!__DEV__||c||lp(i,{})||cf(t.missing);var s=function(e){return Sd.of(Dl({data:e,loading:Jp(n),networkStatus:n},t.complete?null:{partial:!0}))};return i&&r.transform(a).hasForcedResolvers?r.localState.runResolvers({document:a,remoteResult:{data:i},context:l,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):s(i)},m="no-cache"===i?0:n===Yp.refetch&&"merge"!==s?1:2,v=function(){return r.getResultsFromLink(e,m,{variables:o,context:l,fetchPolicy:i,errorPolicy:u})},g=d&&"number"===typeof p&&p!==n&&Jp(n);switch(i){default:case"cache-first":return(y=f()).complete?[h(y,e.markReady())]:c||g?[h(y),v()]:[v()];case"cache-and-network":var y;return(y=f()).complete||c||g?[h(y),v()]:[v()];case"cache-only":return[h(f(),e.markReady())];case"network-only":return g?[h(f()),v()]:[v()];case"no-cache":return g?[h(e.getDiff()),v()]:[v()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Jf(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Dl(Dl({},t),{clientAwareness:this.clientAwareness})},e}(),rh=!1;function ah(e,t){return qd(e,t,t.variables&&{variables:Dl(Dl({},e.variables),t.variables)})}var oh;!function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,a=e.headers,o=e.cache,i=e.ssrMode,s=void 0!==i&&i,u=e.ssrForceFetchDelay,c=void 0===u?0:u,l=e.connectToDevTools,d=void 0===l?"object"===typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:l,p=e.queryDeduplication,f=void 0===p||p,h=e.defaultOptions,m=e.assumeImmutableResults,v=void 0!==m&&m,g=e.resolvers,y=e.typeDefs,b=e.fragmentMatcher,x=e.name,w=e.version,k=e.link;if(k||(k=n?new ap({uri:n,credentials:r,headers:a}):Ud.empty()),!o)throw __DEV__?new zl("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new zl(7);if(this.link=k,this.cache=o,this.disableNetworkFetches=s||c>0,this.queryDeduplication=f,this.defaultOptions=h||{},this.typeDefs=y,c&&setTimeout((function(){return t.disableNetworkFetches=!1}),c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&"object"===typeof window&&(window.__APOLLO_CLIENT__=this),!rh&&__DEV__&&(rh=!0,"undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var S=window.navigator,E=S&&S.userAgent,C=void 0;"string"===typeof E&&(E.indexOf("Chrome/")>-1?C="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":E.indexOf("Firefox/")>-1&&(C="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),C&&__DEV__&&Ul.log("Download the Apollo DevTools for a better development experience: "+C)}this.version="3.5.6",this.localState=new Kf({cache:o,client:this,resolvers:g,fragmentMatcher:b}),this.queryManager=new nh({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:s,clientAwareness:{name:x,version:w},localState:this.localState,assumeImmutableResults:v,onBroadcast:d?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ah(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Dl(Dl({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=ah(this.defaultOptions.query,e)),__DEV__?Ul("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Ul("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Dl(Dl({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ah(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Wd(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var a=Promise.all(r);return a.queries=n,a.results=r,a.catch((function(e){__DEV__&&Ul.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),a},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e}}();!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(oh||(oh={}));var ih=new Map;function sh(e){var t;switch(e){case oh.Query:t="Query";break;case oh.Mutation:t="Mutation";break;case oh.Subscription:t="Subscription"}return t}function uh(e,t){var n=function(e){var t,n,r=ih.get(e);if(r)return r;__DEV__?Ul(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Ul(!!e&&!!e.kind,30);var a=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),o=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),i=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?Ul(!a.length||o.length||i.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Ul(!a.length||o.length||i.length||s.length,31),__DEV__?Ul(o.length+i.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(o.length," queries, ").concat(s.length," ")+"subscriptions and ".concat(i.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):Ul(o.length+i.length+s.length<=1,32),n=o.length?oh.Query:oh.Mutation,o.length||i.length||(n=oh.Subscription);var u=o.length?o:i.length?i:s;__DEV__?Ul(1===u.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(u.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):Ul(1===u.length,33);var c=u[0];t=c.variableDefinitions||[];var l={name:c.name&&"Name"===c.name.kind?c.name.value:"data",type:n,variables:t};return ih.set(e,l),l}(e),r=sh(t),a=sh(n.type);__DEV__?Ul(n.type===t,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(a," was used instead.")):Ul(n.type===t,34)}var ch=Sp?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function lh(e){var t=(0,k.useContext)(function(){var e=k.createContext[ch];return e||(Object.defineProperty(k.createContext,ch,{value:e=k.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}()),n=e||t.client;return __DEV__?Ul(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClientApolloClient instance in via options.'):Ul(!!n,29),n}function dh(e,t){var n=lh(null===t||void 0===t?void 0:t.client);uh(e,oh.Mutation);var r=(0,k.useState)({called:!1,loading:!1,client:n}),a=r[0],o=r[1],i=(0,k.useRef)({result:a,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});Object.assign(i.current,{client:n,options:t,mutation:e});var s=(0,k.useCallback)((function(e){void 0===e&&(e={});var t=i.current,n=t.client,r=t.options,a=t.mutation,s=Dl(Dl({},r),{mutation:a});i.current.result.loading||s.ignoreResults||o(i.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:n});var u=++i.current.mutationId,c=ah(s,e);return n.mutate(c).then((function(t){var r,a,l=t.data,d=t.errors,p=d&&d.length>0?new $p({graphQLErrors:d}):void 0;if(u===i.current.mutationId&&!c.ignoreResults){var f={called:!0,loading:!1,data:l,error:p,client:n};i.current.isMounted&&!lp(i.current.result,f)&&o(i.current.result=f)}return null===(r=s.onCompleted)||void 0===r||r.call(s,t.data),null===(a=e.onCompleted)||void 0===a||a.call(e,t.data),t})).catch((function(t){var r,a;if(u===i.current.mutationId&&i.current.isMounted){var l={loading:!1,error:t,data:void 0,called:!0,client:n};lp(i.current.result,l)||o(i.current.result=l)}if(s.onError||c.onError)return null===(r=s.onError)||void 0===r||r.call(s,t),null===(a=e.onError)||void 0===a||a.call(e,t),{data:void 0,errors:t};throw t}))}),[]),u=(0,k.useCallback)((function(){o({called:!1,loading:!1,client:n})}),[]);return(0,k.useEffect)((function(){return function(){i.current.isMounted=!1}}),[]),[s,Dl({reset:u},a)]}var ph=function(){var e=dh(_l),t=(0,E.Z)(e,1)[0],n=dh(Il),r=(0,E.Z)(n,1)[0],a=dh(Ol),o=(0,E.Z)(a,1)[0],i={username:localStorage.getItem("save-me")||"fei",password:"fei",scores:{},signed:!1},s=(0,k.useState)(!1),u=(0,E.Z)(s,2),c=(u[0],u[1]),l=(0,k.useState)(i),d=(0,E.Z)(l,2),p=d[0],f=d[1],h=(0,k.useState)(""),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=(0,k.useState)(0),b=(0,E.Z)(y,2),x=b[0],w=b[1],S=(0,k.useState)(!1),T=(0,E.Z)(S,2),_=T[0],I=T[1],O=K(),R=Q();(0,k.useEffect)((function(){var e=null;return _?e=setInterval((function(){w((function(e){return e+10}))}),10):_||clearInterval(e),function(){return clearInterval(e)}}),[_]),(0,k.useEffect)((function(){console.log(R.pathname),p.signed||"/register"===R.pathname||O("/")}),[]);var A=function(e,t){f(N(N({},p),{},"username"===e||"password"===e?(0,C.Z)({},e,t):{scores:N(N({},p.scores),{},(0,C.Z)({},e,t))}))},M=function(){var e=uc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.clear();case 2:return e.next=4,f(i);case 4:O("/login");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=uc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.clear();case 2:return e.next=4,f(i);case 4:O("/register");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{UserData:p,game:v,time:x,timerOn:_,setUserData:f,setGame:g,setTime:w,setTimerOn:I,handleChangeUserData:A,handleCreate:function(){Object.values(p).some((function(e){return!e}))?c(!0):t({variables:{name:p.username,password:p.password},onCompleted:function(){f(i),O("/login")}})},handleLogin:function(){p.username&&p.password?r({variables:{name:p.username,password:p.password},onCompleted:function(e){e.ok?(Object.entries(e.user.scores).map((function(e,t){return A(e,t)})),O("/login/".concat(e.user.name))):c(e.error)}}):c(!0)},handleUpdate:function(){o({variables:{data:{name:p.username,game:v,score:x}}})},handleLogout:M,handleSignUp:D}};function fh(e){return(0,yt.Z)("MuiCard",e)}(0,et.Z)("MuiCard",["root"]);var hh=["className","raised"],mh=(0,fe.ZP)(cr,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),vh=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiCard"}),r=n.className,a=n.raised,o=void 0!==a&&a,i=(0,_.Z)(n,hh),s=(0,O.Z)({},n,{raised:o}),u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},fh,t)}(s);return(0,Ce.jsx)(mh,(0,O.Z)({className:(0,de.Z)(u.root,r),elevation:o?8:void 0,ref:t,ownerState:s},i))}));function gh(e){return(0,yt.Z)("MuiCardContent",e)}(0,et.Z)("MuiCardContent",["root"]);var yh=["className","component"],bh=(0,fe.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),xh=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiCardContent"}),r=n.className,a=n.component,o=void 0===a?"div":a,i=(0,_.Z)(n,yh),s=(0,O.Z)({},n,{component:o}),u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},gh,t)}(s);return(0,Ce.jsx)(bh,(0,O.Z)({as:o,className:(0,de.Z)(u.root,r),ownerState:s,ref:t},i))}));function wh(e){return(0,yt.Z)("MuiCardMedia",e)}(0,et.Z)("MuiCardMedia",["root","media","img"]);var kh=["children","className","component","image","src","style"],Sh=(0,fe.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.isMediaComponent,a=n.isImageComponent;return[t.root,r&&t.media,a&&t.img]}})((function(e){var t=e.ownerState;return(0,O.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),Eh=["video","audio","picture","iframe","img"],Ch=["picture","img"],Th=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiCardMedia"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"div":o,s=n.image,u=n.src,c=n.style,l=(0,_.Z)(n,kh),d=-1!==Eh.indexOf(i),p=!d&&s?(0,O.Z)({backgroundImage:'url("'.concat(s,'")')},c):c,f=(0,O.Z)({},n,{component:i,isMediaComponent:d,isImageComponent:-1!==Ch.indexOf(i)}),h=function(e){var t=e.classes,n={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,pe.Z)(n,wh,t)}(f);return(0,Ce.jsx)(Sh,(0,O.Z)({className:(0,de.Z)(h.root,a),as:i,role:!d&&s?"img":void 0,ref:t,style:p,ownerState:f,src:d?s||u:void 0},l,{children:r}))})),Nh=Th;function _h(e){return(0,yt.Z)("MuiCardActionArea",e)}var Ih=(0,et.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Oh=["children","className","focusVisibleClassName"],Rh=(0,fe.ZP)(Ct,{name:"MuiCardActionArea",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",textAlign:"inherit",width:"100%"},(0,C.Z)(t,"&:hover .".concat(Ih.focusHighlight),{opacity:n.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}}),(0,C.Z)(t,"&.".concat(Ih.focusVisible," .").concat(Ih.focusHighlight),{opacity:n.palette.action.focusOpacity}),t})),Ah=(0,fe.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:function(e,t){return t.focusHighlight}})((function(e){var t=e.theme;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),Mh=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiCardActionArea"}),r=n.children,a=n.className,o=n.focusVisibleClassName,i=(0,_.Z)(n,Oh),s=n,u=function(e){var t=e.classes;return(0,pe.Z)({root:["root"],focusHighlight:["focusHighlight"]},_h,t)}(s);return(0,Ce.jsxs)(Rh,(0,O.Z)({className:(0,de.Z)(u.root,a),focusVisibleClassName:(0,de.Z)(o,u.focusVisible),ref:t,ownerState:s},i,{children:[r,(0,Ce.jsx)(Ah,{className:u.focusHighlight,ownerState:s})]}))}));function Dh(e){var t=e.imageURL,n=e.title,r=e.description,a=e.onClick;return(0,Ce.jsx)(vh,{sx:{maxWidth:345,height:350},onClick:a,children:(0,Ce.jsxs)(Mh,{children:[(0,Ce.jsx)(Nh,{component:"img",height:"200",image:t}),(0,Ce.jsxs)(xh,{children:[(0,Ce.jsx)(Ir,{gutterBottom:!0,variant:"h5",component:"div",align:"center",children:n}),(0,Ce.jsx)(Ir,{variant:"body2",color:"text.secondary",align:"center",children:r})]})]})})}var Ph=function(){var e=(0,k.useContext)(Aq),t=e.UserData,r=(e.handleLogout,K());return(0,Ce.jsx)(Vu,{children:(0,Ce.jsx)(kn,{sx:{display:"flex"},children:(0,Ce.jsxs)(Au,{container:!0,spacing:5,children:[(0,Ce.jsx)(Au,{item:!0,children:(0,Ce.jsx)(Dh,{imageURL:n(2343),title:"Pose Flappy Bird",description:"It's a new version flappy bird! We use pose detection technology with your webcam to detect your pose.         You can control the bird flying by wave your arms !",onClick:function(){r("/login/".concat(t.username,"/pose-flappy-bird"))}})}),(0,Ce.jsx)(Au,{item:!0,children:(0,Ce.jsx)(Dh,{imageURL:n(4296),title:"Rock-Paper-Scissors",description:"Use one of your hands to play rock-paper-scissors with the computer!         You will ask to win / lose / tie with the computer! React as quickly as you can to stay on the leaderboard!!!",onClick:function(){r("/login/".concat(t.username,"/rock-paper-scissors"))}})}),(0,Ce.jsx)(Au,{item:!0,children:(0,Ce.jsx)(Dh,{imageURL:n(176),title:"Finger Exercise",description:"Use your hands to play Finger Exercise! You will ask to finish the hand pose array! As quickly as you can to stay on the leaderboard!!!",onClick:function(){r("/login/".concat(t.username,"/fingerexercise"))}})})]})})})},Fh=n(5286),Lh=n(6248),Zh=n(6189),jh=n(3981),Bh=["onChange","maxRows","minRows","style","value"];function Vh(e,t){return parseInt(e[t],10)||0}var zh={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Uh=k.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,a=e.minRows,o=void 0===a?1:a,i=e.style,s=e.value,u=(0,_.Z)(e,Bh),c=k.useRef(null!=s).current,l=k.useRef(null),d=(0,Qr.Z)(t,l),p=k.useRef(null),f=k.useRef(0),h=k.useState({}),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=k.useCallback((function(){var t=l.current,n=(0,ni.Z)(t).getComputedStyle(t);if("0px"!==n.width){var a=p.current;a.style.width=n.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");var i=n["box-sizing"],s=Vh(n,"padding-bottom")+Vh(n,"padding-top"),u=Vh(n,"border-bottom-width")+Vh(n,"border-top-width"),c=a.scrollHeight;a.value="x";var d=a.scrollHeight,h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h));var m=(h=Math.max(h,d))+("border-box"===i?s+u:0),v=Math.abs(h-c)<=1;g((function(e){return f.current<20&&(m>0&&Math.abs((e.outerHeightStyle||0)-m)>1||e.overflow!==v)?(f.current+=1,{overflow:v,outerHeightStyle:m}):e}))}}),[r,o,e.placeholder]);k.useEffect((function(){var e,t=(0,jh.Z)((function(){f.current=0,y()})),n=(0,ni.Z)(l.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(l.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[y]),(0,Kr.Z)((function(){y()})),k.useEffect((function(){f.current=0}),[s]);return(0,Ce.jsxs)(k.Fragment,{children:[(0,Ce.jsx)("textarea",(0,O.Z)({value:s,onChange:function(e){f.current=0,c||y(),n&&n(e)},ref:d,rows:o,style:(0,O.Z)({height:v.outerHeightStyle,overflow:v.overflow?"hidden":null},i)},u)),(0,Ce.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,O.Z)({},zh,i,{padding:0})})]})})),Wh=Uh;function qh(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Gh=k.createContext();function Hh(){return k.useContext(Gh)}function Qh(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Qh(e.value)&&""!==e.value||t&&Qh(e.defaultValue)&&""!==e.defaultValue)}function Xh(e){return(0,yt.Z)("MuiInputBase",e)}var Yh=(0,et.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),$h=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Jh=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Qt.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},em=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},tm=(0,fe.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Jh})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({},t.typography.body1,(0,C.Z)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(Yh.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&(0,O.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),nm=(0,fe.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:em})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode,o={color:"currentColor",opacity:a?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},s={opacity:a?.42:.5};return(0,O.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,C.Z)(t,"label[data-shrink=false] + .".concat(Yh.formControl," &"),{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,C.Z)(t,"&.".concat(Yh.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),(0,C.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),rm=(0,Ce.jsx)(Yu,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),am=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiInputBase"}),r=n["aria-describedby"],a=n.autoComplete,o=n.autoFocus,i=n.className,s=n.components,u=void 0===s?{}:s,c=n.componentsProps,l=void 0===c?{}:c,d=n.defaultValue,p=n.disabled,f=n.disableInjectingGlobalStyles,h=n.endAdornment,m=n.fullWidth,v=void 0!==m&&m,g=n.id,y=n.inputComponent,b=void 0===y?"input":y,x=n.inputProps,w=void 0===x?{}:x,S=n.inputRef,C=n.maxRows,T=n.minRows,N=n.multiline,I=void 0!==N&&N,R=n.name,A=n.onBlur,M=n.onChange,D=n.onClick,P=n.onFocus,F=n.onKeyDown,L=n.onKeyUp,Z=n.placeholder,j=n.readOnly,B=n.renderSuffix,V=n.rows,z=n.startAdornment,U=n.type,W=void 0===U?"text":U,q=n.value,G=(0,_.Z)(n,$h),H=null!=w.value?w.value:q,Q=k.useRef(null!=H).current,K=k.useRef(),X=k.useCallback((function(e){0}),[]),Y=(0,Re.Z)(w.ref,X),$=(0,Re.Z)(S,Y),J=(0,Re.Z)(K,$),ee=k.useState(!1),te=(0,E.Z)(ee,2),ne=te[0],re=te[1],ae=Hh();var oe=qh({props:n,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:ne,k.useEffect((function(){!ae&&p&&ne&&(re(!1),A&&A())}),[ae,p,ne,A]);var ie=ae&&ae.onFilled,se=ae&&ae.onEmpty,ue=k.useCallback((function(e){Kh(e)?ie&&ie():se&&se()}),[ie,se]);(0,Wo.Z)((function(){Q&&ue({value:H})}),[H,ue,Q]);k.useEffect((function(){ue(K.current)}),[]);var ce=b,le=w;I&&"input"===ce&&(le=V?(0,O.Z)({type:void 0,minRows:V,maxRows:V},le):(0,O.Z)({type:void 0,maxRows:C,minRows:T},le),ce=Wh);k.useEffect((function(){ae&&ae.setAdornedStart(Boolean(z))}),[ae,z]);var fe=(0,O.Z)({},n,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:h,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:v,hiddenLabel:oe.hiddenLabel,multiline:I,size:oe.size,startAdornment:z,type:W}),me=function(e){var t=e.classes,n=e.color,r=e.disabled,a=e.error,o=e.endAdornment,i=e.focused,s=e.formControl,u=e.fullWidth,c=e.hiddenLabel,l=e.multiline,d=e.size,p=e.startAdornment,f=e.type,h={root:["root","color".concat((0,Qt.Z)(n)),r&&"disabled",a&&"error",u&&"fullWidth",i&&"focused",s&&"formControl","small"===d&&"sizeSmall",l&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,pe.Z)(h,Xh,t)}(fe),ve=u.Root||tm,ge=l.root||{},ye=u.Input||nm;return le=(0,O.Z)({},le,l.input),(0,Ce.jsxs)(k.Fragment,{children:[!f&&rm,(0,Ce.jsxs)(ve,(0,O.Z)({},ge,!Or(ve)&&{ownerState:(0,O.Z)({},fe,ge.ownerState)},{ref:t,onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),D&&D(e)}},G,{className:(0,de.Z)(me.root,ge.className,i),children:[z,(0,Ce.jsx)(Gh.Provider,{value:null,children:(0,Ce.jsx)(ye,(0,O.Z)({ownerState:fe,"aria-invalid":oe.error,"aria-describedby":r,autoComplete:a,autoFocus:o,defaultValue:d,disabled:oe.disabled,id:g,onAnimationStart:function(e){ue("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:R,placeholder:Z,readOnly:j,required:oe.required,rows:V,value:H,onKeyDown:F,onKeyUp:L,type:W},le,!Or(ye)&&{as:ce,ownerState:(0,O.Z)({},fe,le.ownerState)},{ref:J,className:(0,de.Z)(me.input,le.className),onBlur:function(e){A&&A(e),w.onBlur&&w.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):re(!1)},onChange:function(e){if(!Q){var t=e.target||K.current;if(null==t)throw new Error((0,Zh.Z)(1));ue({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];w.onChange&&w.onChange.apply(w,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(P&&P(e),w.onFocus&&w.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):re(!0))}}))}),h,B?B((0,O.Z)({},oe,{startAdornment:z})):null]}))]})})),om=am;function im(e){return(0,yt.Z)("MuiInput",e)}var sm=(0,et.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),um=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],cm=(0,fe.ZP)(tm,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,De.Z)(Jh(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,O.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,C.Z)(t,"&.".concat(sm.focused,":after"),{transform:"scaleX(1)"}),(0,C.Z)(t,"&.".concat(sm.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),(0,C.Z)(t,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,C.Z)(t,"&:hover:not(.".concat(sm.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),(0,C.Z)(t,"&.".concat(sm.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),lm=(0,fe.ZP)(nm,{name:"MuiInput",slot:"Input",overridesResolver:em})({}),dm=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiInput"}),r=n.disableUnderline,a=n.components,o=void 0===a?{}:a,i=n.componentsProps,s=n.fullWidth,u=void 0!==s&&s,c=n.inputComponent,l=void 0===c?"input":c,d=n.multiline,p=void 0!==d&&d,f=n.type,h=void 0===f?"text":f,m=(0,_.Z)(n,um),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,pe.Z)(n,im,t);return(0,O.Z)({},t,r)}(n),g={root:{ownerState:{disableUnderline:r}}},y=i?(0,hn.Z)(i,g):g;return(0,Ce.jsx)(om,(0,O.Z)({components:(0,O.Z)({Root:cm,Input:lm},o),componentsProps:y,fullWidth:u,inputComponent:l,multiline:p,ref:t,type:h},m,{classes:v}))}));dm.muiName="Input";var pm=dm;function fm(e){return(0,yt.Z)("MuiFilledInput",e)}var hm=(0,et.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),mm=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],vm=(0,fe.ZP)(tm,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,De.Z)(Jh(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,a=e.ownerState,o="light"===r.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,O.Z)((t={position:"relative",backgroundColor:s,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}}},(0,C.Z)(t,"&.".concat(hm.focused),{backgroundColor:s}),(0,C.Z)(t,"&.".concat(hm.disabled),{backgroundColor:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!a.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[a.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},(0,C.Z)(n,"&.".concat(hm.focused,":after"),{transform:"scaleX(1)"}),(0,C.Z)(n,"&.".concat(hm.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),(0,C.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),(0,C.Z)(n,"&:hover:not(.".concat(hm.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),(0,C.Z)(n,"&.".concat(hm.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&(0,O.Z)({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),gm=(0,fe.ZP)(nm,{name:"MuiFilledInput",slot:"Input",overridesResolver:em})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),ym=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiFilledInput"}),r=n.components,a=void 0===r?{}:r,o=n.componentsProps,i=n.fullWidth,s=void 0!==i&&i,u=n.inputComponent,c=void 0===u?"input":u,l=n.multiline,d=void 0!==l&&l,p=n.type,f=void 0===p?"text":p,h=(0,_.Z)(n,mm),m=(0,O.Z)({},n,{fullWidth:s,inputComponent:c,multiline:d,type:f}),v=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,pe.Z)(n,fm,t);return(0,O.Z)({},t,r)}(n),g={root:{ownerState:m},input:{ownerState:m}},y=o?(0,hn.Z)(o,g):g;return(0,Ce.jsx)(om,(0,O.Z)({components:(0,O.Z)({Root:vm,Input:gm},a),componentsProps:y,fullWidth:s,inputComponent:c,multiline:d,ref:t,type:f},h,{classes:v}))}));ym.muiName="Input";var bm=ym,xm=["children","classes","className","label","notched"],wm=(0,fe.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),km=(0,fe.ZP)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return(0,O.Z)({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&(0,O.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Sm(e){return(0,yt.Z)("MuiOutlinedInput",e)}var Em=(0,et.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),Cm=["components","fullWidth","inputComponent","label","multiline","notched","type"],Tm=(0,fe.ZP)(tm,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:Jh})((function(e){var t,n=e.theme,r=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,O.Z)((t={position:"relative",borderRadius:n.shape.borderRadius},(0,C.Z)(t,"&:hover .".concat(Em.notchedOutline),{borderColor:n.palette.text.primary}),(0,C.Z)(t,"@media (hover: none)",(0,C.Z)({},"&:hover .".concat(Em.notchedOutline),{borderColor:a})),(0,C.Z)(t,"&.".concat(Em.focused," .").concat(Em.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),(0,C.Z)(t,"&.".concat(Em.error," .").concat(Em.notchedOutline),{borderColor:n.palette.error.main}),(0,C.Z)(t,"&.".concat(Em.disabled," .").concat(Em.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,O.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Nm=(0,fe.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,a=(0,_.Z)(e,xm),o=(0,O.Z)({},e,{notched:r,label:n});return(0,Ce.jsx)(wm,(0,O.Z)({"aria-hidden":!0,className:t,ownerState:o},a,{children:(0,Ce.jsx)(km,{ownerState:o,children:n?(0,Ce.jsx)("span",{children:n}):(0,Ce.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),_m=(0,fe.ZP)(nm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:em})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Im=k.forwardRef((function(e,t){var n,r=(0,he.Z)({props:e,name:"MuiOutlinedInput"}),a=r.components,o=void 0===a?{}:a,i=r.fullWidth,s=void 0!==i&&i,u=r.inputComponent,c=void 0===u?"input":u,l=r.label,d=r.multiline,p=void 0!==d&&d,f=r.notched,h=r.type,m=void 0===h?"text":h,v=(0,_.Z)(r,Cm),g=function(e){var t=e.classes,n=(0,pe.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Sm,t);return(0,O.Z)({},t,n)}(r),y=qh({props:r,muiFormControl:Hh(),states:["required"]});return(0,Ce.jsx)(om,(0,O.Z)({components:(0,O.Z)({Root:Tm,Input:_m},o),renderSuffix:function(e){return(0,Ce.jsx)(Nm,{className:g.notchedOutline,label:l&&y.required?n||(n=(0,Ce.jsxs)(k.Fragment,{children:[l,"\xa0","*"]})):l,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:c,multiline:p,ref:t,type:m},v,{classes:(0,O.Z)({},g,{notchedOutline:null})}))}));Im.muiName="Input";var Om=Im;function Rm(e){return(0,yt.Z)("MuiFormLabel",e)}var Am=(0,et.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Mm=["children","className","color","component","disabled","error","filled","focused","required"],Dm=(0,fe.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,O.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,O.Z)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,C.Z)(t,"&.".concat(Am.focused),{color:n.palette[r.color].main}),(0,C.Z)(t,"&.".concat(Am.disabled),{color:n.palette.text.disabled}),(0,C.Z)(t,"&.".concat(Am.error),{color:n.palette.error.main}),t))})),Pm=(0,fe.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,C.Z)({},"&.".concat(Am.error),{color:t.palette.error.main})})),Fm=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiFormLabel"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"label":o,s=(0,_.Z)(n,Mm),u=qh({props:n,muiFormControl:Hh(),states:["color","required","focused","disabled","error","filled"]}),c=(0,O.Z)({},n,{color:u.color||"primary",component:i,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,a=e.disabled,o=e.error,i=e.filled,s=e.required,u={root:["root","color".concat((0,Qt.Z)(n)),a&&"disabled",o&&"error",i&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,pe.Z)(u,Rm,t)}(c);return(0,Ce.jsxs)(Dm,(0,O.Z)({as:i,ownerState:c,className:(0,de.Z)(l.root,a),ref:t},s,{children:[r,u.required&&(0,Ce.jsxs)(Pm,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))}));function Lm(e){return(0,yt.Z)("MuiInputLabel",e)}(0,et.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Zm=["disableAnimation","margin","shrink","variant"],jm=(0,fe.ZP)(Fm,{shouldForwardProp:function(e){return(0,fe.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,C.Z)({},"& .".concat(Am.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,O.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,O.Z)({transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,O.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Bm=k.forwardRef((function(e,t){var n=(0,he.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,a=void 0!==r&&r,o=n.shrink,i=(0,_.Z)(n,Zm),s=Hh(),u=o;"undefined"===typeof u&&s&&(u=s.filled||s.focused||s.adornedStart);var c=qh({props:n,muiFormControl:s,states:["size","variant","required"]}),l=(0,O.Z)({},n,{disableAnimation:a,formControl:s,shrink:u,size:c.size,variant:c.variant,required:c.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,a=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},i=(0,pe.Z)(o,Lm,t);return(0,O.Z)({},t,i)}(l);return(0,Ce.jsx)(jm,(0,O.Z)({"data-shrink":u,ownerState:l,ref:t},i,{classes:d}))}));function Vm(e){return(0,yt.Z)("MuiFormControl",e)}(0,et.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var zm=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Um=(0,fe.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,O.Z)({},t.root,t["margin".concat((0,Qt.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,O.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Wm=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiFormControl"}),r=n.children,a=n.className,o=n.color,i=void 0===o?"primary":o,s=n.component,u=void 0===s?"div":s,c=n.disabled,l=void 0!==c&&c,d=n.error,p=void 0!==d&&d,f=n.focused,h=n.fullWidth,m=void 0!==h&&h,v=n.hiddenLabel,g=void 0!==v&&v,y=n.margin,b=void 0===y?"none":y,x=n.required,w=void 0!==x&&x,S=n.size,C=void 0===S?"medium":S,T=n.variant,N=void 0===T?"outlined":T,I=(0,_.Z)(n,zm),R=(0,O.Z)({},n,{color:i,component:u,disabled:l,error:p,fullWidth:m,hiddenLabel:g,margin:b,required:w,size:C,variant:N}),A=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,a={root:["root","none"!==n&&"margin".concat((0,Qt.Z)(n)),r&&"fullWidth"]};return(0,pe.Z)(a,Vm,t)}(R),M=k.useState((function(){var e=!1;return r&&k.Children.forEach(r,(function(t){if((0,Vs.Z)(t,["Input","Select"])){var n=(0,Vs.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),D=(0,E.Z)(M,2),P=D[0],F=D[1],L=k.useState((function(){var e=!1;return r&&k.Children.forEach(r,(function(t){(0,Vs.Z)(t,["Input","Select"])&&Kh(t.props,!0)&&(e=!0)})),e})),Z=(0,E.Z)(L,2),j=Z[0],B=Z[1],V=k.useState(!1),z=(0,E.Z)(V,2),U=z[0],W=z[1];l&&U&&W(!1);var q=void 0===f||l?U:f,G=k.useCallback((function(){B(!0)}),[]),H={adornedStart:P,setAdornedStart:F,color:i,disabled:l,error:p,filled:j,focused:q,fullWidth:m,hiddenLabel:g,size:C,onBlur:function(){W(!1)},onEmpty:k.useCallback((function(){B(!1)}),[]),onFilled:G,onFocus:function(){W(!0)},registerEffect:undefined,required:w,variant:N};return(0,Ce.jsx)(Gh.Provider,{value:H,children:(0,Ce.jsx)(Um,(0,O.Z)({as:u,ownerState:R,className:(0,de.Z)(A.root,a),ref:t},I,{children:r}))})}));function qm(e){return(0,yt.Z)("MuiFormHelperText",e)}var Gm=(0,et.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Hm=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Qm=(0,fe.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Qt.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,O.Z)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,C.Z)(t,"&.".concat(Gm.disabled),{color:n.palette.text.disabled}),(0,C.Z)(t,"&.".concat(Gm.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),Km=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"p":o,s=(0,_.Z)(n,Hm),u=qh({props:n,muiFormControl:Hh(),states:["variant","size","disabled","error","filled","focused","required"]}),c=(0,O.Z)({},n,{component:i,contained:"filled"===u.variant||"outlined"===u.variant,variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,a=e.disabled,o=e.error,i=e.filled,s=e.focused,u=e.required,c={root:["root",a&&"disabled",o&&"error",r&&"size".concat((0,Qt.Z)(r)),n&&"contained",s&&"focused",i&&"filled",u&&"required"]};return(0,pe.Z)(c,qm,t)}(c);return(0,Ce.jsx)(Qm,(0,O.Z)({as:i,ownerState:c,className:(0,de.Z)(l.root,a),ref:t},s,{children:" "===r?(0,Ce.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))}));function Xm(e){return(0,yt.Z)("MuiNativeSelect",e)}var Ym=(0,et.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),$m=["className","disabled","IconComponent","inputRef","variant"],Jm=function(e){var t,n=e.ownerState,r=e.theme;return(0,O.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,C.Z)(t,"&.".concat(Ym.disabled),{cursor:"default"}),(0,C.Z)(t,"&[multiple]",{height:"auto"}),(0,C.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,C.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},ev=(0,fe.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:fe.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,C.Z)({},"&.".concat(Ym.multiple),t.multiple)]}})(Jm),tv=function(e){var t=e.ownerState,n=e.theme;return(0,O.Z)((0,C.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(Ym.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},nv=(0,fe.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Qt.Z)(n.variant))],n.open&&t.iconOpen]}})(tv),rv=k.forwardRef((function(e,t){var n=e.className,r=e.disabled,a=e.IconComponent,o=e.inputRef,i=e.variant,s=void 0===i?"standard":i,u=(0,_.Z)(e,$m),c=(0,O.Z)({},e,{disabled:r,variant:s}),l=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,o=e.open,i={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat((0,Qt.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,pe.Z)(i,Xm,t)}(c);return(0,Ce.jsxs)(k.Fragment,{children:[(0,Ce.jsx)(ev,(0,O.Z)({ownerState:c,className:(0,de.Z)(l.select,n),disabled:r,ref:o||t},u)),e.multiple?null:(0,Ce.jsx)(nv,{as:a,ownerState:c,className:l.icon})]})}));function av(e){return(0,yt.Z)("MuiSelect",e)}var ov=(0,et.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),iv=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],sv=(0,fe.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,C.Z)({},"&.".concat(ov.select),t.select),(0,C.Z)({},"&.".concat(ov.select),t[n.variant]),(0,C.Z)({},"&.".concat(ov.multiple),t.multiple)]}})(Jm,(0,C.Z)({},"&.".concat(ov.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),uv=(0,fe.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Qt.Z)(n.variant))],n.open&&t.iconOpen]}})(tv),cv=(0,fe.ZP)("input",{shouldForwardProp:function(e){return(0,fe.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function lv(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function dv(e){return null==e||"string"===typeof e&&!e.trim()}var pv,fv,hv=k.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],a=e.autoFocus,o=e.autoWidth,i=e.children,s=e.className,u=e.defaultValue,c=e.disabled,l=e.displayEmpty,d=e.IconComponent,p=e.inputRef,f=e.labelId,h=e.MenuProps,m=void 0===h?{}:h,v=e.multiple,g=e.name,y=e.onBlur,b=e.onChange,x=e.onClose,w=e.onFocus,S=e.onOpen,C=e.open,T=e.readOnly,N=e.renderValue,I=e.SelectDisplayProps,R=void 0===I?{}:I,A=e.tabIndex,M=e.value,D=e.variant,P=void 0===D?"standard":D,F=(0,_.Z)(e,iv),L=(0,Eo.Z)({controlled:M,default:u,name:"Select"}),Z=(0,E.Z)(L,2),j=Z[0],B=Z[1],V=k.useRef(null),z=k.useRef(null),U=k.useState(null),W=(0,E.Z)(U,2),q=W[0],G=W[1],H=k.useRef(null!=C).current,Q=k.useState(),K=(0,E.Z)(Q,2),X=K[0],Y=K[1],$=k.useState(!1),J=(0,E.Z)($,2),ee=J[0],te=J[1],ne=(0,Re.Z)(t,p),re=k.useCallback((function(e){z.current=e,e&&G(e)}),[]);k.useImperativeHandle(ne,(function(){return{focus:function(){z.current.focus()},node:V.current,value:j}}),[j]),k.useEffect((function(){a&&z.current.focus()}),[a]),k.useEffect((function(){var e=(0,Pt.Z)(z.current).getElementById(f);if(e){var t=function(){getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[f]);var ae,oe,ie=function(e,t){e?S&&S(t):x&&x(t),H||(Y(o?null:q.clientWidth),te(e))},se=k.Children.toArray(i),ue=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(j)?j.slice():[];var r=j.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(B(n),b)){var a=t.nativeEvent||t,o=new a.constructor(a.type,a);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:g}}),b(o,e)}v||ie(!1,t)}}},ce=null!==q&&(H?C:ee);delete F["aria-invalid"];var le=[],fe=!1;(Kh({value:j})||l)&&(N?ae=N(j):fe=!0);var he=se.map((function(e){if(!k.isValidElement(e))return null;var t;if(v){if(!Array.isArray(j))throw new Error((0,Zh.Z)(2));(t=j.some((function(t){return lv(t,e.props.value)})))&&fe&&le.push(e.props.children)}else(t=lv(j,e.props.value))&&fe&&(oe=e.props.children);return t&&!0,k.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));fe&&(ae=v?0===le.length?null:le.reduce((function(e,t,n){return e.push(t),n<le.length-1&&e.push(", "),e}),[]):oe);var me,ve=X;!o&&H&&q&&(ve=q.clientWidth),me="undefined"!==typeof A?A:c?null:0;var ge=R.id||(g?"mui-component-select-".concat(g):void 0),ye=(0,O.Z)({},e,{variant:P,value:j,open:ce}),be=function(e){var t=e.classes,n=e.variant,r=e.disabled,a=e.multiple,o=e.open,i={select:["select",n,r&&"disabled",a&&"multiple"],icon:["icon","icon".concat((0,Qt.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,pe.Z)(i,av,t)}(ye);return(0,Ce.jsxs)(k.Fragment,{children:[(0,Ce.jsx)(sv,(0,O.Z)({ref:re,tabIndex:me,role:"button","aria-disabled":c?"true":void 0,"aria-expanded":ce?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[f,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:c||T?null:function(e){0===e.button&&(e.preventDefault(),z.current.focus(),ie(!0,e))},onBlur:function(e){!ce&&y&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:g}}),y(e))},onFocus:w},R,{ownerState:ye,className:(0,de.Z)(be.select,s,R.className),id:ge,children:dv(ae)?(0,Ce.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):ae})),(0,Ce.jsx)(cv,(0,O.Z)({value:Array.isArray(j)?j.join(","):j,name:g,ref:V,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];B(n.props.value),b&&b(e,n)}},tabIndex:-1,disabled:c,className:be.nativeInput,autoFocus:a,ownerState:ye},F)),(0,Ce.jsx)(uv,{as:d,className:be.icon,ownerState:ye}),(0,Ce.jsx)(ts,(0,O.Z)({id:"menu-".concat(g||""),anchorEl:q,open:ce,onClose:function(e){ie(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:(0,O.Z)({"aria-labelledby":f,role:"listbox",disableListWrap:!0},m.MenuListProps),PaperProps:(0,O.Z)({},m.PaperProps,{style:(0,O.Z)({minWidth:ve},null!=m.PaperProps?m.PaperProps.style:null)}),children:he}))]})})),mv=hv,vv=(0,_e.Z)((0,Ce.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gv=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],yv=k.forwardRef((function(e,t){var n=(0,he.Z)({name:"MuiSelect",props:e}),r=n.autoWidth,a=void 0!==r&&r,o=n.children,i=n.classes,s=void 0===i?{}:i,u=n.className,c=n.displayEmpty,l=void 0!==c&&c,d=n.IconComponent,p=void 0===d?vv:d,f=n.id,h=n.input,m=n.inputProps,v=n.label,g=n.labelId,y=n.MenuProps,b=n.multiple,x=void 0!==b&&b,w=n.native,S=void 0!==w&&w,E=n.onClose,C=n.onOpen,T=n.open,N=n.renderValue,I=n.SelectDisplayProps,R=n.variant,A=void 0===R?"outlined":R,M=(0,_.Z)(n,gv),D=S?rv:mv,P=qh({props:n,muiFormControl:Hh(),states:["variant"]}).variant||A,F=h||{standard:pv||(pv=(0,Ce.jsx)(pm,{})),outlined:(0,Ce.jsx)(Om,{label:v}),filled:fv||(fv=(0,Ce.jsx)(bm,{}))}[P],L=function(e){return e.classes}((0,O.Z)({},n,{classes:s})),Z=(0,Re.Z)(t,F.ref);return k.cloneElement(F,(0,O.Z)({inputComponent:D,inputProps:(0,O.Z)({children:o,IconComponent:p,variant:P,type:void 0,multiple:x},S?{id:f}:{autoWidth:a,displayEmpty:l,labelId:g,MenuProps:y,onClose:E,onOpen:C,open:T,renderValue:N,SelectDisplayProps:(0,O.Z)({id:f},I)},m,{classes:m?(0,hn.Z)(L,m.classes):L},h?h.props.inputProps:{})},x&&S&&"outlined"===P?{notched:!0}:{},{ref:Z,className:(0,de.Z)(F.props.className,u)},M))}));yv.muiName="Select";var bv=yv;function xv(e){return(0,yt.Z)("MuiTextField",e)}(0,et.Z)("MuiTextField",["root"]);var wv=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],kv={standard:pm,filled:bm,outlined:Om},Sv=(0,fe.ZP)(Wm,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Ev=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,a=n.autoFocus,o=void 0!==a&&a,i=n.children,s=n.className,u=n.color,c=void 0===u?"primary":u,l=n.defaultValue,d=n.disabled,p=void 0!==d&&d,f=n.error,h=void 0!==f&&f,m=n.FormHelperTextProps,v=n.fullWidth,g=void 0!==v&&v,y=n.helperText,b=n.id,x=n.InputLabelProps,w=n.inputProps,k=n.InputProps,S=n.inputRef,E=n.label,C=n.maxRows,T=n.minRows,N=n.multiline,I=void 0!==N&&N,R=n.name,A=n.onBlur,M=n.onChange,D=n.onFocus,P=n.placeholder,F=n.required,L=void 0!==F&&F,Z=n.rows,j=n.select,B=void 0!==j&&j,V=n.SelectProps,z=n.type,U=n.value,W=n.variant,q=void 0===W?"outlined":W,G=(0,_.Z)(n,wv),H=(0,O.Z)({},n,{autoFocus:o,color:c,disabled:p,error:h,fullWidth:g,multiline:I,required:L,select:B,variant:q}),Q=function(e){var t=e.classes;return(0,pe.Z)({root:["root"]},xv,t)}(H);var K={};"outlined"===q&&(x&&"undefined"!==typeof x.shrink&&(K.notched=x.shrink),K.label=E),B&&(V&&V.native||(K.id=void 0),K["aria-describedby"]=void 0);var X=(0,Lh.Z)(b),Y=y&&X?"".concat(X,"-helper-text"):void 0,$=E&&X?"".concat(X,"-label"):void 0,J=kv[q],ee=(0,Ce.jsx)(J,(0,O.Z)({"aria-describedby":Y,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:g,multiline:I,name:R,rows:Z,maxRows:C,minRows:T,type:z,value:U,id:X,inputRef:S,onBlur:A,onChange:M,onFocus:D,placeholder:P,inputProps:w},K,k));return(0,Ce.jsxs)(Sv,(0,O.Z)({className:(0,de.Z)(Q.root,s),disabled:p,error:h,fullWidth:g,ref:t,required:L,color:c,variant:q,ownerState:H},G,{children:[E&&(0,Ce.jsx)(Bm,(0,O.Z)({htmlFor:X,id:$},x,{children:E})),B?(0,Ce.jsx)(bv,(0,O.Z)({"aria-describedby":Y,id:X,labelId:$,value:U,input:ee},V,{children:i})):ee,y&&(0,Ce.jsx)(Km,(0,O.Z)({id:Y},m,{children:y}))]}))}));function Cv(e){return(0,yt.Z)("MuiInputAdornment",e)}var Tv=(0,et.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),Nv=["children","className","component","disablePointerEvents","disableTypography","position","variant"],_v=(0,fe.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Qt.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,O.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===n.variant&&(0,C.Z)({},"&.".concat(Tv.positionStart,"&:not(.").concat(Tv.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),Iv=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiInputAdornment"}),r=n.children,a=n.className,o=n.component,i=void 0===o?"div":o,s=n.disablePointerEvents,u=void 0!==s&&s,c=n.disableTypography,l=void 0!==c&&c,d=n.position,p=n.variant,f=(0,_.Z)(n,Nv),h=Hh()||{},m=p;p&&h.variant,h&&!m&&(m=h.variant);var v=(0,O.Z)({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:u,position:d,variant:m}),g=function(e){var t=e.classes,n=e.disablePointerEvents,r=e.hiddenLabel,a=e.position,o=e.size,i=e.variant,s={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,Qt.Z)(a)),i,r&&"hiddenLabel",o&&"size".concat((0,Qt.Z)(o))]};return(0,pe.Z)(s,Cv,t)}(v);return(0,Ce.jsx)(Gh.Provider,{value:null,children:(0,Ce.jsx)(_v,(0,O.Z)({as:i,ownerState:v,className:(0,de.Z)(g.root,a),ref:t},f,{children:"string"!==typeof r||l?(0,Ce.jsxs)(k.Fragment,{children:["start"===d?(0,Ce.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):null,r]}):(0,Ce.jsx)(Ir,{color:"text.secondary",children:r})}))})})),Ov=n(5545),Rv=n(165),Av=n(3746);function Mv(e){return e.substring(2).toLowerCase()}var Dv=function(e){var t=e.children,n=e.disableReactTree,r=void 0!==n&&n,a=e.mouseEvent,o=void 0===a?"onClick":a,i=e.onClickAway,s=e.touchEvent,u=void 0===s?"onTouchEnd":s,c=k.useRef(!1),l=k.useRef(null),d=k.useRef(!1),p=k.useRef(!1);k.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var f=(0,Qr.Z)(t.ref,l),h=(0,$o.Z)((function(e){var t=p.current;p.current=!1;var n=(0,Xr.Z)(l.current);!d.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(c.current?c.current=!1:(e.composedPath?e.composedPath().indexOf(l.current)>-1:!n.documentElement.contains(e.target)||l.current.contains(e.target))||!r&&t||i(e))})),m=function(e){return function(n){p.current=!0;var r=t.props[e];r&&r(n)}},v={ref:f};return!1!==u&&(v[u]=m(u)),k.useEffect((function(){if(!1!==u){var e=Mv(u),t=(0,Xr.Z)(l.current),n=function(){c.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,u]),!1!==o&&(v[o]=m(o)),k.useEffect((function(){if(!1!==o){var e=Mv(o),t=(0,Xr.Z)(l.current);return t.addEventListener(e,h),function(){t.removeEventListener(e,h)}}}),[h,o]),(0,Ce.jsx)(k.Fragment,{children:k.cloneElement(t,v)})};function Pv(e){return(0,yt.Z)("MuiSnackbarContent",e)}(0,et.Z)("MuiSnackbarContent",["root","message","action"]);var Fv=["action","className","message","role"],Lv=(0,fe.ZP)(cr,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=(0,tn._4)(t.palette.background.default,n);return(0,O.Z)({},t.typography.body2,(0,C.Z)({color:t.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),Zv=(0,fe.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),jv=(0,fe.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Bv=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiSnackbarContent"}),r=n.action,a=n.className,o=n.message,i=n.role,s=void 0===i?"alert":i,u=(0,_.Z)(n,Fv),c=n,l=function(e){var t=e.classes;return(0,pe.Z)({root:["root"],action:["action"],message:["message"]},Pv,t)}(c);return(0,Ce.jsxs)(Lv,(0,O.Z)({role:s,square:!0,elevation:6,className:(0,de.Z)(l.root,a),ownerState:c,ref:t},u,{children:[(0,Ce.jsx)(Zv,{className:l.message,ownerState:c,children:o}),r?(0,Ce.jsx)(jv,{className:l.action,ownerState:c,children:r}):null]}))}));function Vv(e){return(0,yt.Z)("MuiSnackbar",e)}(0,et.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var zv=["onEnter","onExited"],Uv=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Wv=(0,fe.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["anchorOrigin".concat((0,Qt.Z)(n.anchorOrigin.vertical)).concat((0,Qt.Z)(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.ownerState,r=(0,O.Z)({},!n.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},n.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return(0,O.Z)({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},(0,C.Z)({},t.breakpoints.up("sm"),(0,O.Z)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&r,"left"===n.anchorOrigin.horizontal&&(0,O.Z)({},!n.isRtl&&{left:24,right:"auto"},n.isRtl&&{right:24,left:"auto"}),"right"===n.anchorOrigin.horizontal&&(0,O.Z)({},!n.isRtl&&{right:24,left:"auto"},n.isRtl&&{left:24,right:"auto"}))))})),qv=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiSnackbar"}),r=n.action,a=n.anchorOrigin,o=(a=void 0===a?{vertical:"bottom",horizontal:"left"}:a).vertical,i=a.horizontal,s=n.autoHideDuration,u=void 0===s?null:s,c=n.children,l=n.className,d=n.ClickAwayListenerProps,p=n.ContentProps,f=n.disableWindowBlurListener,h=void 0!==f&&f,m=n.message,v=n.onBlur,g=n.onClose,y=n.onFocus,b=n.onMouseEnter,x=n.onMouseLeave,w=n.open,S=n.resumeHideDuration,C=n.TransitionComponent,T=void 0===C?Hr:C,N=n.transitionDuration,I=void 0===N?{enter:ki.x9.enteringScreen,exit:ki.x9.leavingScreen}:N,R=n.TransitionProps,A=(R=void 0===R?{}:R).onEnter,M=R.onExited,D=(0,_.Z)(n.TransitionProps,zv),P=(0,_.Z)(n,Uv),F="rtl"===ge().direction,L=(0,O.Z)({},n,{anchorOrigin:{vertical:o,horizontal:i},isRtl:F}),Z=function(e){var t=e.classes,n=e.anchorOrigin,r={root:["root","anchorOrigin".concat((0,Qt.Z)(n.vertical)).concat((0,Qt.Z)(n.horizontal))]};return(0,pe.Z)(r,Vv,t)}(L),j=k.useRef(),B=k.useState(!0),V=(0,E.Z)(B,2),z=V[0],U=V[1],W=(0,Ae.Z)((function(){g&&g.apply(void 0,arguments)})),q=(0,Ae.Z)((function(e){g&&null!=e&&(clearTimeout(j.current),j.current=setTimeout((function(){W(null,"timeout")}),e))}));k.useEffect((function(){return w&&q(u),function(){clearTimeout(j.current)}}),[w,u,q]);var G=function(){clearTimeout(j.current)},H=k.useCallback((function(){null!=u&&q(null!=S?S:.5*u)}),[u,S,q]);return k.useEffect((function(){if(!h&&w)return window.addEventListener("focus",H),window.addEventListener("blur",G),function(){window.removeEventListener("focus",H),window.removeEventListener("blur",G)}}),[h,H,w]),k.useEffect((function(){if(w)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||g&&g(e,"escapeKeyDown")}}),[z,w,g]),!w&&z?null:(0,Ce.jsx)(Dv,(0,O.Z)({onClickAway:function(e){g&&g(e,"clickaway")}},d,{children:(0,Ce.jsx)(Wv,(0,O.Z)({className:(0,de.Z)(Z.root,l),onBlur:function(e){v&&v(e),H()},onFocus:function(e){y&&y(e),G()},onMouseEnter:function(e){b&&b(e),G()},onMouseLeave:function(e){x&&x(e),H()},ownerState:L,ref:t},P,{children:(0,Ce.jsx)(T,(0,O.Z)({appear:!0,in:w,timeout:I,direction:"top"===o?"down":"up",onEnter:function(e,t){U(!1),A&&A(e,t)},onExited:function(e){U(!0),M&&M(e)}},D,{children:c||(0,Ce.jsx)(Bv,(0,O.Z)({message:m,action:r},p))}))}))}))})),Gv=qv;function Hv(e){return(0,yt.Z)("MuiAlert",e)}var Qv,Kv=(0,et.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Xv=(0,_e.Z)((0,Ce.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Yv=(0,_e.Z)((0,Ce.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),$v=(0,_e.Z)((0,Ce.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Jv=(0,_e.Z)((0,Ce.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),eg=(0,_e.Z)((0,Ce.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),tg=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],ng=(0,fe.ZP)(cr,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Qt.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?tn._j:tn.$n,a="light"===t.palette.mode?tn.$n:tn._j,o=n.color||n.severity;return(0,O.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&(0,C.Z)({color:r(t.palette[o].light,.6),backgroundColor:a(t.palette[o].light,.9)},"& .".concat(Kv.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"outlined"===n.variant&&(0,C.Z)({color:r(t.palette[o].light,.6),border:"1px solid ".concat(t.palette[o].light)},"& .".concat(Kv.icon),{color:"dark"===t.palette.mode?t.palette[o].main:t.palette[o].light}),o&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main})})),rg=(0,fe.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ag=(0,fe.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),og=(0,fe.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ig={success:(0,Ce.jsx)(Xv,{fontSize:"inherit"}),warning:(0,Ce.jsx)(Yv,{fontSize:"inherit"}),error:(0,Ce.jsx)($v,{fontSize:"inherit"}),info:(0,Ce.jsx)(Jv,{fontSize:"inherit"})},sg=k.forwardRef((function(e,t){var n=(0,he.Z)({props:e,name:"MuiAlert"}),r=n.action,a=n.children,o=n.className,i=n.closeText,s=void 0===i?"Close":i,u=n.color,c=n.icon,l=n.iconMapping,d=void 0===l?ig:l,p=n.onClose,f=n.role,h=void 0===f?"alert":f,m=n.severity,v=void 0===m?"success":m,g=n.variant,y=void 0===g?"standard":g,b=(0,_.Z)(n,tg),x=(0,O.Z)({},n,{color:u,severity:v,variant:y}),w=function(e){var t=e.variant,n=e.color,r=e.severity,a=e.classes,o={root:["root","".concat(t).concat((0,Qt.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,pe.Z)(o,Hv,a)}(x);return(0,Ce.jsxs)(ng,(0,O.Z)({role:h,elevation:0,ownerState:x,className:(0,de.Z)(w.root,o),ref:t},b,{children:[!1!==c?(0,Ce.jsx)(rg,{ownerState:x,className:w.icon,children:c||d[v]||ig[v]}):null,(0,Ce.jsx)(ag,{ownerState:x,className:w.message,children:a}),null!=r?(0,Ce.jsx)(og,{className:w.action,children:r}):null,null==r&&p?(0,Ce.jsx)(og,{ownerState:x,className:w.action,children:(0,Ce.jsx)(kr,{size:"small","aria-label":s,title:s,color:"inherit",onClick:p,children:Qv||(Qv=(0,Ce.jsx)(eg,{fontSize:"small"}))})}):null]}))})),ug=k.forwardRef((function(e,t){return(0,Ce.jsx)(sg,N({elevation:6,ref:t,variant:"filled"},e))}));function cg(e){var t=e.alert,n=e.setAlert,r=function(){n(N(N({},t),{},{open:!1}))};return(0,Ce.jsx)(Gv,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t.open||!1,autoHideDuration:2e3,onClose:r,children:(0,Ce.jsx)(ug,{onClose:r,severity:t.severity,sx:{width:"100%"},children:t.message})})}var lg=function(){var e=K(),t=dh(Il),n=(0,E.Z)(t,1)[0],r=(0,k.useContext)(Aq),a=r.UserData,o=r.setUserData,i=(0,k.useState)(!1),s=(0,E.Z)(i,2),u=s[0],c=s[1],l=(0,k.useState)({open:!1,message:"",severity:"error"}),d=(0,E.Z)(l,2),p=d[0],f=d[1],h=(0,k.useState)(""),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=(0,k.useState)(""),b=(0,E.Z)(y,2),x=b[0],w=b[1],S=(0,k.useState)({username:!1,password:!1,username_helperText:"",password_helperText:""}),C=(0,E.Z)(S,2),T=C[0],_=C[1],I=(0,k.useRef)({username:!1,password:!1,username_helperText:"",password_helperText:""});(0,k.useEffect)((function(){a.signed&&e("/login/".concat(a.username,"/lobby"))}));var O=function(){var t=uc(lc().mark((function t(r){var a,i;return lc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!v||!x){t.next=8;break}return t.next=4,n({variables:{data:{name:v,password:x}}});case 4:(a=t.sent).data.loginUser.ok?(i={},null!==a.data.loginUser.user.scores?(a.data.loginUser.user.scores.map((function(e){i[e.game]=e.score})),o({username:v,password:x,scores:N({},i),signed:!0})):o({username:v,password:x,scores:{},signed:!0}),e("/login/".concat(v,"/lobby"))):(f({open:!0,message:a.data.loginUser.error,severity:"error"}),g(""),w("")),t.next=11;break;case 8:v?I.current.username=!1:I.current=N(N({},I.current),{},{username:!0,username_helperText:"Required"}),x?I.current.password=!1:I.current=N(N({},I.current),{},{password:!0,password_helperText:"Required"}),_(I.current);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Ce.jsxs)(Au,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,Ce.jsx)(Au,{item:!0,xs:!1,sm:4,md:8,sx:{backgroundImage:"url(https://i.pinimg.com/originals/6c/bb/c0/6cbbc09cfa522d37cc209a2e354d023f.jpg)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"dark"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,Ce.jsx)(Au,{item:!0,xs:12,sm:8,md:4,component:cr,elevation:6,children:(0,Ce.jsxs)(kn,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Ce.jsx)(fu,{sx:{m:1,bgcolor:"primary.main"},children:(0,Ce.jsx)(Fh.Z,{})}),(0,Ce.jsx)(Ir,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"SIGN IN"}),(0,Ce.jsxs)(kn,{component:"form",noValidate:!0,sx:{mt:5},onSubmit:O,children:[(0,Ce.jsx)(Ev,{margin:"normal",InputProps:{endAdornment:(0,Ce.jsx)(Iv,{position:"start",children:(0,Ce.jsx)(Ov.Z,{})})},onChange:function(e){g(e.target.value)},required:!0,fullWidth:!0,label:"User Name",autoFocus:!0,autoComplete:"off",error:T.username,helperText:T.username_helperText,value:v}),(0,Ce.jsx)(Ev,{margin:"normal",InputProps:{endAdornment:(0,Ce.jsx)(Iv,{position:"end",children:(0,Ce.jsx)(kr,{"aria-label":"toggle password visibility",onClick:function(){return c(!u)},children:u?(0,Ce.jsx)(Av.Z,{}):(0,Ce.jsx)(Rv.Z,{})})})},onChange:function(e){w(e.target.value)},required:!0,fullWidth:!0,label:"Password",type:u?"text":"password",autoComplete:"off",error:T.password,helperText:T.password_helperText,value:x}),(0,Ce.jsx)(dn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,Ce.jsx)(Au,{item:!0,children:(0,Ce.jsx)(ju,{variant:"body2",underline:"hover",href:"/register",children:"Don't have an account? Sign Up"})}),(0,Ce.jsx)(cg,{alert:p,setAlert:f})]})]})})]})},dg=n(403),pg=function(){var e=K(),t=dh(_l),n=(0,E.Z)(t,1)[0],r=(0,k.useState)(!1),a=(0,E.Z)(r,2),o=a[0],i=a[1],s=(0,k.useState)(""),u=(0,E.Z)(s,2),c=u[0],l=u[1],d=(0,k.useState)(""),p=(0,E.Z)(d,2),f=p[0],h=p[1],m=(0,k.useState)(""),v=(0,E.Z)(m,2),g=v[0],y=v[1],b=(0,k.useState)({open:!1,message:"",severity:"error"}),x=(0,E.Z)(b,2),w=x[0],S=x[1],C=(0,k.useState)({username:!1,password:!1,confirmPassword:!1,username_helperText:"",password_helperText:"",confirmPassword_helperText:""}),T=(0,E.Z)(C,2),_=T[0],I=T[1],O=(0,k.useRef)({username:!1,password:!1,confirmPassword:!1,username_helperText:"",password_helperText:"",confirmPassword_helperText:""}),R=function(){var t=uc(lc().mark((function t(r){var a;return lc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!(c&&f&&g)){t.next=13;break}if(f===g){t.next=7;break}return S({open:!0,message:"Please confirm your password again",severity:"error"}),t.abrupt("return");case 7:return t.next=9,n({variables:{data:{name:c,password:f}}});case 9:(a=t.sent).data.createUser.ok?e("/login"):(S({open:!0,message:a.data.createUser.error,severity:"error"}),l(""),h(""),y(""));case 11:t.next=17;break;case 13:c?O.current.username=!1:O.current=N(N({},O.current),{},{username:!0,username_helperText:"Required"}),f?O.current.password=!1:O.current=N(N({},O.current),{},{password:!0,password_helperText:"Required"}),g?O.current.confirmPassword=!1:O.current=N(N({},O.current),{},{confirmPassword:!0,confirmPassword_helperText:"Required"}),I(O.current);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Ce.jsx)(xu,{component:"main",maxWidth:"xs",children:(0,Ce.jsxs)(kn,{sx:{marginTop:12,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Ce.jsx)(fu,{sx:{m:1,bgcolor:"secondary.main"},children:(0,Ce.jsx)(dg.Z,{})}),(0,Ce.jsx)(Ir,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"SIGN UP"}),(0,Ce.jsxs)(kn,{component:"form",noValidate:!0,sx:{mt:5},onSubmit:R,children:[(0,Ce.jsxs)(Au,{container:!0,spacing:2,children:[(0,Ce.jsx)(Au,{item:!0,xs:12,children:(0,Ce.jsx)(Ev,{margin:"normal",InputProps:{endAdornment:(0,Ce.jsx)(Iv,{position:"start",children:(0,Ce.jsx)(Ov.Z,{})})},onChange:function(e){l(e.target.value)},required:!0,fullWidth:!0,label:"User Name",autoComplete:"off",autoFocus:!0,error:_.username,helperText:_.username_helperText,value:c})}),(0,Ce.jsx)(Au,{item:!0,xs:12,children:(0,Ce.jsx)(Ev,{margin:"normal",InputProps:{endAdornment:(0,Ce.jsx)(Iv,{position:"end",children:(0,Ce.jsx)(kr,{"aria-label":"toggle password visibility",onClick:function(){return i(!o)},children:o?(0,Ce.jsx)(Av.Z,{}):(0,Ce.jsx)(Rv.Z,{})})})},onChange:function(e){h(e.target.value)},required:!0,fullWidth:!0,label:"Password",type:o?"text":"password",autoComplete:"off",error:_.password,helperText:_.password_helperText,value:f})}),(0,Ce.jsx)(Au,{item:!0,xs:12,children:(0,Ce.jsx)(Ev,{margin:"normal",InputProps:{endAdornment:(0,Ce.jsx)(Iv,{position:"end",children:(0,Ce.jsx)(kr,{"aria-label":"toggle password visibility",onClick:function(){return i(!o)},children:o?(0,Ce.jsx)(Av.Z,{}):(0,Ce.jsx)(Rv.Z,{})})})},onChange:function(e){y(e.target.value)},required:!0,fullWidth:!0,label:"Confirm Password",type:o?"text":"password",autoComplete:"off",error:_.confirmPassword,helperText:_.confirmPassword_helperText,value:g})})]}),(0,Ce.jsx)(dn,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:1},children:"Sign Up"}),(0,Ce.jsx)(Au,{container:!0,justifyContent:"flex-end",children:(0,Ce.jsx)(Au,{item:!0,children:(0,Ce.jsx)(ju,{variant:"body2",underline:"hover",href:"/login",children:"Already have an account? Sign in"})})}),(0,Ce.jsx)(cg,{alert:w,setAlert:S})]})]})})},fg=function(){return(0,Ce.jsx)(Vu,{children:(0,Ce.jsxs)(xu,{component:"main",sx:{mt:8,mb:2},children:[(0,Ce.jsx)(Ir,{variant:"h2",component:"h1",gutterBottom:!0,children:"About this project"}),(0,Ce.jsxs)(Ir,{variant:"h6",component:"h2",gutterBottom:!0,children:["The main idea of this project is about combining computer vision technology with web game. We use the deep learning model to do real-time prediction of your pose, hand sign, etc.                 Than use it to design our game.",(0,Ce.jsx)("br",{}),"The main deep learning libary we use is Tensorflow.js. It's a powerful and convenient open source libary.",(0,Ce.jsx)("br",{})]}),(0,Ce.jsx)(Ir,{variant:"body2",children:"If you have any further questions or recommend, please don't hesitate to contact us ! "})]})})},hg={heightLimit:400,bird:{initialHeight:188,heightRange:{min:0,max:400},width:34,height:34},pipings:{timeInterval:3200,speed:2e3,shiftRange:{x:{min:0,max:452},y:{min:40,max:242}},gap:158,interactionX:{head:183,end:269}}};var mg=function(e,t,n,r,a){var o=r.current.getContext("2d");o.clearRect(0,0,r.current.width,r.current.height),r.current.width=t,r.current.height=n;var i=e[0].keypoints;i.map((function(e){if(e.score>.2&&"left_eye"!==e.name&&"right_eye"!==e.name){var t=a.current?"rgb(0,255,0":"rgb(255,255,255)";!function(e,t,n,r,a){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fillStyle=a,e.fill()}(o,e.x,e.y,10,t);var n=vg[e.name];try{n.forEach((function(n){var r=n.toUpperCase();!function(e,t,n,r){var a=(0,E.Z)(t,2),o=a[0],i=a[1],s=(0,E.Z)(n,2),u=s[0],c=s[1];e.beginPath(),e.moveTo(o,i),e.lineTo(u,c),e.lineWidth=6,e.strokeStyle=r,e.stroke()}(o,[e.x,e.y],[i[gg[r]].x,i[gg[r]].y],t)}))}catch(r){}}return e}))},vg={nose:["left_ear","right_ear"],left_ear:["left_shoulder"],right_ear:["right_shoulder"],left_shoulder:["right_shoulder","left_elbow","left_hip"],right_shoulder:["right_elbow","right_hip"],left_elbow:["left_wrist"],right_elbow:["right_wrist"],left_hip:["left_knee","right_hip"],right_hip:["right_knee"],left_knee:["left_ankle"],right_knee:["right_ankle"]},gg={NOSE:0,LEFT_EYE:1,RIGHT_EYE:2,LEFT_EAR:3,RIGHT_EAR:4,LEFT_SHOULDER:5,RIGHT_SHOULDER:6,LEFT_ELBOW:7,RIGHT_ELBOW:8,LEFT_WRIST:9,RIGHT_WRIST:10,LEFT_HIP:11,RIGHT_HIP:12,LEFT_KNEE:13,RIGHT_KNEE:14,LEFT_ANKLE:15,RIGHT_ANKLE:16},yg=function(e){var t=e.style;return(0,Ce.jsx)("div",{className:"bird flying",style:t})},bg=function(e){var t=e.onPlay,n=e.score;return(0,Ce.jsx)("div",{className:"menu ",children:(0,Ce.jsxs)("ul",{children:[(0,Ce.jsxs)("li",{children:["score: ",n]}),(0,Ce.jsx)("li",{children:(0,Ce.jsx)("button",{className:"btn",onClick:t,children:"play"})})]})})},xg=function(e){var t=e.x,n=e.pipeLowerShift,r=e.pipeUpperShift,a={transform:"translate(".concat(-t,"px, 0)")},o={transform:"translate(0, ".concat(r,"px)")},i={transform:"translate(0, ".concat(-n,"px)")};return(0,Ce.jsxs)("div",{className:"piping",style:a,children:[(0,Ce.jsx)("div",{className:"piping-upper",style:o}),(0,Ce.jsx)("div",{className:"piping-below",style:i})]})},wg=n(97),kg=n.n(wg),Sg=n(2509),Eg=function(){function e(t,n){(0,ei.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,ti.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),Cg=function(){function e(){(0,ei.Z)(this,e)}return(0,ti.Z)(e,[{key:"refCount",value:function(e){return Tg("refCount")}},{key:"incRef",value:function(e){return Tg("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return Tg("time")}},{key:"read",value:function(e){return Tg("read")}},{key:"readSync",value:function(e){return Tg("readSync")}},{key:"numDataIds",value:function(){return Tg("numDataIds")}},{key:"disposeData",value:function(e,t){return Tg("disposeData")}},{key:"write",value:function(e,t,n){return Tg("write")}},{key:"move",value:function(e,t,n,r,a){return Tg("move")}},{key:"memory",value:function(){return Tg("memory")}},{key:"floatPrecision",value:function(){return Tg("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return Tg("dispose")}}]),e}();function Tg(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function Ng(e){return e%2===0?e:e+1}function _g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ig(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Og(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function Rg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Og(Pg(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function Ag(e){Og(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Mg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||qg(e)&&!n)for(var r=0;r<e.length;++r)Mg(e[r],t,n);else t.push(e);return t}function Dg(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Pg(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Fg(e){return e%1===0}function Lg(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Zg(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function jg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var o=0;!function i(){if(e())r();else{o++;var s=t(o);null!=n&&o>=n?a():setTimeout(i,s)}}()}))}function Bg(e,t){var n=t.length;return Og((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),Og(e.every((function(e){return Fg(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function Vg(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:Bg(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function zg(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function Ug(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function Wg(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function qg(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function Gg(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Hg(e){return"string"===typeof e||e instanceof String}function Qg(e){return Array.isArray(e)?Qg(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":Hg(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Kg(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Xg(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function Yg(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function $g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var o=t[0]*(r?2:1),i=0;i<o;i++)a[i]=n[e+i];else for(var s=t[0],u=t.slice(1),c=u.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<s;l++)a[l]=$g(e+l*c,u,n,r);return a}function Jg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return $g(0,e,t,n)}function ey(e,t){for(var n=ty(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ty(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function ny(e){e.forEach((function(t){Og(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function ry(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function ay(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function oy(e){return e&&e.then&&"function"===typeof e.then}var iy="tfjsflags",sy=function(){function e(t){(0,ei.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=uy,this.populateURLFlags()}return(0,ti.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(ly().getBool("IS_TEST")||ly().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];ly().getBool("IS_TEST")||ly().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=uc(lc().mark((function e(t){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(oy(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(iy in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=(0,E.Z)(n,2),a=r[0],o=r[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function uy(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return cy(t,r[0],r[1]),r.join("=")})),t}function cy(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function ly(){return py}var dy,py=null;function fy(){if(null==dy){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}dy=e}return dy}function hy(e,t){var n=function(){var e=fy();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}var my="Abs",vy="Acos",gy="Acosh",yy="Add",by="AddN",xy="All",wy="Any",ky="ArgMax",Sy="ArgMin",Ey="Asin",Cy="Asinh",Ty="Atan",Ny="Atanh",_y="Atan2",Iy="AvgPool",Oy="AvgPool3D",Ry="BatchMatMul",Ay="BatchToSpaceND",My="Bincount",Dy="BroadcastArgs",Py="Cast",Fy="Ceil",Ly="ClipByValue",Zy="Complex",jy="ComplexAbs",By="Concat",Vy="Conv2D",zy="Conv2DBackpropFilter",Uy="Conv2DBackpropInput",Wy="Conv3D",qy="Conv3DBackpropInputV2",Gy="Cosh",Hy="Cumsum",Qy="CropAndResize",Ky="DenseBincount",Xy="DepthToSpace",Yy="DepthwiseConv2dNative",$y="DepthwiseConv2dNativeBackpropFilter",Jy="DepthwiseConv2dNativeBackpropInput",eb="Diag",tb="Dilation2D",nb="RealDiv",rb="Einsum",ab="Equal",ob="Exp",ib="ExpandDims",sb="Expm1",ub="Fill",cb="FlipLeftRight",lb="Floor",db="FloorDiv",pb="FusedBatchNorm",fb="GatherV2",hb="GatherNd",mb="Greater",vb="GreaterEqual",gb="Identity",yb="IFFT",bb="Imag",xb="IsFinite",wb="IsInf",kb="IsNan",Sb="LeakyRelu",Eb="Less",Cb="LessEqual",Tb="LinSpace",Nb="Log",_b="Log1p",Ib="LogicalAnd",Ob="LogicalNot",Rb="LogicalOr",Ab="LRN",Mb="Max",Db="Maximum",Pb="MaxPool",Fb="MaxPool3D",Lb="MaxPoolWithArgmax",Zb="Mean",jb="Min",Bb="Minimum",Vb="MirrorPad",zb="Multinomial",Ub="Multiply",Wb="Neg",qb="NotEqual",Gb="NonMaxSuppressionV3",Hb="NonMaxSuppressionV4",Qb="NonMaxSuppressionV5",Kb="OnesLike",Xb="OneHot",Yb="Pack",$b="PadV2",Jb="Prelu",ex="Prod",tx="Range",nx="Real",rx="Reciprocal",ax="Relu",ox="Reshape",ix="ResizeNearestNeighbor",sx="ResizeBilinear",ux="Relu6",cx="Reverse",lx="Round",dx="Rsqrt",px="ScatterNd",fx="Select",hx="Selu",mx="Slice",vx="Sinh",gx="Sign",yx="Sigmoid",bx="Softplus",xx="Sqrt",wx="Sum",kx="SpaceToBatchND",Sx="SplitV",Ex="Softmax",Cx="SparseFillEmptyRows",Tx="SparseReshape",Nx="SparseSegmentMean",_x="SparseSegmentSum",Ix="SparseToDense",Ox="SquaredDifference",Rx="StridedSlice",Ax="StringNGrams",Mx="StringSplit",Dx="StringToHashBucketFast",Px="Sub",Fx="Tanh",Lx="Tile",Zx="TopK",jx="Transform",Bx="Transpose",Vx="Unique",zx="Unpack",Ux="UnsortedSegmentSum",Wx="ZerosLike",qx="Step",Gx="FromPixels",Hx="RotateWithOffset",Qx="_FusedMatMul",Kx="FusedConv2D",Xx="FusedDepthwiseConv2D";function Yx(){var e;ly().getBool("IS_TEST")||ly().getBool("PROD")||(e=console).warn.apply(e,arguments)}var $x=hy("kernelRegistry",(function(){return new Map})),Jx=hy("gradRegistry",(function(){return new Map}));function ew(e,t){var n=aw(e,t);return $x.get(n)}function tw(e){return Jx.get(e)}function nw(e){for(var t=$x.entries(),n=[];;){var r=t.next(),a=r.done,o=r.value;if(a)break;var i=(0,E.Z)(o,2),s=i[0],u=i[1],c=s.split("_");(0,E.Z)(c,1)[0]===e&&n.push(u)}return n}function rw(e){var t=e.kernelName,n=e.backendName,r=aw(t,n);$x.has(r)&&Yx("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),$x.set(r,e)}function aw(e,t){return"".concat(t,"_").concat(e)}var ow=n(8987),iw=n.n(ow)()||ow;function sw(e){return iw.fromString(e,!0,16)}var uw=sw("c3a5c85c97cb3127"),cw=sw("b492b66fbe98f273"),lw=sw("9ae16a3b2f90404f");function dw(e){return e.xor(e.shru(47))}function pw(e,t,n){var r=e.slice(t,t+n);return iw.fromBytes(Array.from(r),!0,!0)}function fw(e,t){return pw(e,t,8)}function hw(e,t){return pw(e,t,4)}function mw(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function vw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sw("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function gw(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=mw(o.add(a).add(r),21);var i=a;return a=(a=a.add(t)).add(n),o=o.add(mw(a,44)),[a.add(r),o.add(i)]}(fw(e,t),fw(e,t+8),fw(e,t+16),fw(e,t+24),n,r)}function yw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=lw.add(2*t),r=fw(e,0).add(lw),a=fw(e,t-8),o=mw(a,37).mul(n).add(r),i=mw(r,25).add(a).mul(n);return vw(o,i,n)}if(t>=4){var s=lw.add(2*t),u=hw(e,0);return vw(u.shl(3).add(t),hw(e,t-4),s)}if(t>0){var c=e[0],l=e[t>>1],d=e[t-1],p=c+(l<<8),f=t+(d<<2);return dw(lw.mul(p).xor(uw.mul(f))).mul(lw)}return lw}function bw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=lw.add(2*t),r=fw(e,0).mul(cw),a=fw(e,8),o=fw(e,t-8).mul(n),i=fw(e,t-16).mul(lw);return vw(mw(r.add(a),43).add(mw(o,30)).add(i),r.add(mw(a.add(lw),18)).add(o),n)}function xw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=lw.add(2*t),r=fw(e,0).mul(lw),a=fw(e,8),o=fw(e,t-8).mul(n),i=fw(e,t-16).mul(lw),s=mw(r.add(a),43).add(mw(o,30)).add(i),u=vw(s,r.add(mw(a.add(lw),18)).add(o),n),c=fw(e,16).mul(n),l=fw(e,24),d=s.add(fw(e,t-32)).mul(n),p=u.add(fw(e,t-24)).mul(n);return vw(mw(c.add(l),43).add(mw(d,30)).add(p),c.add(mw(l.add(r),18)).add(d),n)}function ww(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=iw.fromNumber(81,!0);if(t<=32)return t<=16?yw(e,t):bw(e,t);if(t<=64)return xw(e,t);var r=n,a=n.mul(cw).add(113),o=dw(a.mul(lw).add(113)).mul(lw),i=[iw.UZERO,iw.UZERO],s=[iw.UZERO,iw.UZERO];r=r.mul(lw).add(fw(e,0));var u=0,c=64*(t-1>>6),l=c+(t-1&63)-63;do{r=mw(r.add(a).add(i[0]).add(fw(e,u+8)),37).mul(cw),a=mw(a.add(i[1]).add(fw(e,u+48)),42).mul(cw),r=r.xor(s[1]),a=a.add(i[0]).add(fw(e,u+40)),o=mw(o.add(s[0]),33).mul(cw),i=gw(e,u,i[1].mul(cw),r.add(s[0])),s=gw(e,u+32,o.add(s[1]),a.add(fw(e,u+16)));var d=[r,o];o=d[0],r=d[1],u+=64}while(u!==c);var p=cw.add(o.and(255).shl(1));u=l,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),r=mw(r.add(a).add(i[0]).add(fw(e,u+8)),37).mul(p),a=mw(a.add(i[1]).add(fw(e,u+48)),42).mul(p),r=r.xor(s[1].mul(9)),a=a.add(i[0].mul(9).add(fw(e,u+40))),o=mw(o.add(s[0]),33).mul(p),i=gw(e,u,i[1].mul(p),r.add(s[0])),s=gw(e,u+32,o.add(s[1]),a.add(fw(e,u+16)));var f=[r,o];return o=f[0],r=f[1],vw(vw(i[0],s[0],p).add(dw(a).mul(uw)).add(o),vw(i[1],s[1],p).add(r),p)}function kw(e,t){return"string"===t?Cw(e):Sw([e],t)}function Sw(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Mg(e)),ly().getBool("DEBUG")&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error("Unknown data type ".concat(t))}function Ew(){return ly().platform.now()}function Cw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ly().platform.encode(e,t)}function Tw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ly().platform.decode(e,t)}var Nw=function(){function e(t,n){(0,ei.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new _w)}return(0,ti.Z)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,o=function(){r=n()},i=Ew();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var s,u=(0,pc.Z)(r);try{for(u.s();!(s=u.n()).done;){s.value.dataSync()}}catch(d){u.e(d)}finally{u.f()}a=Promise.resolve({kernelMs:Ew()-i})}if(ly().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var c=function(t){var n=r[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},l=0;l<r.length;l++)c(l);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,o=e.inputs,i=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,i]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],o,r[2])}))}))}}]),e}();var _w=function(){function e(){(0,ei.Z)(this,e)}return(0,ti.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,o){var i="number"===typeof r?Zg("".concat(r,"ms"),9):r.error,s=Zg(e,25),u=t.rank,c=t.size,l=Zg(t.shape.toString(),14),d="";for(var p in a){var f=a[p];if(null!=f){var h=f.shape||t.shape,m=h.length;d+="".concat(p,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(i,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function Iw(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(var i=0;i<e.length;i++){var s=e[i],u=s.inputs;for(var c in u){for(var l=u[c],d=!1,p=0;p<t.length;p++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[s.id]=!0;break}if(d)break}}var f={};f[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,y=0;y<v.outputs.length;y++)if(f[v.outputs[y].id]){for(var b in g)f[g[b].id]=!0,h[v.id]=!0;break}for(var x=[],w=0;w<e.length;w++){var k=e[w];if(a[k.id]&&h[k.id]){var S={};for(var E in k.inputs){var C=k.inputs[E];r[C.id]&&(S[E]=C)}var T=Object.assign({},k);T.inputs=S,T.outputs=k.outputs,x.push(T)}}return x}function Ow(e,t,n,r){for(var a=function(a){var o=t[a],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));var s=o.gradient(i),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var i=o.inputs[t];if(!Pg(a.shape,i.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=a;else{var u=e[i.id];e[i.id]=r(u,a),u.dispose()}};for(var c in o.inputs)u(c)},o=t.length-1;o>=0;o--)a(o)}function Rw(e,t,n,r){var a=Yg(t),o=function(e,t,n,r){var a=Dg(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,u="complex64"===n?Pw(e):e;if(s>1)for(var c=0;c<a/o;c++)for(var l=c*o,d=0;d<o;d++)i[d]=Math.max(i[d],Aw(u[l+d],0,n).length);return i}(e,t,n,a),i=t.length,s=Dw(e,t,n,a,o),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(i)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function Aw(e,t,n){return Zg(Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):Hg(e)?"'".concat(e,"'"):"bool"===n?Mw(e):parseFloat(e.toFixed(7)).toString(),t)}function Mw(e){return 0===e?"false":"true"}function Dw(e,t,n,r,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var c=Pw(e);return[Aw(c[0],0,n)]}return"bool"===n?[Mw(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var l=3*i,d=Array.from(e.slice(0,l)),p=Array.from(e.slice((s-3)*i,s*i));return"complex64"===n&&(d=Pw(d),p=Pw(p)),["["+d.map((function(e,t){return Aw(e,a[t],n)})).join(", ")+", ..., "+p.map((function(e,t){return Aw(e,a[s-3+t],n)})).join(", ")+"]"]}var f="complex64"===n?Pw(e):Array.from(e);return["["+f.map((function(e,t){return Aw(e,a[t],n)})).join(", ")+"]"]}var h=t.slice(1),m=r.slice(1),v=r[0]*i,g=[];if(s>20){for(var y=0;y<3;y++){var b=y*v,x=b+v;g.push.apply(g,(0,De.Z)(Dw(e.slice(b,x),h,n,m,a,!1)))}g.push("...");for(var w=s-3;w<s;w++){var k=w*v,S=k+v;g.push.apply(g,(0,De.Z)(Dw(e.slice(k,S),h,n,m,a,w===s-1)))}}else for(var E=0;E<s;E++){var C=E*v,T=C+v;g.push.apply(g,(0,De.Z)(Dw(e.slice(C,T),h,n,m,a,E===s-1)))}var N=2===u?",":"";g[0]="["+g[0]+N;for(var _=1;_<g.length-1;_++)g[_]=" "+g[_]+N;for(var I=",\n",O=2;O<u;O++)I+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":I),g}function Pw(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Fw=function(){function e(t,n,r){var a=this;if((0,ei.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=Dg(t),null!=r){var o=r.length;Og(o===this.size,(function(){return"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Ug(n,this.size),this.strides=Yg(t)}return(0,ti.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),Og(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var o=this.locToIndex(r);this.values[o]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,o=t;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return Lw().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),Lw=null,Zw=null;var jw=function(){function e(t,n,r,a){(0,ei.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=Dg(t),this.strides=Yg(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,ti.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=uc(lc().mark((function e(){var t;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Zw.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return Zw.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=uc(lc().mark((function e(){var t;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Jg(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Jg(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=uc(lc().mark((function e(){var t,n;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=Lw().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return Tw(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataSync",value:function(){this.throwIfDisposed();var e=Lw().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return Tw(e)}))}catch(Bl){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=uc(lc().mark((function e(){var t;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,Lw().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(Lw().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zw.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),Zw.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return Rw(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),Zw.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Lw().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(jw,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),hy("Tensor",(function(){return jw}));var Bw,Vw,zw,Uw,Ww,qw=function(e){fc(n,e);var t=yc(n);function n(e,r,a,o){var i;return(0,ei.Z)(this,n),(i=t.call(this,e.shape,e.dtype,e.dataId,o)).trainable=r,i.name=a,i}return(0,ti.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!Pg(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Lw().disposeTensor(this),this.dataId=e.dataId,Lw().incRef(this,null)}},{key:"dispose",value:function(){Lw().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(jw);Object.defineProperty(qw,Symbol.hasInstance,{value:function(e){return e instanceof jw&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Bw||(Bw={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Vw||(Vw={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(zw||(zw={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Uw||(Uw={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Ww||(Ww={}));var Gw={float32:Uw,int32:Vw,bool:zw,complex64:Ww};function Hw(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return Gw[e][t]}function Qw(e){return Hw(e,"int32")}function Kw(e,t){if(e.dtype===t.dtype)return[e,t];var n=Hw(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Xw(e,t){Og(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function Yw(e){var t=[];return $w(e,t,new Set),t}function $w(e,t,n){if(null!=e)if(e instanceof jw)t.push(e);else if(r=e,Array.isArray(r)||"object"===typeof r){var r,a=e;for(var o in a){var i=a[o];n.has(i)||(n.add(i),$w(i,t,n))}}}function Jw(e){return null!=e.kernelName}var ek=function(){function e(){(0,ei.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,ti.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),tk=function(){function e(t){(0,ei.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ek}return(0,ti.Z)(e,[{key:"ready",value:function(){var e=uc(lc().mark((function e(){var t,n,r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(Yx("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=uc(lc().mark((function e(t){var n,r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Nw(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;nw(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;nw(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof Cg||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,Yx("Initialization of backend ".concat(e," failed")),Yx(n.stack||n.message)),!1}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}catch(i){return Yx("Initialization of backend ".concat(e," failed")),Yx(i.stack||i.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=ok.runKernel(gb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return ok.runKernel(Py,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=ew(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,o=[],i=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=Jw(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Jw(e)){var l=e.kernelName,d=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var f=ew(l,this.backendName);Og(null!=f,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=f.kernelFunc({inputs:d,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){if(null!=e.rank)return e;var t=e.dataId,n=e.shape,r=e.dtype;return a.makeTensorFromDataId(t,n,r)}));if(i){var s=a.getTensorsForGradient(l,d,n);o=a.saveTensorsForBackwardMode(s)}return n}}else{var h=e.forwardFunc,m=function(e){i&&(o=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return h(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var v,g=e.inputs,y=e.attrs,b=Jw(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(v=a.profiler.profileKernel(c,g,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(v),t=v.outputs):t=n()})),i&&this.addTapeNode(c,g,t,b,o,y),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(g).map((function(e){return null!=g[e]?g[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:v.timeMs,extraInfo:v.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=tw(e);if(null!=r){var a,o=r.inputsToSave||[],i=r.outputsToSave||[];r.saveAllInputs?(Og(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=o.map((function(e){return t[e]}));var s=n.filter((function(e,t){return i[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&Hg(e[0])&&(a=e.map((function(e){return Cw(e)})));var o=r.write(a,t,n),i=new jw(t,n,o,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){var s=this.state.tensorInfo.get(o),u=function(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return i}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a=new jw(t,n=n||"float32",e,this.nextTensorId());return this.trackTensor(a,r),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new qw(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Gg(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof qw||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*Gg(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o,i;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,De.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,a=(0,pc.Z)(this.state.activeProfile.kernels),e.prev=12,a.s();case 14:if((o=a.n()).done){e.next=24;break}return i=o.value,e.next=18,i.kernelTimeMs;case 18:return i.kernelTimeMs=e.sent,e.next=21,i.extraInfo;case 21:i.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,o){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=tw(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=ty(r.size,r.dtype);return i.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,o)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Yw(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Og(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));Og(o instanceof jw,(function(){return"The result y returned by f() must be a tensor."}));var i=Iw(this.state.activeTape,t,o);if(!a&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?nk(o.shape):n,Ow(e,i,(function(e){return r.tidy(e)}),ik);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t,n=(0,pc.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(r){n.e(r)}finally{n.f()}})),r.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return Og(Kg(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o;Og(r.every((function(e){return e instanceof jw})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};r.forEach((function(e,t){i[t]=e}));var s=function(t,n){return Og((o=e.apply(void 0,[].concat(r,[n]))).value instanceof jw,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),Og(Kg(o.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),o.value},u=function(e,t){var n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];Og(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),Og(a.every((function(e){return e instanceof jw})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(e,t){i[t]=function(){return e}})),i};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:i})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"time",value:function(){var e=uc(lc().mark((function e(t){var n,r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ew(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Ew()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ek,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function nk(e){var t=ey(Dg(e),"float32");return ok.makeTensor(t,e,"float32")}function rk(){var e=fy();if(null==e._tfengine){var t=new sy(e);e._tfengine=new tk(t)}return function(e){py=e}(e._tfengine.ENV),Lw=function(){return e._tfengine},e._tfengine}tk.nextTensorId=0,tk.nextVariableId=0;var ak,ok=rk();function ik(e,t){var n={a:e,b:t};return ok.runKernel(yy,n)}function sk(e){if(void 0!==ak)return ak;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function uk(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var ck=ly();function lk(e,t){var n=e;if(qg(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||qg(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&ly().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&dk(e,r,[]),r}function dk(e,t,n){if(n=n||[],Array.isArray(e)||qg(e)){Og(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),Og(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)dk(e[a],r,n.concat(a))}else Og(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function pk(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function fk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof jw)return pk(r,e.dtype,t,n),e;var a=Qg(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),pk(r,a,t,n),null==e||!qg(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var o=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(o,"'"))}var i=lk(e,a);qg(e)||Array.isArray(e)||(e=[e]);var s=!0,u="string"!==a?Sw(e,a):Mg(e,[],s);return ok.makeTensor(u,i,a)}function hk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=e;return a.map((function(e,a){return fk(e,"".concat(t,"[").concat(a,"]"),n,r)}))}ck.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),ck.registerFlag("IS_BROWSER",(function(){return uk()})),ck.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),ck.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),ck.registerFlag("PROD",(function(){return!1})),ck.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return ck.getBool("DEBUG")})),ck.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),ck.registerFlag("IS_TEST",(function(){return!1})),ck.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),ck.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}));var mk="__op";function vk(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=mk;var a=function(){ok.startScope(n);try{var e=r.apply(void 0,arguments);return oy(e)&&console.error("Cannot return a Promise inside of tidy."),ok.endScope(e),e}catch(t){throw ok.endScope(null),t}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}var gk=vk({complex_:function(e,t){var n=fk(e,"real","complex"),r=fk(t,"imag","complex");Rg(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");var a={real:n,imag:r};return ok.runKernel(Zy,a)}});function yk(e,t,n,r){if(null==r&&(r=Qg(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!qg(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ny(t);var a=Dg(t),o=Dg(n);Og(a===o,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(a," values but has ").concat(o)}));for(var i=0;i<n.length;++i){var s=n[i],u=i!==n.length-1||s!==Dg(t.slice(i));Og(n[i]===t[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return qg(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Sw(e,r):Mg(e,[],!0),ok.makeTensor(e,t,r)}function bk(e,t,n){return yk(e,t,lk(e,n),n)}var xk={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function wk(e,t){var n,r,a={},o=0,i=(0,pc.Z)(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=s.name,c=s.dtype,l=s.shape,d=Dg(l),p=void 0;if("quantization"in s){var f=s.quantization;if("uint8"===f.dtype||"uint16"===f.dtype){if(!("min"in f)||!("scale"in f))throw new Error("Weight ".concat(s.name," with quantization ").concat(f.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==f.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(f.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(s.name," is quantized with ").concat(f.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var h=xk[f.dtype],m=e.slice(o,o+d*h),v="uint8"===f.dtype?new Uint8Array(m):new Uint16Array(m);if("float32"===c)if("uint8"===f.dtype||"uint16"===f.dtype){p=new Float32Array(v.length);for(var g=0;g<v.length;g++){var y=v[g];p[g]=y*f.scale+f.min}}else{if("float16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type float32.");void 0===n&&(n=Rk()),p=n(v)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));if("uint8"!==f.dtype&&"uint16"!==f.dtype)throw new Error("Unsupported quantization type ".concat(f.dtype," ")+"for weight type int32.");p=new Int32Array(v.length);for(var b=0;b<v.length;b++){var x=v[b];p[b]=Math.round(x*f.scale+f.min)}}o+=d*h}else if("string"===c){var w=Dg(s.shape);p=[];for(var k=0;k<w;k++){var S=new Uint32Array(e.slice(o,o+4))[0];o+=4;var E=new Uint8Array(e.slice(o,o+S));p.push(E),o+=S}}else{var C=xk[c],T=e.slice(o,o+d*C);if("float32"===c)p=new Float32Array(T);else if("int32"===c)p=new Int32Array(T);else if("bool"===c)p=new Uint8Array(T);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));p=new Float32Array(T);for(var N=new Float32Array(p.length/2),_=new Float32Array(p.length/2),I=0;I<N.length;I++)N[I]=p[2*I],_[I]=p[2*I+1];var O=bk(N,l,"float32"),R=bk(_,l,"float32");a[u]=gk(O,R),O.dispose(),R.dispose()}o+=d*C}"complex64"!==c&&(a[u]=bk(p,l,c))}}catch(A){i.e(A)}finally{i.f()}return a}var kk="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Sk(e){return kk?Buffer.byteLength(e):new Blob([e]).size}function Ek(e){if(kk)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function Ck(e){if(kk){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function Tk(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Nk(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function _k(e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=uc(lc().mark((function e(t,n){var r,a,o,i,s;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:a=e.sent,o=(0,E.Z)(a,2),i=o[0],s=o[1],r.weightSpecs=i,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ok(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Sk(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Sk(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function Rk(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),o=new Uint32Array(a),i=0;i<r.length;i++){var s=r[i],u=e[n[s>>10]+(1023&s)]+t[s>>10];o[i]=u}return new Float32Array(a)}}var Ak=function(){function e(){(0,ei.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,ti.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),Mk="tensorflowjs",Dk="models_store",Pk="model_info_store";function Fk(){if(!ly().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Lk(e){var t=e.result;t.createObjectStore(Dk,{keyPath:"modelPath"}),t.createObjectStore(Pk,{keyPath:"modelPath"})}var Zk=function(){function e(t){if((0,ei.Z)(this,e),this.indexedDB=Fk(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,ti.Z)(e,[{key:"save",value:function(){var e=uc(lc().mark((function e(t){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=uc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(Mk,1);a.onupgradeneeded=function(){return Lk(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction(Dk,"readonly"),s=i.objectStore(Dk).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){return o.close()}}else{var u,c=Ok(t),l=o.transaction(Pk,"readwrite"),d=l.objectStore(Pk),p=d.put({modelPath:n.modelPath,modelArtifactsInfo:c});p.onsuccess=function(){var a=(u=o.transaction(Dk,"readwrite")).objectStore(Dk).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});a.onsuccess=function(){return e({modelArtifactsInfo:c})},a.onerror=function(e){var t=(d=l.objectStore(Pk)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},p.onerror=function(e){return o.close(),r(p.error)},l.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();Zk.URL_SCHEME="indexeddb://";var jk=function(e){return ly().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Zk.URL_SCHEME)?(t=e.slice(Zk.URL_SCHEME.length),new Zk(t)):null;var t};Ak.registerSaveRouter(jk),Ak.registerLoadRouter(jk);var Bk=function(){function e(){(0,ei.Z)(this,e),this.indexedDB=Fk()}return(0,ti.Z)(e,[{key:"listModels",value:function(){var e=uc(lc().mark((function e(){var t=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Mk,1);r.onupgradeneeded=function(){return Lk(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(Pk,"readonly"),o=a.objectStore(Pk).getAll();o.onsuccess=function(){var t,n={},r=(0,pc.Z)(o.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(i){r.e(i)}finally{r.f()}e(n)},o.onerror=function(e){return t.close(),n(o.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=uc(lc().mark((function e(t){var n=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(Zk.URL_SCHEME)?r.slice(Zk.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(Mk,1);a.onupgradeneeded=function(){return Lk(a)},a.onsuccess=function(){var n,o=a.result,i=o.transaction(Pk,"readwrite"),s=i.objectStore(Pk),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),i=function(){var a=(n=o.transaction(Dk,"readwrite")).objectStore(Dk).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(u.error)}},u.onerror=function(e){return o.close(),r(u.error)},i.oncomplete=function(){null==n?o.close():n.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vk="/",zk="tensorflowjs_models",Uk="info",Wk="model_topology",qk="weight_specs",Gk="weight_data",Hk="model_metadata";function Qk(e){return{info:[zk,e,Uk].join(Vk),topology:[zk,e,Wk].join(Vk),weightSpecs:[zk,e,qk].join(Vk),weightData:[zk,e,Gk].join(Vk),modelMetadata:[zk,e,Hk].join(Vk)}}function Kk(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function Xk(e){var t=e.split(Vk);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(Vk)}var Yk=function(){function e(t){if((0,ei.Z)(this,e),!ly().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=Qk(this.modelPath)}return(0,ti.Z)(e,[{key:"save",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=Ok(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Ek(t.weightData)),o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),Kk(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=uc(lc().mark((function e(){var t,n,r,a,o,i,s;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,null!=i.signature&&(n.signature=i.signature),null!=i.userDefinedMetadata&&(n.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(n.modelInitializer=i.modelInitializer),null!=i.trainingConfig&&(n.trainingConfig=i.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Ck(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();Yk.URL_SCHEME="localstorage://";var $k=function(e){return ly().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Yk.URL_SCHEME)?(t=e.slice(Yk.URL_SCHEME.length),new Yk(t)):null;var t};Ak.registerSaveRouter($k),Ak.registerLoadRouter($k);var Jk=function(){function e(){(0,ei.Z)(this,e),Og(ly().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Og("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,ti.Z)(e,[{key:"listModels",value:function(){var e=uc(lc().mark((function e(){var t,n,r,a,o,i;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=zk+Vk,r=Vk+Uk,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(n)&&o.endsWith(r)&&(i=Xk(o),t[i]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=uc(lc().mark((function e(t){var n,r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(Yk.URL_SCHEME)?a.slice(Yk.URL_SCHEME.length):a,n=Qk(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),Kk(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),eS="://",tS=function(){function e(){(0,ei.Z)(this,e),this.managers={}}return(0,ti.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Og(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(eS)&&(t=t.slice(0,t.indexOf(eS))),Og(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Og(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();var nS=function(){function e(){(0,ei.Z)(this,e)}return(0,ti.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if(ly().get("IS_BROWSER")){ly().setPlatform("browser",new nS);try{tS.registerManager(Yk.URL_SCHEME,new Jk)}catch(RQ){}try{tS.registerManager(Zk.URL_SCHEME,new Bk)}catch(RQ){}}var rS,aS=function(){return n(5410)};var oS=function(){function e(){(0,ei.Z)(this,e),this.util=n(8628),this.textEncoder=new this.util.TextEncoder}return(0,ti.Z)(e,[{key:"fetch",value:function(e,t){return null!=ly().global.fetch?ly().global.fetch(e,t):(null==rS&&(rS=aS()),rS(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();function iS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",ny(e),new Fw(e,t,n)}ly().get("IS_NODE")&&ly().setPlatform("node",new oS);var sS=vk({cast_:function(e,t){var n=fk(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={x:n},a={dtype:t};return ok.runKernel(Py,r,a)}});var uS=vk({clone_:function(e){var t={x:fk(e,"x","clone","string_or_numeric")};return ok.runKernel(gb,t)}});function cS(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}rk(),Zw={buffer:iS,cast:sS,clone:uS,print:cS};function lS(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var dS=function(){function e(t){if((0,ei.Z)(this,e),!ly().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,ti.Z)(e,[{key:"save",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o,i,s;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=Nk(t,r),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,i.href=o,e.next=15,lS((function(){return i.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,lS((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:Ok(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();dS.URL_SCHEME="downloads://";function pS(e,t,n,r){!function(e){Og(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Og(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),Og(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),Og(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function fS(e,t){return hS.apply(this,arguments)}function hS(){return(hS=uc(lc().mark((function e(t,n){var r,a,o,i,s,u,c,l,d;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?ly().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),o=0,i=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,pS(a,n.onProgress,o,i);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,pS(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ak.registerSaveRouter((function(e){return ly().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(dS.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new dS(e)}(e.slice(dS.URL_SCHEME.length)):null}));var mS=function(){function e(t,n){if((0,ei.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Og("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=ly().platform.fetch,Og(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&Og(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,ti.Z)(e,[{key:"save",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Nk(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(o=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:Ok(t),responses:[o]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=uc(lc().mark((function e(){var t,n,r,a,o,i=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,o=n.weightsManifest,null!=a||null!=o){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",_k(n,(function(e){return i.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=vS(n),a=(0,E.Z)(r,2),o=a[0],i=a[1],s=this.weightPathPrefix||o,u=[],c=(0,pc.Z)(t);try{for(c.s();!(l=c.n()).done;)d=l.value,u.push.apply(u,(0,De.Z)(d.weights))}catch(RQ){c.e(RQ)}finally{c.f()}p=[],f=[],h=(0,pc.Z)(t);try{for(h.s();!(m=h.n()).done;){v=m.value,g=(0,pc.Z)(v.paths);try{for(g.s();!(y=g.n()).done;)b=y.value,null!=this.weightUrlConverter?f.push(this.weightUrlConverter(b)):p.push(s+b+i)}catch(RQ){g.e(RQ)}finally{g.f()}}}catch(RQ){h.e(RQ)}finally{h.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=p.push,e.t1=p,e.t2=De.Z,e.next=16,Promise.all(f);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,fS(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return x=e.sent,e.abrupt("return",[u,Tk(x)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vS(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function gS(e){return null!=e.match(mS.URL_SCHEME_REGEX)}mS.URL_SCHEME_REGEX=/^https?:\/\//;var yS=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return gS(e)})):gS(e))?bS(e,t):null};function bS(e,t){return new mS(e,t)}function xS(e,t){return bS(e,t)}Ak.registerSaveRouter(yS),Ak.registerLoadRouter(yS);var wS;function kS(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function SS(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)n.unshift(i);else if(1===i)n.unshift(o);else{if(o!==i){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(o)}}return n}function ES(e,t,n){if(Ag(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=lk(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return yk(e,t,r,n)}function CS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(a){var u=2;if(a&&e.readyState<u)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=ew(Gx,ok.backendName);if(null!=c){var l={pixels:e},d={numChannels:t};return ok.runKernel(Gx,l,d)}var p,f,h=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=(0,E.Z)(h,2),v=m[0],g=m[1];if(i)p=e.getContext("2d").getImageData(0,0,v,g).data;else if(r||n)p=e.data;else if(o||a||s){if(null==wS)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");wS=new OffscreenCanvas(1,1).getContext("2d")}else wS=document.createElement("canvas").getContext("2d");wS.canvas.width=v,wS.canvas.height=g,wS.drawImage(e,0,0,v,g),p=wS.getImageData(0,0,v,g).data}if(4===t)f=new Int32Array(p);else{var y=v*g;f=new Int32Array(y*t);for(var b=0;b<y;b++)for(var x=0;x<t;++x)f[b*t+x]=p[4*b+x]}var w=[g,v,t];return ES(f,w,"int32")}var TS=vk({fromPixels_:CS});function NS(e,t,n){var r=e.shape.length;Og(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),Og(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var a=function(a){Og(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice".concat(r,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+n[a],") would overflow input.shape[").concat(a,"] (").concat(e.shape[a],")")}))},o=0;o<r;++o)a(o)}function _S(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function IS(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function OS(e,t,n){var r,a,o=e.shape.length;return(r="number"===typeof t?[t].concat((0,De.Z)(new Array(o-1).fill(0))):t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice()).forEach((function(e){Og(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(o).fill(-1):"number"===typeof n?[n].concat((0,De.Z)(new Array(o-1).fill(-1))):n.length<o?n.concat(new Array(o-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(Og(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,a]}function RS(e,t,n,r,a,o,i,s,u){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:u},p=0;p<d.dims;p++)l&&0!==(1<<p&s)&&d.numAddAxisAfterEllipsis++,1<<p&i&&(l=!0);l||(d.ellipsisMask|=1<<d.dims,d.dims++);var f={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,f);for(var h=!0,m=!0,v=!0,g=[],y=[],b=0;b<e.length;++b){if(0===f.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(f.shrinkAxisMask&1<<b),w=e[b];if(-1!==w){var k=[f.beginMask&1<<b,f.endMask&1<<b],S=[f.strides[b]>0?0:-1,f.strides[b]>0?w:w-1];if(x&&f.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&1===f.strides[b];var E=!!(f.beginMask&1<<b&&f.endMask&1<<b);if(f.beginValid&&f.endValid){if(x){var C=f.begin[b]<0?w+f.begin[b]:f.begin[b];if(f.begin[b]=C,f.end[b]=f.begin[b]+1,C<0||C>=w)throw Error("slice index ".concat(f.begin[b]," of dimension ").concat(b," out of bounds."))}else f.begin[b]=AS(f.begin[b],0,f.strides[b],w,k,S),f.end[b]=AS(f.end[b],1,f.strides[b],w,k,S);var T=1===f.strides[b]&&0===f.begin[b]&&f.end[b]===w;h=h&&T,m=m&&(0===b&&1===f.strides[b]||T)}else h=h&&1===f.strides[b]&&E,m=m&&(0===b&&1===f.strides[b]||E);var N=void 0,_=!1;if(f.beginValid&&f.endValid?(N=f.end[b]-f.begin[b],_=!0):x?(N=1,_=!0):E&&w>=0&&(N=f.strides[b]<0?-w:w,_=!0),_){var I=void 0;I=0===N||N<0!==f.strides[b]<0?0:Math.trunc(N/f.strides[b])+(N%f.strides[b]!==0?1:0),g.push(I)}else g.push(-1)}else g.push(x?1:-1)}for(var O=0;O<f.finalShapeGatherIndices.length;++O){var R=f.finalShapeGatherIndices[O];R>=0?y.push(g[R]):-2===R&&y.push(1)}var A=y.filter((function(e,t){return-2!==f.finalShapeGatherIndices[t]}));return{finalShapeSparse:A,finalShape:y,isIdentity:h,sliceDim0:m,isSimpleSlice:v,begin:f.begin,end:f.end,strides:f.strides}}function AS(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];var i=e<0?r+e:e;return i<o[0]?o[0]:i>o[1]?o[1]:i}var MS=vk({abs_:function(e){var t=fk(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return ok.runKernel(jy,n)}var r={x:t};return ok.runKernel(my,r)}});var DS=vk({acos_:function(e){var t={x:fk(e,"x","acos")};return ok.runKernel(vy,t)}});var PS=vk({acosh_:function(e){var t={x:fk(e,"x","acosh")};return ok.runKernel(gy,t)}});var FS=vk({add_:function(e,t){var n=fk(e,"a","add"),r=fk(t,"b","add"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel(yy,i)}});var LS=vk({addN_:function(e){Og(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),Og(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return fk(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!Pg(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return ok.runKernel(by,r)}});var ZS=vk({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","all","bool"),a={x:r},o={axis:t,keepDims:n};return ok.runKernel(xy,a,o)}});var jS=vk({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","any","bool"),a={x:r},o={axis:t,keepDims:n};return ok.runKernel(wy,a,o)}});var BS=vk({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","argMax"),r={x:n},a={axis:t};return ok.runKernel(ky,r,a)}});var VS=vk({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","argMin"),r={x:n},a={axis:t};return ok.runKernel(Sy,r,a)}});var zS=vk({asin_:function(e){var t={x:fk(e,"x","asin")};return ok.runKernel(Ey,t)}});var US=vk({asinh_:function(e){var t={x:fk(e,"x","asinh")};return ok.runKernel(Cy,t)}});var WS=vk({atan_:function(e){var t={x:fk(e,"x","atan")};return ok.runKernel(Ty,t)}});var qS=vk({atan2_:function(e,t){var n=fk(e,"a","atan2"),r=fk(t,"b","atan2"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel(_y,i)}});var GS=vk({atanh_:function(e){var t={x:fk(e,"x","atanh")};return ok.runKernel(Ny,t)}});function HS(e,t,n,r,a,o){var i,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=$S(t),c=(0,E.Z)(u,2),l=c[0],d=c[1];if("channelsLast"===s)i=[l,d,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));i=[l,d,e[1],e[1]]}return KS(e,i,n,r,a,o,!1,s)}function QS(e,t,n,r,a,o){var i,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",c=JS(t),l=(0,E.Z)(c,3),d=l[0],p=l[1],f=l[2];if("NDHWC"===u)s="channelsLast",i=[d,p,f,e[4],e[4]];else{if("NCDHW"!==u)throw new Error("Unknown dataFormat ".concat(u));s="channelsFirst",i=[d,p,f,e[1],e[1]]}return XS(e,i,n,r,a,!1,s,o)}function KS(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",u=-1,c=-1,l=-1,d=-1;if("channelsLast"===s){var p=(0,E.Z)(e,4);u=p[0],c=p[1],l=p[2],d=p[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var f=(0,E.Z)(e,4);u=f[0],d=f[1],c=f[2],l=f[3]}var h,m=(0,E.Z)(t,4),v=m[0],g=m[1],y=m[3],b=$S(n),x=(0,E.Z)(b,2),w=x[0],k=x[1],S=$S(r),C=(0,E.Z)(S,2),T=C[0],N=C[1],_=eE(v,T),I=eE(g,N),O=tE(a,c,l,w,k,_,I,o,s),R=O.padInfo,A=O.outHeight,M=O.outWidth,D=i?y*d:y;return"channelsFirst"===s?h=[u,D,A,M]:"channelsLast"===s&&(h=[u,A,M,D]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:l,inChannels:d,outHeight:A,outWidth:M,outChannels:D,padInfo:R,strideHeight:w,strideWidth:k,filterHeight:v,filterWidth:g,effectiveFilterHeight:_,effectiveFilterWidth:I,dilationHeight:T,dilationWidth:N,inShape:e,outShape:h,filterShape:t}}function XS(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,u=-1,c=-1,l=-1,d=-1,p=-1;if("channelsLast"===i){var f=(0,E.Z)(e,5);u=f[0],c=f[1],l=f[2],d=f[3],p=f[4]}else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));var h=(0,E.Z)(e,5);u=h[0],p=h[1],c=h[2],l=h[3],d=h[4]}var m,v=(0,E.Z)(t,5),g=v[0],y=v[1],b=v[2],x=v[4],w=JS(n),k=(0,E.Z)(w,3),S=k[0],C=k[1],T=k[2],N=JS(r),_=(0,E.Z)(N,3),I=_[0],O=_[1],R=_[2],A=eE(g,I),M=eE(y,O),D=eE(b,R),P=nE(a,c,l,d,S,C,T,A,M,D,s),F=P.padInfo,L=P.outDepth,Z=P.outHeight,j=P.outWidth,B=o?x*p:x;return"channelsFirst"===i?m=[u,B,L,Z,j]:"channelsLast"===i&&(m=[u,L,Z,j,B]),{batchSize:u,dataFormat:i,inDepth:c,inHeight:l,inWidth:d,inChannels:p,outDepth:L,outHeight:Z,outWidth:j,outChannels:B,padInfo:F,strideDepth:S,strideHeight:C,strideWidth:T,filterDepth:g,filterHeight:y,filterWidth:b,effectiveFilterDepth:A,effectiveFilterHeight:M,effectiveFilterWidth:D,dilationDepth:I,dilationHeight:O,dilationWidth:R,inShape:e,outShape:m,filterShape:t}}function YS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=eE(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function $S(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function JS(e){return"number"===typeof e?[e,e,e]:e}function eE(e,t){return t<=1?e:e+(e-1)*(t-1)}function tE(e,t,n,r,a,o,i,s,u){var c,l,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a){null==r&&(r=YS(e,t,n));var o=e[0],i=e[1];return[rE((o-t+2*r)/n+1,a),rE((i-t+2*r)/n+1,a)]}([t,n],o,r,e,s);l=p[0],d=p[1]}else if("same"===e){l=Math.ceil(t/r),d=Math.ceil(n/a);var f=Math.max(0,(l-1)*r+o-t),h=Math.max(0,(d-1)*a+i-n),m=Math.floor(f/2),v=f-m,g=Math.floor(h/2);c={top:m,bottom:v,left:g,right:h-g,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-o+1)/r),d=Math.ceil((n-i+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var y="channelsLast"===u?e[1][0]:e[2][0],b="channelsLast"===u?e[1][1]:e[2][1],x="channelsLast"===u?e[2][0]:e[3][0],w="channelsLast"===u?e[2][1]:e[3][1];c={top:y,bottom:b,left:x,right:w,type:0===y&&0===b&&0===x&&0===w?"VALID":"EXPLICIT"},l=rE((t-o+y+b)/r+1,s),d=rE((n-i+x+w)/a+1,s)}return{padInfo:c,outHeight:l,outWidth:d}}function nE(e,t,n,r,a,o,i,s,u,c,l){var d,p,f,h;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,o){null==a&&(a=YS(e,t,r));var i=e[0],s=e[1],u=e[2];return[rE((i-t+2*a)/r+1,o),rE((s-t+2*a)/r+1,o),rE((u-t+2*a)/r+1,o),n]}([t,n,r,1],s,1,a,e,l);p=m[0],f=m[1],h=m[2]}else if("same"===e){var v=((p=Math.ceil(t/a))-1)*a+s-t,g=((f=Math.ceil(n/o))-1)*o+u-n,y=((h=Math.ceil(r/i))-1)*i+c-r,b=Math.floor(v/2),x=v-b,w=Math.floor(g/2),k=g-w,S=Math.floor(y/2);d={top:w,bottom:k,left:S,right:y-S,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/a),f=Math.ceil((n-u+1)/o),h=Math.ceil((r-c+1)/i)}return{padInfo:d,outDepth:p,outHeight:f,outWidth:h}}function rE(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function aE(e){var t=$S(e),n=(0,E.Z)(t,3),r=n[0],a=n[1],o=n[2];return 1===r&&1===a&&1===o}function oE(e,t){return aE(e)||aE(t)}function iE(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function sE(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)Og(Fg(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){Og(Fg(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}var uE=vk({reshape_:function(e,t){var n={x:fk(e,"x","reshape","string_or_numeric")},r={shape:t};return ok.runKernel(ox,n,r)}});var cE=vk({avgPool_:function(e,t,n,r,a){var o=fk(e,"x","avgPool","float32");Og(oE(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var i=o,s=!1;3===o.rank&&(s=!0,i=uE(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Og(4===i.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(i.rank,".")})),sE("avgPool",r,a);var u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},l=ok.runKernel(Iy,u,c);return l=sS(l,o.dtype),s?uE(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var lE=vk({avgPool3d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=fk(e,"x","avgPool3d","float32"),s=i,u=!1;4===i.rank&&(u=!0,s=uE(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Og(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),Og("NDHWC"===o,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),sE("avgPool3d",r,a);var c={x:s},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=ok.runKernel(Oy,c,l);return d=sS(d,s.dtype),u?uE(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var dE=vk({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Og(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=hk(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return uS(n[0]);var r=n,a={axis:t};return ok.runKernel(By,r,a)}});var pE=vk({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"a","matMul"),o=fk(t,"b","matMul"),i=Kw(a,o),s=(0,E.Z)(i,2),u={a:a=s[0],b:o=s[1]},c={transposeA:n,transposeB:r};return ok.runKernel(Ry,u,c)}});var fE=vk({mul_:function(e,t){var n=fk(e,"a","mul"),r=fk(t,"b","mul"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel(Ub,i)}});var hE=vk({sigmoid_:function(e){var t={x:fk(e,"x","sigmoid","float32")};return ok.runKernel(yx,t)}});var mE=vk({slice_:function(e,t,n){var r=fk(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");var a={x:r},o={begin:t,size:n};return ok.runKernel(mx,a,o)}});var vE=vk({tanh_:function(e){var t={x:fk(e,"x","tanh","float32")};return ok.runKernel(Fx,t)}});var gE=vk({basicLSTMCell_:function(e,t,n,r,a,o){var i=fk(e,"forgetBias","basicLSTMCell"),s=fk(t,"lstmKernel","basicLSTMCell"),u=fk(n,"lstmBias","basicLSTMCell"),c=fk(r,"data","basicLSTMCell"),l=fk(a,"c","basicLSTMCell"),d=fk(o,"h","basicLSTMCell"),p=dE([c,d],1),f=pE(p,s),h=FS(f,u),m=h.shape[0],v=h.shape[1]/4,g=[m,v],y=mE(h,[0,0],g),b=mE(h,[0,v],g),x=mE(h,[0,2*v],g),w=mE(h,[0,3*v],g),k=FS(fE(hE(y),vE(b)),fE(l,hE(FS(i,x))));return[k,fE(vE(k),hE(w))]}});var yE=vk({batchToSpaceND_:function(e,t,n){var r=fk(e,"x","batchToSpaceND"),a=t.reduce((function(e,t){return e*t}));Og(r.rank>=1+t.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length)})),Og(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),Og(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)}));var o={x:r},i={blockShape:t,crops:n};return ok.runKernel(Ay,o,i)}});var bE=vk({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);var i,s,u=fk(e,"x","batchNorm"),c=fk(t,"mean","batchNorm"),l=fk(n,"variance","batchNorm");null!=a&&(i=fk(a,"scale","batchNorm")),null!=r&&(s=fk(r,"offset","batchNorm")),Og(c.rank===l.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Og(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Og(null==i||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var d=function(e){return 0===e.rank||1===e.rank?uE(e,[1,1,1,e.size]):2===e.rank?uE(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?uE(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(u),p={x:d,scale:i,offset:s,mean:c,variance:l},f={varianceEpsilon:o},h=ok.runKernel(pb,p,f);return uE(h,u.shape)}});var xE=vk({batchNorm2d_:function(e,t,n,r,a,o){var i,s,u=fk(e,"x","batchNorm"),c=fk(t,"mean","batchNorm"),l=fk(n,"variance","batchNorm");return null!=a&&(i=fk(a,"scale","batchNorm")),null!=r&&(s=fk(r,"offset","batchNorm")),Og(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),Og(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),Og(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&Og(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&Og(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),bE(u,c,l,s,i,o)}});var wE=vk({batchNorm3d_:function(e,t,n,r,a,o){var i,s,u=fk(e,"x","batchNorm"),c=fk(t,"mean","batchNorm"),l=fk(n,"variance","batchNorm");return null!=a&&(i=fk(a,"scale","batchNorm")),null!=r&&(s=fk(r,"offset","batchNorm")),Og(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),Og(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),Og(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&Og(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&Og(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),bE(u,c,l,s,i,o)}});var kE=vk({batchNorm4d_:function(e,t,n,r,a,o){var i,s,u=fk(e,"x","batchNorm"),c=fk(t,"mean","batchNorm"),l=fk(n,"variance","batchNorm");return null!=a&&(i=fk(a,"scale","batchNorm")),null!=r&&(s=fk(r,"offset","batchNorm")),Og(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),Og(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),Og(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&Og(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&Og(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),bE(u,c,l,s,i,o)}});var SE=vk({bincount_:function(e,t,n){var r=fk(e,"x","bincount"),a=fk(t,"weights","bincount");Og("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),Og(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),Og(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")}));var o={x:r,weights:a},i={size:n};return ok.runKernel(My,o,i)}});var EE=vk({broadcastArgs_:function(e,t){var n=fk(e,"s0","broadcastArgs","int32"),r=fk(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return ok.runKernel(Dy,a)}});var CE=vk({broadcastTo_:function(e,t){var n=fk(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var a=n.shape.slice();a.length<t.length;)a.unshift(1);n=uE(n,a)}for(var o=n.shape,i=Array.from(t),s=t.length-1;s>=0;s--)if(o[s]===t[s])i[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));var u=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===u.length)return uS(n);var c={x:n},l={reps:i};return ok.runKernel(Lx,c,l)}});var TE=vk({ceil_:function(e){var t={x:fk(e,"x","ceil","float32")};return ok.runKernel(Fy,t)}});var NE=vk({clipByValue_:function(e,t,n){var r=fk(e,"x","clipByValue");Og(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var a={x:r},o={clipValueMin:t,clipValueMax:n};return ok.runKernel(Ly,a,o)}});var _E=vk({concat1d_:function(e){return dE(e,0)}});var IE=vk({concat2d_:function(e,t){return dE(e,t)}});var OE=vk({concat3d_:function(e,t){return dE(e,t)}});var RE=vk({concat4d_:function(e,t){return dE(e,t)}});var AE=vk({conv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=fk(e,"x","conv2d","float32"),u=fk(t,"filter","conv2d","float32"),c=s,l=!1;3===s.rank&&(l=!0,c=uE(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Og(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,".")})),Og(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")})),sE("conv2d",r,i);var d="NHWC"===a?c.shape[3]:c.shape[1];Og(d===u.shape[2],(function(){return"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(u.shape[2],".")})),Og(oE(n,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")}));var p={x:c,filter:u},f={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},h=ok.runKernel(Vy,p,f);return l?uE(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var ME=vk({conv1d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0,s=fk(e,"x","conv1d"),u=fk(t,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=uE(s,[1,s.shape[0],s.shape[1]])),Og(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,".")})),Og(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(u.rank,".")})),sE("conv1d",r,i),Og(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(u.shape[1],".")})),Og(oE(n,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'")})),Og("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var d=uE(u,[1,u.shape[0],u.shape[1],u.shape[2]]),p=uE(c,[c.shape[0],1,c.shape[1],c.shape[2]]),f=[1,n],h=[1,o],m="NHWC",v=AE(p,d,f,r,m,h,i);return uE(v,l?[v.shape[2],v.shape[3]]:[v.shape[0],v.shape[2],v.shape[3]])}});var DE=vk({conv2DBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;Og(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var s=e,u=t,c=!1;3===t.rank&&(c=!0,u=uE(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),Og(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,".")})),Og(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(u.rank)})),Og(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var l="NHWC"===o?s[3]:s[1],d="NHWC"===o?u.shape[3]:u.shape[1];Og(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),Og(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),sE("conv2dDerInput",a,i);var p={dy:u,filter:n},f={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,inputShape:s},h=ok.runKernel(Uy,p,f);return c?uE(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});var PE=vk({conv2dTranspose_:function(e,t,n,r,a,o){var i=fk(e,"x","conv2dTranspose"),s=fk(t,"filter","conv2dTranspose");return DE(n,i,s,r,a,"NHWC",o)}});var FE=vk({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],i=fk(e,"x","conv3d"),s=fk(t,"filter","conv3d"),u=i,c=!1;4===i.rank&&(c=!0,u=uE(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Og(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(u.rank,".")})),Og(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")})),Og(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(u.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")})),Og(oE(n,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),Og("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}));var l={x:u,filter:s},d={strides:n,pad:r,dataFormat:a,dilations:o},p=ok.runKernel(Wy,l,d);return c?uE(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var LE=vk({conv3DBackpropInput_:function(e,t,n,r,a){Og(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var o=e,i=t,s=!1;4===t.rank&&(s=!0,i=uE(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);var u=o[4],c=i.shape[4];Og(5===o.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,".")})),Og(5===i.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(i.rank)})),Og(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),Og(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),Og(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var l={dy:i,filter:n},d={pad:a,strides:r,inputShape:o},p=ok.runKernel(qy,l,d);return s?uE(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});var ZE=vk({conv3dTranspose_:function(e,t,n,r,a){var o=fk(e,"x","conv3dTranspose"),i=fk(t,"filter","conv3dTranspose");return LE(n,o,i,r,a)}});var jE=vk({cos_:function(e){var t={x:fk(e,"x","cos","float32")};return ok.runKernel("Cos",t)}});var BE=vk({cosh_:function(e){var t={x:fk(e,"x","cosh","float32")};return ok.runKernel(Gy,t)}});var VE=vk({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"x","cumsum"),o={x:a},i={axis:t,exclusive:n,reverse:r};return ok.runKernel(Hy,o,i)}});var zE=vk({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"x","denseBincount"),o=fk(t,"weights","denseBincount");Og("int32"===a.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)})),Og(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")})),Og(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),Og(o.size===a.size||0===o.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,".")}));var i={x:a,weights:o},s={size:n,binaryOutput:r};return ok.runKernel(Ky,i,s)}});var UE=vk({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=fk(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];Og(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),Og(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape)})),Og(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape)})),Og(i%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(i," for depthToSpace with input shape ").concat(r.shape)}));var s={x:r},u={blockSize:t,dataFormat:n};return ok.runKernel(Xy,s,u)}});var WE=vk({depthwiseConv2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=fk(e,"x","depthwiseConv2d","float32"),u=fk(t,"filter","depthwiseConv2d","float32"),c=s,l=!1;3===s.rank&&(l=!0,c=uE(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Og(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")})),Og(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")})),Og(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(c.shape[3],") must match the inChannels dimension in ")+"filter ".concat(u.shape[2],".")})),sE("depthwiseConv2d",r,i);var d={x:c,filter:u},p={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:i},f=ok.runKernel(Yy,d,p);return l?uE(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});var qE=vk({diag_:function(e){var t={x:fk(e,"x","diag")};return ok.runKernel(eb,t)}});var GE=vk({dilation2d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=fk(e,"x","dilation2d"),s=fk(t,"filter","dilation2d");Og(3===i.rank||4===i.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(i.rank,".")})),Og(3===s.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,".")})),Og("NHWC"===o,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)}));var u=i,c=!1;3===i.rank&&(u=uE(i,[1,i.shape[0],i.shape[1],i.shape[2]]),c=!0);var l={x:u,filter:s},d={strides:n,pad:r,dilations:a},p=ok.runKernel(tb,l,d);return c?uE(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var HE=vk({floorDiv_:function(e,t){var n=fk(e,"a","floorDiv"),r=fk(t,"b","floorDiv"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel(db,i)}});var QE=vk({div_:function(e,t){var n=fk(e,"a","div"),r=fk(t,"b","div"),a=Kw(n,r),o=(0,E.Z)(a,2);if(n=o[0],r=o[1],"int32"===n.dtype&&"int32"===r.dtype)return HE(n,r);var i={a:n,b:r};return ok.runKernel(nb,i,{})}});var KE=vk({equal_:function(e,t){var n=fk(e,"a","equal","string_or_numeric"),r=fk(t,"b","equal","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(ab,i)}});var XE=vk({where_:function(e,t,n){var r=fk(t,"a","where"),a=fk(n,"b","where"),o=fk(e,"condition","where","bool"),i=SS(SS(o.shape,r.shape),a.shape),s={condition:CE(o,i),t:CE(r,i),e:CE(a,i)};return ok.runKernel(fx,s)}});var YE=vk({zerosLike_:function(e){var t={x:fk(e,"x","zerosLike")};return ok.runKernel(Wx,t)}});var $E=vk({divNoNan_:function(e,t){var n=fk(e,"a","div"),r=fk(t,"b","div"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1];var i=QE(n,r),s=YE(i),u=KE(r,s);return XE(u,s,i)}});var JE=vk({dot_:function(e,t){var n=fk(e,"t1","dot"),r=fk(t,"t2","dot");Og((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(Og(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,".")})),1===n.rank&&1===r.rank){var i=uE(n,[1,-1]),s=uE(r,[-1,1]),u=pE(i,s);return uE(u,[])}if(1===n.rank&&2===r.rank){var c=uE(n,[1,-1]),l=uE(r,[r.shape[0],r.shape[1]]),d=pE(c,l);return uE(d,[d.size])}if(2===n.rank&&1===r.rank){var p=uE(r,[-1,1]),f=pE(n,p);return uE(f,[f.size])}var h=uE(r,[r.shape[0],r.shape[1]]);return pE(n,h)}});var eC=vk({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return fk(e,"tensors".concat(t),"einsum")})),o={equation:e};return ok.runKernel(rb,a,o)}});var tC=vk({elu_:function(e){var t={x:fk(e,"x","elu","float32")};return ok.runKernel("Elu",t)}});var nC=vk({erf_:function(e){var t=fk(e,"x","erf");Og("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=sS(t,"float32"));var n={x:t};return ok.runKernel("Erf",n)}});var rC=vk({exp_:function(e){var t={x:fk(e,"x","exp")};return ok.runKernel(ob,t)}});var aC=vk({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","expandDims","string_or_numeric");Og(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r={input:n},a={dim:t};return ok.runKernel(ib,r,a)}});var oC=vk({expm1_:function(e){var t={x:fk(e,"x","expm1")};return ok.runKernel(sb,t)}});var iC=vk({tile_:function(e,t){var n=fk(e,"x","tile","string_or_numeric");Og(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var r={x:n},a={reps:t};return ok.runKernel(Lx,r,a)}});var sC=vk({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=iS([e,t],r),o=e<=t?e:t,i=0;i<o;++i)a.set(1,i,i);var s=uE(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return iC(aC(s,0),[n[0],1,1]);if(2===n.length)return iC(aC(aC(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return iC(aC(aC(aC(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});function uC(e,t,n){var r={shape:e,value:t,dtype:n};return ok.runKernel(ub,{},r)}var cC=vk({floor_:function(e){var t={x:fk(e,"x","floor","float32")};return ok.runKernel(lb,t)}});var lC=vk({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=fk(e,"x","gather"),o=fk(t,"indices","gather","int32"),i={x:a,indices:o},s={axis:n,batchDims:r};return ok.runKernel(fb,i,s)}});var dC=vk({greater_:function(e,t){var n=fk(e,"a","greater","string_or_numeric"),r=fk(t,"b","greater","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(mb,i)}});var pC=vk({greaterEqual_:function(e,t){var n=fk(e,"a","greaterEqual","string_or_numeric"),r=fk(t,"b","greaterEqual","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(vb,i)}});var fC=vk({imag_:function(e){var t={input:fk(e,"input","imag")};return ok.runKernel(bb,t)}});var hC=vk({isFinite_:function(e){var t={x:fk(e,"x","isFinite")};return ok.runKernel(xb,t)}});var mC=vk({isInf_:function(e){var t={x:fk(e,"x","isInf")};return ok.runKernel(wb,t)}});var vC=vk({isNaN_:function(e){var t={x:fk(e,"x","isNaN")};return ok.runKernel(kb,t)}});var gC=vk({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=fk(e,"x","leakyRelu"),r={x:n},a={alpha:t};return ok.runKernel(Sb,r,a)}});var yC=vk({less_:function(e,t){var n=fk(e,"a","less","string_or_numeric"),r=fk(t,"b","less","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(Eb,i)}});var bC=vk({lessEqual_:function(e,t){var n=fk(e,"a","lessEqual","string_or_numeric"),r=fk(t,"b","lessEqual","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(Cb,i)}});function xC(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return ok.runKernel(Tb,{},r)}var wC=vk({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=fk(e,"x","localResponseNormalization");Og(4===o.rank||3===o.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,".")})),Og(Fg(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var i=o,s=!1;3===o.rank&&(s=!0,i=uE(o,[1,o.shape[0],o.shape[1],o.shape[2]]));var u={x:i},c={depthRadius:t,bias:n,alpha:r,beta:a},l=ok.runKernel(Ab,u,c);return s?uE(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var kC=vk({log_:function(e){var t={x:fk(e,"x","log","float32")};return ok.runKernel(Nb,t)}});var SC=vk({log1p_:function(e){var t={x:fk(e,"x","log1p")};return ok.runKernel(_b,t)}});function EC(e){return ok.customGrad(e)}var CC=vk({neg_:function(e){var t={x:fk(e,"x","neg")};return ok.runKernel(Wb,t)}});var TC=vk({softplus_:function(e){var t={x:fk(e,"x","softplus")};return ok.runKernel(bx,t)}});var NC=vk({logSigmoid_:function(e){var t=fk(e,"x","logSigmoid"),n=EC((function(e){return{value:CC(TC(CC(e))),gradFunc:function(t){return fE(t,hE(CC(e)))}}}));return n(t)}});var _C=vk({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","max"),a={x:r},o={reductionIndices:t,keepDims:n};return ok.runKernel(Mb,a,o)}});var IC=vk({sub_:function(e,t){var n=fk(e,"a","sub"),r=fk(t,"b","sub"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel(Px,i)}});var OC=vk({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","sum");"bool"===r.dtype&&(r=sS(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return ok.runKernel(wx,a,o)}});var RC=vk({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=fk(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var r=EC((function(e,n){var r=_C(e,t,!0),a=IC(e,r),o=IC(sS(a,"float32"),kC(OC(rC(a),t,!0)));n([o]);return{value:o,gradFunc:function(e,n){var r=(0,E.Z)(n,1)[0],a=rC(r);return IC(e,fE(OC(e,t,!0),a))}}}));return r(n)}});function AC(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function MC(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var o=t.map((function(t){return e[t]}));return[n,o]}function DC(e,t){return function(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}(e,t.map((function(e){return 1})),t)}function PC(e,t,n){Og(AC(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function FC(e,t){if(AC(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function LC(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function ZC(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}var jC=vk({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","logSumExp"),a=Bg(t,r.shape),o=_C(r,a,!0),i=IC(r,o),s=rC(i),u=OC(s,a),c=kC(u),l=FS(uE(o,c.shape),c);if(n){var d=DC(l.shape,a);return uE(l,d)}return l}});var BC=vk({logicalAnd_:function(e,t){var n=fk(e,"a","logicalAnd","bool"),r=fk(t,"b","logicalAnd","bool");SS(n.shape,r.shape);var a={a:n,b:r};return ok.runKernel(Ib,a)}});var VC=vk({logicalNot_:function(e){var t={x:fk(e,"x","logicalNot","bool")};return ok.runKernel(Ob,t)}});var zC=vk({logicalOr_:function(e,t){var n=fk(e,"a","logicalOr","bool"),r=fk(t,"b","logicalOr","bool");SS(n.shape,r.shape);var a={a:n,b:r};return ok.runKernel(Rb,a)}});var UC=vk({logicalXor_:function(e,t){var n=fk(e,"a","logicalXor","bool"),r=fk(t,"b","logicalXor","bool");return SS(n.shape,r.shape),BC(zC(e,t),VC(BC(e,t)))}});var WC=vk({maxPool_:function(e,t,n,r,a){var o=fk(e,"x","maxPool"),i=o,s=!1;3===o.rank&&(s=!0,i=uE(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Og(4===i.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.rank,".")})),Og(oE(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),sE("maxPool",r,a);var u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a},l=ok.runKernel(Pb,u,c);return s?uE(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});var qC=vk({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=fk(e,"x","maxPool3d"),s=i,u=!1;4===i.rank&&(u=!0,s=uE(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),Og(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),Og("NDHWC"===o,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o)})),sE("maxPool3d",r,a);var c={x:s},l={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=ok.runKernel(Fb,c,l);return u?uE(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var GC=vk({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=fk(e,"x","maxPoolWithArgmax"),i={x:o},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},u=ok.runKernel(Lb,i,s);return{result:u[0],indexes:u[1]}}});var HC=vk({maximum_:function(e,t){var n=fk(e,"a","maximum"),r=fk(t,"b","maximum"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],"bool"===n.dtype&&(n=sS(n,"int32"),r=sS(r,"int32")),SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(Db,i)}});var QC=vk({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","mean"),a={x:r},o={axis:t,keepDims:n};return ok.runKernel(Zb,a,o)}});function KC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=KC(e,"float32"),r=KC(e,"float32");return gk(n,r)}var a=ty(Dg(e),t);return ok.makeTensor(a,e,t)}function XC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=XC(e,"float32"),r=KC(e,"float32");return gk(n,r)}var a=ey(Dg(e),t);return ok.makeTensor(a,e,t)}function YC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,a=void 0===r?"xy":r;if("xy"!==a&&"ij"!==a)throw new TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var o=fk(e,"x","meshgrid",e instanceof jw?e.dtype:"float32");if(void 0===t)return[o];var i=fk(t,"y","meshgrid",t instanceof jw?t.dtype:"float32"),s=Dg(o.shape),u=Dg(i.shape);return"xy"===a?(o=uE(o,[1,-1]),i=uE(i,[-1,1]),[pE(XC([u,1],o.dtype),o),pE(i,XC([1,s],i.dtype))]):(o=uE(o,[-1,1]),i=uE(i,[1,-1]),[pE(o,XC([1,u],o.dtype)),pE(XC([s,1],i.dtype),i)])}var $C=vk({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","min"),a={x:r},o={axis:t,keepDims:n};return ok.runKernel(jb,a,o)}});var JC=vk({minimum_:function(e,t){var n=fk(e,"a","minimum"),r=fk(t,"b","minimum"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],"bool"===n.dtype&&(n=sS(n,"int32"),r=sS(r,"int32")),SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(Bb,i)}});var eT=vk({mirrorPad_:function(e,t,n){Og("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var r=fk(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Og(t.length===r.rank,(function(){return"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")}));for(var a="reflect"===n?1:0,o=function(e){Og(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Og(t[e][0]>=0&&t[e][0]<=r.shape[e]-a&&t[e][1]>=0&&t[e][1]<=r.shape[e]-a,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(r.shape[e]-a," or less than 0 for input of ")+"shape ".concat(r.shape)}))},i=0;i<r.rank;i++)o(i);var s={paddings:t,mode:n},u={x:r};return ok.runKernel(Vb,u,s)}});var tT=vk({mod_:function(e,t){var n=fk(e,"a","mod"),r=fk(t,"b","mod"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel("Mod",i)}});var nT=vk({square_:function(e){var t=fk(e,"x","square");return ok.runKernel("Square",{x:t},{})}});var rT=vk({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Bg(t,(e=fk(e,"x","moments")).shape),a=QC(e,r,n),o=a.shape;n||(o=DC(a.shape,r));var i=nT(IC(sS(e,"float32"),uE(a,o))),s=QC(i,r,n);return{mean:a,variance:s}}});var aT=vk({multiRNNCell_:function(e,t,n,r){for(var a=fk(t,"data","multiRNNCell"),o=hk(n,"c","multiRNNCell"),i=hk(r,"h","multiRNNCell"),s=a,u=[],c=0;c<e.length;c++){var l=e[c](s,o[c],i[c]);u.push(l[0]),u.push(l[1]),s=l[1]}for(var d=[],p=[],f=0;f<u.length;f+=2)d.push(u[f]),p.push(u[f+1]);return[d,p]}});var oT=vk({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));n=n||Math.random();var s=1===i?uE(a,[1,-1]):a,u={logits:s},c={numSamples:t,seed:n,normalized:r},l=ok.runKernel(zb,u,c);return 1===i?uE(l,[l.size]):l}});var iT=vk({notEqual_:function(e,t){var n=fk(e,"a","notEqual","string_or_numeric"),r=fk(t,"b","notEqual","string_or_numeric"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(qb,i)}});var sT=vk({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var a=fk(e,"indices","oneHot","int32"),o={indices:a},i={depth:t,onValue:n,offValue:r};return ok.runKernel(Xb,o,i)}});var uT=vk({onesLike_:function(e){var t={x:fk(e,"x","onesLike")};return ok.runKernel(Kb,t)}});var cT=vk({outerProduct_:function(e,t){var n=fk(e,"v1","outerProduct"),r=fk(t,"v2","outerProduct");Og(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=uE(n,[-1,1]),o=uE(r,[1,-1]);return pE(a,o)}});var lT=vk({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=fk(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:n},o={x:r};return ok.runKernel($b,o,a)}});var dT=vk({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Og(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),lT(e,[t],n)}});var pT=vk({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Og(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),lT(e,t,n)}});var fT=vk({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Og(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),lT(e,t,n)}});var hT=vk({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Og(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),lT(e,t,n)}});var mT=vk({spaceToBatchND_:function(e,t,n){var r=fk(e,"x","spaceToBatchND");Og(r.rank>=1+t.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length)})),Og(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),Og(r.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var a={x:r},o={blockShape:t,paddings:n};return ok.runKernel(kx,a,o)}});var vT=vk({pool_:function(e,t,n,r,a,o,i){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");var s=fk(e,"x","maxPool"),u=s,c=!1;3===s.rank&&(c=!0,u=uE(s,[1,s.shape[0],s.shape[1],s.shape[2]])),Og(oE(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'")}));var l,d=HS(u.shape,t,o,a,r),p=[d.dilationHeight,d.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([d.filterHeight,d.filterWidth],p):[[0,0],[0,0]];var f=1===p[0]&&1===p[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),s=a.map((function(e,t){return e+i[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,i[t]]}));return[u,c]}([d.inHeight,d.inWidth],p,l),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=f?r:"valid",b=f?u:mT(u,p,v),x=("avg"===n?function(){return cE(b,t,o,y,i)}:function(){return WC(b,t,o,y,i)})(),w=f?x:yE(x,p,g);return c?uE(w,[w.shape[1],w.shape[2],w.shape[3]]):w}});var gT=vk({pow_:function(e,t){var n=fk(e,"base","pow"),r=fk(t,"exp","pow"),a=Kw(n,r),o=(0,E.Z)(a,2),i={a:n=o[0],b:r=o[1]};return ok.runKernel("Pow",i)}});var yT=vk({prelu_:function(e,t){var n={x:fk(e,"x","prelu"),alpha:fk(t,"alpha","prelu")};return ok.runKernel(Jb,n)}});var bT=vk({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fk(e,"x","prod");"bool"===r.dtype&&(r=sS(r,"int32"));var a={x:r},o={axis:t,keepDims:n};return ok.runKernel(ex,a,o)}});var xT=vk({rand_:function(e,t,n){var r=Dg(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return ok.makeTensor(a,e,n)}}),wT=n(6699),kT=function(){function e(t,n,r,a,o){(0,ei.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=wT.alea(i.toString())}return(0,ti.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),ST=function(){function e(t,n,r,a){(0,ei.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var o=a||Math.random();this.randu=wT.alea(o.toString()),this.randn=new kT(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,ti.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),ET=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if((0,ei.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==o&&(o=Math.random()),"number"===typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=wT.alea(o)}return(0,ti.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var CT=vk({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var o=new ST(t,n,r,a),i=iS(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var TT=vk({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var o=new kT(t,n,r,!1,a),i=iS(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var NT=vk({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0,o=iS(e,r),i=new ET(t,n,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});function _T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return ok.runKernel(tx,{},a)}var IT=vk({real_:function(e){var t={input:fk(e,"input","real")};return ok.runKernel(nx,t)}});var OT=vk({reciprocal_:function(e){var t={x:fk(e,"x","reciprocal")};return ok.runKernel(rx,t)}});var RT=vk({relu_:function(e){var t={x:fk(e,"x","relu")};return ok.runKernel(ax,t)}});var AT=vk({relu6_:function(e){var t={x:fk(e,"x","relu6")};return ok.runKernel(ux,t)}});var MT=vk({reverse_:function(e,t){var n={x:fk(e,"x","reverse")},r={dims:t};return ok.runKernel(cx,n,r)}});var DT=vk({reverse1d_:function(e){var t=fk(e,"x","reverse");return Og(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),MT(t,0)}});var PT=vk({reverse2d_:function(e,t){var n=fk(e,"x","reverse");return Og(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),MT(n,t)}});var FT=vk({reverse3d_:function(e,t){var n=fk(e,"x","reverse");return Og(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),MT(n,t)}});var LT=vk({reverse4d_:function(e,t){var n=fk(e,"x","reverse");return Og(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),MT(n,t)}});var ZT=vk({round_:function(e){var t={x:fk(e,"x","round")};return ok.runKernel(lx,t)}});var jT=vk({rsqrt_:function(e){var t={x:fk(e,"x","rsqrt","float32")};return ok.runKernel(dx,t)}});function BT(e,t){if((qg(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&qg(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return yk(e,[],[],t)}var VT=vk({selu_:function(e){var t={x:fk(e,"x","selu")};return ok.runKernel(hx,t)}});var zT=vk({separableConv2d_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=fk(e,"x","separableConv2d"),u=fk(t,"depthwiseFilter","separableConv2d"),c=fk(n,"pointwiseFilter","separableConv2d"),l=s,d=!1;if(3===s.rank&&(d=!0,l=uE(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Og(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),Og(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),Og(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),Og(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")})),Og(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")}));var p=u.shape[2],f=u.shape[3];Og(c.shape[2]===p*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*f,", ")+"but got ".concat(c.shape[2],".")}));var h=WE(l,u,r,a,i,o),m=1,v=AE(h,c,m,"valid",i);return d?uE(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});function UT(){return UT=uc(lc().mark((function e(t,n){var r,a,o,i,s,u,c,l,d,p,f;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t,"x","setdiff1d"),a=fk(n,"y","setdiff1d"),Og(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),Og(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),Og(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return o=e.sent,e.next=10,a.data();case 10:for(i=e.sent,s=new Set(i),u=0,c=0;c<o.length;c++)s.has(o[c])||u++;for(l=new Fw([u],r.dtype),d=new Fw([u],"int32"),p=0,f=0;p<o.length;p++)s.has(o[p])||(l.values[f]=o[p],d.values[f]=p,f++);return e.abrupt("return",[l.toTensor(),d.toTensor()]);case 18:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}var WT=function(e,t){return UT.apply(this,arguments)};var qT=vk({sign_:function(e){var t={x:fk(e,"x","sign")};return ok.runKernel(gx,t)}});var GT=vk({sin_:function(e){var t={x:fk(e,"x","sin","float32")};return ok.runKernel("Sin",t)}});var HT=vk({sinh_:function(e){var t={x:fk(e,"x","sinh")};return ok.runKernel(vx,t)}});var QT=vk({slice1d_:function(e,t,n){var r=fk(e,"x","slice1d");return Og(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),mE(r,[t],[n])}});var KT=vk({slice2d_:function(e,t,n){var r=fk(e,"x","slice2d");return Og(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),mE(r,t,n)}});var XT=vk({slice3d_:function(e,t,n){var r=fk(e,"x","slice3d");return Og(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),mE(r,t,n)}});var YT=vk({slice4d_:function(e,t,n){var r=fk(e,"x","slice4d");return Og(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),mE(r,t,n)}});var $T=vk({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=fk(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var r={logits:n},a={dim:t};return ok.runKernel(Ex,r,a)}});var JT=vk({fft_:function(e){Og("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return ok.runKernel("FFT",t)}});var eN=vk({ifft_:function(e){Og("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return ok.runKernel(yb,t)}});var tN=vk({irfft_:function(e){var t,n=e.shape[e.shape.length-1],r=e.size/n;if(n<=2){var a=uE(e,[r,n]);t=eN(a)}else{var o=[r,2*(n-1)],i=uE(IT(e),[r,n]),s=uE(fC(e),[r,n]),u=MT(mE(i,[0,1],[r,n-2]),1),c=fE(MT(mE(s,[0,1],[r,n-2]),1),BT(-1)),l=dE([i,u],1),d=dE([s,c],1),p=uE(gk(l,d),[o[0],o[1]]);t=eN(p)}if(t=IT(t),3===e.rank&&0!==e.shape[0]){var f=t,h=e.shape[0];t=uE(t,[h,t.shape[0]/h,t.shape[1]]),f.dispose()}return t}});var nN=vk({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=fk(e,"x","split"),a={x:r},o={numOrSizeSplits:t,axis:n};return ok.runKernel(Sx,a,o)}});var rN=vk({rfft_:function(e,t){Og("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,r=e.shape[e.shape.length-1],a=e.size/r;if(null!=t&&t<r){var o=e.shape.map((function(e){return 0})),i=e.shape.map((function(e){return e}));i[e.shape.length-1]=t,n=mE(e,o,i),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=dE([e,KC(s)],e.shape.length-1),r=t}else n=e;var u=YE(n),c=uE(gk(n,u),[a,r]),l=JT(c),d=Math.floor(r/2)+1,p=IT(l),f=fC(l),h=nN(p,[d,r-d],p.shape.length-1),m=nN(f,[d,r-d],f.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=d,uE(gk(h[0],m[0]),v)}});var aN=vk({sqrt_:function(e){var t={x:fk(e,"x","sqrt","float32")};return ok.runKernel(xx,t)}});var oN=vk({squaredDifference_:function(e,t){var n=fk(e,"a","squaredDifference"),r=fk(t,"b","squaredDifference"),a=Kw(n,r),o=(0,E.Z)(a,2);n=o[0],r=o[1],SS(n.shape,r.shape);var i={a:n,b:r};return ok.runKernel(Ox,i,{})}});var iN=vk({squeeze_:function(e,t){var n=fk(e,"x","squeeze");return uE(n,Vg(n.shape,t).newShape)}});var sN=vk({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=hk(e,"tensors","stack","string_or_numeric");Og(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&Og(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n,a={axis:t};return ok.runKernel(Yb,r,a)}});var uN=vk({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","step"),r={x:n},a={alpha:t};return ok.runKernel(qx,r,a)}});var cN=vk({stridedSlice_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=fk(e,"x","stridedSlice","string_or_numeric"),l={x:c},d={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:u};return ok.runKernel(Rx,l,d)}});var lN=vk({tan_:function(e){var t={x:fk(e,"x","tan","float32")};return ok.runKernel("Tan",t)}});function dN(e,t){Ag(e);var n=lk(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return yk(e,null,n,t)}function pN(e,t,n){if(Ag(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=lk(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return yk(e,t,r,n)}function fN(e,t,n){if(Ag(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=lk(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return yk(e,t,r,n)}function hN(e,t,n){if(Ag(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=lk(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return yk(e,t,r,n)}function mN(e,t,n){if(Ag(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=lk(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return yk(e,t=t||r,r,n)}var vN=vk({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=fk(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));var o={x:r},i={k:t,sorted:n},s=ok.runKernel(Zx,o,i),u=(0,E.Z)(s,2),c=u[0],l=u[1];return{values:c,indices:l}}});var gN=vk({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var o=new kT(t,n,r,!0,a),i=iS(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var yN=vk({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","unique","string_or_numeric");Og(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var r={x:n},a={axis:t},o=ok.runKernel(Vx,r,a),i=(0,E.Z)(o,2),s=i[0],u=i[1];return{values:s,indices:u}}});var bN=vk({unsortedSegmentSum_:function(e,t,n){var r=fk(e,"x","unsortedSegmentSum"),a=fk(t,"segmentIds","unsortedSegmentSum","int32");Og(Fg(n),(function(){return"numSegments must be of dtype int"}));var o={x:r,segmentIds:a},i={numSegments:n};return ok.runKernel(Ux,o,i)}});var xN=vk({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=fk(e,"x","unstack","string_or_numeric");Og(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var r={value:n},a={axis:t};return ok.runKernel(zx,r,a)}});function wN(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return ok.makeVariable(e,t,n,r)}function kN(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);for(var a=iS(e,"int32"),o=iS([n.length,e.length],"int32"),i=0;i<n.length;i++){var s=a.indexToLoc(n[i]),u=i*e.length;o.values.set(s,u)}return o.toTensor()}function SN(){return(SN=uc(lc().mark((function e(t){var n,r,a;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fk(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=kN(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EN=function(e){return SN.apply(this,arguments)};function CN(){return CN=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h,m,v;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=fk(t,"tensor","boolMask"),o=fk(n,"mask","boolMask","bool"),i=null==r?0:r,s=o.rank,u=a.shape,Og(s>0,(function(){return"mask cannot be scalar"})),Rg(u.slice(i,i+s),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=i;l<i+s;l++)c*=u[l];return d=u.slice(0,i).concat([c],u.slice(i+s)),p=uE(a,d),f=uE(o,[-1]),e.next=14,EN(f);case 14:return h=e.sent,m=iN(h,[1]),v=lC(p,m,i),t!==a&&a.dispose(),n!==o&&o.dispose(),m.dispose(),p.dispose(),f.dispose(),h.dispose(),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}var TN=function(e,t,n){return CN.apply(this,arguments)};var NN=vk({transpose_:function(e,t){var n=fk(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),Og(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){Og(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var r={x:n},a={perm:t};return ok.runKernel(Bx,r,a)}});function _N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return MS(e);if(1!==e.rank&&null===n)return _N(uE(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return OC(MS(e),n);if(t===1/0)return _C(MS(e),n);if(t===-1/0)return $C(MS(e),n);if("euclidean"===t||2===t)return aN(OC(gT(MS(e),BT(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return _C(OC(MS(e),n[0]),n[1]-1);if(t===1/0)return _C(OC(MS(e),n[1]),n[0]);if(t===-1/0)return $C(OC(MS(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return aN(OC(nT(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var IN=vk({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=_N(e=fk(e,"x","norm"),t,n),o=a.shape;if(r){var i=Bg(n,e.shape);o=DC(a.shape,i)}return uE(a,o)}});var ON=vk({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=fk(e,"v","movingAverage"),i=fk(t,"x","movingAverage"),s=fk(n,"decay","movingAverage");Xw(o,i),Og(Pg(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=BT(1),c=IC(u,s),l=fE(IC(i,o),c);if(a){Og(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=fk(r,"step","movingAverage");l=QE(l,IC(u,gT(s,d)))}return FS(o,l)}});function RN(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}(n,t,e)}function AN(e,t,n){for(var r=t.shape.length,a=r>1?t.shape[r-1]:1,o=n.length,i=1,s=a;s<o;++s)i*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:Dg(t.shape)/u,sliceSize:i,strides:[].concat((0,De.Z)(Yg(n.slice(0,a))),[1]),outputSize:Dg(n)}}var MN=vk({scatterND_:function(e,t,n){var r=fk(e,"indices","scatterND","int32"),a=fk(t,"updates","scatterND");RN(a,r,n);var o={indices:r,updates:a},i={shape:n};return ok.runKernel(px,o,i)}});function DN(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var PN=vk({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=fk(e,"sparseIndices","sparseToDense","int32"),o=fk(t,"sparseValues","sparseToDense"),i=fk(r,"defaultValue","sparseToDense",o.dtype);DN(a,o,n,i);var s={sparseIndices:a,sparseValues:o,defaultValue:i},u={outputShape:n};return ok.runKernel(Ix,s,u)}});var FN=vk({gatherND_:function(e,t){var n=fk(t,"indices","gatherND","int32"),r={params:fk(e,"x","gatherND","string_or_numeric"),indices:n};return ok.runKernel(hb,r)}});var LN=vk({dropout_:function(e,t,n,r){var a=fk(e,"x","dropout");if(Og("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),Og(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof jw?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(Pg(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),i=1-t,s=QE(cC(FS(NT(o,0,1,"float32",r),i)),i);return fE(a,s)}});function ZN(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function jN(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return dN(a,"float32")}function BN(){return BN=uc(lc().mark((function e(t,n){var r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,a=fk(t,"predictions","inTopK"),o=fk(n,"targets","inTopK"),Og(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Og(a.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(o.rank)})),Rg(a.shape.slice(0,a.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=a.shape[a.shape.length-1],Og(r>0&&r<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(r)})),e.next=10,a.data();case 10:return s=e.sent,e.next=13,o.data();case 13:u=e.sent,c=s.length/i,l=i,d=zg("bool",c),p=0;case 17:if(!(p<c)){e.next=35;break}for(f=p*l,h=s.subarray(f,f+l),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});m.sort((function(e,t){return t.value-e.value})),d[p]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(m[g].index!==u[p]){e.next=29;break}return d[p]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:p++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==o&&o.dispose(),e.abrupt("return",bk(d,o.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),BN.apply(this,arguments)}var VN=function(e,t){return BN.apply(this,arguments)};var zN=vk({conv2DBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=uE(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=uE(t,[1,t.shape[0],t.shape[1],t.shape[2]])),Og(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,".")})),Og(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(u.shape,".")})),Og(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var c="NHWC"===o?s.shape[3]:s.shape[1],l="NHWC"===o?u.shape[3]:u.shape[1];Og(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],".")})),Og(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(l,") must ")+"match output depth for filter (".concat(n[3],").")})),sE("conv2dDerFilter",a,i);var d={x:s,dy:u},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:i,filterShape:n};return ok.runKernel(zy,d,p)}});function UN(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return fE(e,uN(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function WN(e,t){var n=t,r=function(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=OC(n,r)),uE(n,e.shape)}function qN(e,t,n,r){if("linear"===t)return e;if("relu"===t)return RT(e);if("elu"===t)return tC(e);if("relu6"===t)return AT(e);if("prelu"===t)return yT(e,n);if("leakyrelu"===t)return gC(e,r);if("sigmoid"===t)return hE(e);throw new Error("Unknown fused activation ".concat(t,"."))}var GN=function(e,t){return!(e>0)||"linear"===t};var HN=vk({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights,h=e.leakyreluAlpha;if(p=p||"linear",!1===GN(ok.state.gradientDepth,p)){var m=AE(t,n,r,a,i,u,c);return null!=l&&(m=FS(m,l)),qN(m,p,f,h)}var v=fk(t,"x","conv2d","float32"),g=fk(n,"filter","conv2d","float32"),y=v,b=!1;3===v.rank&&(b=!0,y=uE(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Og(4===y.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(y.rank,".")})),Og(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(g.rank,".")})),sE("fused conv2d",a,c),Og(y.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input (".concat(y.shape[3],") must match ")+"input depth for filter ".concat(g.shape[2],".")})),Og(oE(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(u,"'")})),Og("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of ".concat(i," but only NHWC is currently supported.")}));var x,w,k=KS(y.shape,g.shape,r,u,a,c);if(null!=l){var S=Kw(x=fk(l,"bias","fused conv2d"),v);x=(0,E.Z)(S,1)[0],SS(k.outShape,x.shape)}null!=f&&(w=fk(f,"prelu weights","fused conv2d"));var C=function(e,t){var n=(0,E.Z)(t,4),o=n[0],i=n[1],s=n[2],c=n[3],l=UN(e,s,p);Og(aE(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(u,"'")}));var d=[DE(i.shape,l,o,r,a),zN(i,l,o.shape,r,a)];if(null!=c){var f=WN(c,l);d.push(f)}return d},T={x:y,filter:g,bias:x,preluActivationWeights:w},N={strides:r,pad:a,dataFormat:i,dilations:u,dimRoundingMode:c,activation:p,leakyreluAlpha:h};if(null==l){var _=EC((function(e,t,n){var r=ok.runKernel(Kx,T,N);return n([t,e,r]),b&&(r=uE(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:C}}));return _(y,g)}var I=EC((function(e,t,n,r){var a=ok.runKernel(Kx,T,N);return r([t,e,a,n]),b&&(a=uE(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:C}}));return I(y,g,x)}});var QN=vk({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=uE(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var u=t;3===u.rank&&(u=uE(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var c={x:s,dy:u},l={strides:r,pad:a,dimRoundingMode:i,dilations:o,filterShape:n};return ok.runKernel($y,c,l)}});var KN=vk({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=t,u=!1;3===t.rank&&(u=!0,s=uE(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var c={dy:s,filter:n},l={strides:r,pad:a,dimRoundingMode:i,dilations:o,inputShape:e},d=ok.runKernel(Jy,c,l);return u?uE(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var XN=vk({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,o=e.dataFormat,i=void 0===o?"NHWC":o,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights,h=e.leakyreluAlpha;if(!1===GN(ok.state.gradientDepth,p)){var m=WE(t,n,r,a,i,u,c);return null!=l&&(m=FS(m,l)),qN(m,p,f,h)}var v=fk(t,"x","depthwiseConv2d","float32"),g=fk(n,"filter","depthwiseConv2d","float32"),y=v,b=!1;3===v.rank&&(b=!0,y=uE(v,[1,v.shape[0],v.shape[1],v.shape[2]])),Og(4===y.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(y.rank,".")})),Og(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(g.rank,".")})),Og(y.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(y.shape[3],") must match the inChannels dimension in ")+"filter ".concat(g.shape[2],".")})),null==u&&(u=[1,1]),Og(oE(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(u,"'")})),sE("fused depthwiseConv2d",a,c);var x,w,k=KS(y.shape,g.shape,r,u,a,c,!0);if(null!=l){var S=Kw(x=fk(l,"bias","fused conv2d"),v),C=(0,E.Z)(S,1);x=C[0],SS(k.outShape,x.shape)}null!=f&&(w=fk(f,"prelu weights","fused depthwiseConv2d"));var T=function(e,t){Og(aE(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")}));var n=(0,E.Z)(t,4),o=n[0],i=n[1],s=n[2],l=n[3],d=UN(e,s,p),f=KN(i.shape,d,o,r,a,u,c),h=QN(i,d,o.shape,r,a,u,c);return null!=l?[f,h,WN(x,d)]:[f,h]},N={x:y,filter:g,bias:x,preluActivationWeights:w},_={strides:r,pad:a,dataFormat:i,dilations:u,dimRoundingMode:c,activation:p,leakyreluAlpha:h};if(null==l){var I=EC((function(e,t,n){var r=ok.runKernel(Xx,N,_);return n([t,e,r]),b&&(r=uE(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:T}}));return I(y,g)}var O=EC((function(e,t,n,r){var a=ok.runKernel(Xx,N,_);return r([t,e,a,n]),b&&(a=uE(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:T}}));return O(y,g,x)}});var YN=vk({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,o=e.transposeB,i=void 0!==o&&o,s=e.bias,u=e.activation,c=void 0===u?"linear":u,l=e.preluActivationWeights,d=e.leakyreluAlpha;if(!1===GN(ok.state.gradientDepth,c)){var p=pE(t,n,a,i);return null!=s&&(p=FS(p,s)),qN(p,c,l,d)}var f=fk(t,"a","fused matMul"),h=fk(n,"b","fused matMul"),m=Kw(f,h),v=(0,E.Z)(m,2);f=v[0],h=v[1];var g=a?f.shape[f.rank-2]:f.shape[f.rank-1],y=i?h.shape[h.rank-1]:h.shape[h.rank-2],b=a?f.shape[f.rank-1]:f.shape[f.rank-2],x=i?h.shape[h.rank-2]:h.shape[h.rank-1],w=f.shape.slice(0,-2),k=h.shape.slice(0,-2),S=Dg(w),C=Dg(k);Og(g===y,(function(){return"Error in fused matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(f.shape," and ")+"".concat(h.shape," and transposeA=").concat(a)+" and transposeB=".concat(i," must match.")}));var T,N,_=SS(f.shape.slice(0,-2),h.shape.slice(0,-2)).concat([b,x]),I=uE(f,a?[S,g,b]:[S,b,g]),O=uE(h,i?[C,x,y]:[C,y,x]);if(null!=s){var R=Kw(T=fk(s,"bias","fused matMul"),f);T=(0,E.Z)(R,1)[0],SS(_,T.shape)}null!=l&&(N=fk(l,"prelu weights","fused matMul"));var A=function(e,t){var n,r,o=(0,E.Z)(t,4),u=o[0],l=o[1],d=o[2],p=o[3],f=UN(uE(e,d.shape),d,c);return a||i?!a&&i?(n=pE(f,l,!1,!1),r=pE(f,u,!0,!1)):a&&!i?(n=pE(l,f,!1,!0),r=pE(u,f,!1,!1)):(n=pE(l,f,!0,!0),r=pE(f,u,!0,!0)):(n=pE(f,l,!1,!0),r=pE(u,f,!0,!1)),null!=s?[n,r,WN(p,f)]:[n,r]},M={a:I,b:O,bias:T,preluActivationWeights:N},D={transposeA:a,transposeB:i,activation:c,leakyreluAlpha:d};if(null==s){var P=EC((function(e,t,n){var r=ok.runKernel(Qx,M,D);return n([e,t,r]),{value:uE(r,_),gradFunc:A}}));return P(I,O)}var F=EC((function(e,t,n,r){var a=ok.runKernel(Qx,M,D);return r([e,t,a,n]),{value:uE(a,_),gradFunc:A}}));return F(I,O,T)}});var $N=vk({hammingWindow_:function(e){return jN(e,.54,.46)}});var JN=vk({hannWindow_:function(e){return jN(e,.5,.5)}});var e_=vk({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0,i=[];o+t<=e.size;)i.push(mE(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,u=dE([mE(e,o,t-s),uC([s],a)]);i.push(u),o+=n}return 0===i.length?pN([],[0,t]):uE(dE(i),[i.length,t])}});var t_=vk({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:JN;null==r&&(r=ZN(t));var o=e_(e,t,n),i=fE(o,a(t));return rN(i,r)}});var n_=vk({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=fk(e,"image","cropAndResize"),s=fk(t,"boxes","cropAndResize","float32"),u=fk(n,"boxInd","cropAndResize","int32"),c=s.shape[0];Og(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),Og(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,".")})),Og(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,".")})),Og(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),Og(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),Og("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var l={image:i,boxes:s,boxInd:u},d={method:a,extrapolationValue:o,cropSize:r},p=ok.runKernel(Qy,l,d);return p}});var r_=vk({flipLeftRight_:function(e){var t=fk(e,"image","flipLeftRight","float32");Og(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return ok.runKernel(cb,n,{})}});var a_=vk({grayscaleToRGB_:function(e){var t=fk(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];Og(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),Og(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,iC(t,a)}});var o_=vk({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=fk(e,"image","rotateWithOffset","float32");Og(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var o={image:a},i={radians:t,fillValue:n,center:r},s=ok.runKernel(Hx,o,i);return s}});function i_(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);var i=e.shape[0];return n=Math.min(n,i),Og(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),Og(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),Og(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),Og(1===t.rank,(function(){return"scores must be a 1D tensor"})),Og(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])})),Og(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(o,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var s_=vk({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=fk(e,"boxes","nonMaxSuppression","float32"),i=fk(t,"scores","nonMaxSuppression","float32"),s=i_(o,i,n,r,a),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return ok.runKernel(Gb,{boxes:o,scores:i},u)}});function u_(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,o=0,i=!1;for(;r<a;){var s=n(t,e[o=r+(a-r>>>1)]);s>0?r=o+1:(a=o,i=!s)}return i?r:-r-1}(e,t,n||c_)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function c_(e,t){return e>t?1:e<t?-1:0}function l_(e,t,n,r,a){return f_(e,t,n,r,a,0)}function d_(e,t,n,r,a,o){return f_(e,t,n,r,a,0,!1,o,!0)}function p_(e,t,n,r,a,o){return f_(e,t,n,r,a,o,!0)}function f_(e,t,n,r,a,o){for(var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=[],l=0;l<t.length;l++)t[l]>a&&c.push({score:t[l],boxIndex:l,suppressBeginIndex:0});c.sort(v_);for(var d=o>0?-.5/o:0,p=[],f=[];p.length<n&&c.length>0;){var h=c.pop(),m=h.score,v=h.boxIndex,g=h.suppressBeginIndex;if(m<a)break;for(var y=!1,b=p.length-1;b>=g;--b){var x=h_(e,v,p[b]);if(x>=r){y=!0;break}if(h.score=h.score*m_(r,d,x),h.score<=a)break}h.suppressBeginIndex=p.length,y||(h.score===m?(p.push(v),f.push(h.score)):h.score>a&&u_(c,h,v_))}var w=p.length,k=n-w;s&&k>0&&(p.push.apply(p,(0,De.Z)(new Array(k).fill(0))),f.push.apply(f,(0,De.Z)(new Array(k).fill(0))));var S={selectedIndices:p};return i&&(S.selectedScores=f),u&&(S.validOutputs=w),S}function h_(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),f=(s-o)*(u-i),h=(d-c)*(p-l);if(f<=0||h<=0)return 0;var m=Math.max(o,c),v=Math.max(i,l),g=Math.min(s,d),y=Math.min(u,p),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(f+h-b)}function m_(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function v_(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function g_(){return g_=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:.5,o=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,i=fk(t,"boxes","nonMaxSuppressionAsync"),s=fk(n,"scores","nonMaxSuppressionAsync"),u=i_(i,s,r,a,o),r=u.maxOutputSize,a=u.iouThreshold,o=u.scoreThreshold,e.next=10,Promise.all([i.data(),s.data()]);case 10:return c=e.sent,l=c[0],d=c[1],p=l_(l,d,r,a,o),f=p.selectedIndices,i!==t&&i.dispose(),s!==n&&s.dispose(),e.abrupt("return",dN(f,"int32"));case 17:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}var y_=function(e,t,n){return g_.apply(this,arguments)};var b_=vk({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=fk(e,"boxes","nonMaxSuppression"),s=fk(t,"scores","nonMaxSuppression"),u=i_(i,s,n,r,a,o),c={boxes:i,scores:s},l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},d=ok.runKernel(Qb,c,l);return{selectedIndices:d[0],selectedScores:d[1]}}});function x_(){return x_=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h,m,v=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.length>3&&void 0!==v[3]?v[3]:.5,o=v.length>4&&void 0!==v[4]?v[4]:Number.NEGATIVE_INFINITY,i=v.length>5&&void 0!==v[5]?v[5]:0,s=fk(t,"boxes","nonMaxSuppressionAsync"),u=fk(n,"scores","nonMaxSuppressionAsync"),c=i_(s,u,r,a,o,i),r=c.maxOutputSize,a=c.iouThreshold,o=c.scoreThreshold,i=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return l=e.sent,d=l[0],p=l[1],f=p_(d,p,r,a,o,i),h=f.selectedIndices,m=f.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:dN(h,"int32"),selectedScores:dN(m)});case 19:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}var w_=function(e,t,n){return x_.apply(this,arguments)};var k_=vk({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=fk(e,"boxes","nonMaxSuppression"),s=fk(t,"scores","nonMaxSuppression"),u=i_(i,s,n,r,a,null),c=u.maxOutputSize,l=u.iouThreshold,d=u.scoreThreshold,p={boxes:i,scores:s},f={maxOutputSize:c,iouThreshold:l,scoreThreshold:d,padToMaxOutputSize:o},h=ok.runKernel(Hb,p,f);return{selectedIndices:h[0],validOutputs:h[1]}}});function S_(){return S_=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>3&&void 0!==x[3]?x[3]:.5,o=x.length>4&&void 0!==x[4]?x[4]:Number.NEGATIVE_INFINITY,i=x.length>5&&void 0!==x[5]&&x[5],s=fk(t,"boxes","nonMaxSuppressionAsync"),u=fk(n,"scores","nonMaxSuppressionAsync"),c=i_(s,u,r,a,o,null),l=c.maxOutputSize,d=c.iouThreshold,p=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return f=e.sent,h=(0,E.Z)(f,2),m=h[0],v=h[1],g=d_(m,v,l,d,p,i),y=g.selectedIndices,b=g.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:dN(y,"int32"),validOutputs:BT(b,"int32")});case 19:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}var E_=function(e,t,n){return S_.apply(this,arguments)},C_=n(3878),T_=n(9199),N_=n(181),__=n(5267);function I_(e){return(0,C_.Z)(e)||(0,T_.Z)(e)||(0,N_.Z)(e)||(0,__.Z)()}var O_=vk({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"images","resizeBilinear");Og(3===a.rank||4===a.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),Og(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),Og(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=uE(a,[1,a.shape[0],a.shape[1],a.shape[2]])),I_(t);var s={images:o},u={alignCorners:n,halfPixelCenters:r,size:t},c=ok.runKernel(sx,s,u);return i?uE(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var R_=vk({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=fk(e,"images","resizeNearestNeighbor");Og(3===a.rank||4===a.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,".")})),Og(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),Og("float32"===a.dtype||"int32"===a.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),Og(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var o=a,i=!1;3===a.rank&&(i=!0,o=uE(a,[1,a.shape[0],a.shape[1],a.shape[2]])),I_(t);var s={images:o},u={alignCorners:n,halfPixelCenters:r,size:t},c=ok.runKernel(ix,s,u);return i?uE(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});function A_(e,t){for(var n,r,a,o,i,s,u=dN([-1]),c=dN([0]),l=dN([0]),d=0;d<e.size-1;d++){n=mE(e,0,d+1),r=mE(e,d+1),i=QE(OC(n),t),s=QE(OC(r),t);var p=OC(fE(n,_T(0,n.size)));a=QE(p,OC(n));var f=uC(r.shape,n.size),h=FS(_T(0,r.size),f),m=fE(r,h);o=QE(OC(m),OC(r));var v=IC(a,o),g=IC(a,o),y=fE(i,s);l=fE(fE(y,v),g);var b=dC(l,c);c=XE(b,l,c),u=XE(b,dN([d]),u)}return u}var M_=vk({threshold_:function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,u=fk(e,"image","threshold"),c=.2989,l=.587,d=.114,p=u.shape[0]*u.shape[1],f=fE(dN([s]),255);if(Og(3===u.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(u.rank,".")})),Og(3===u.shape[2]||1===u.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(u.shape[2],".")})),Og("int32"===u.dtype||"float32"===u.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(u.dtype,".")})),Og("otsu"===o||"binary"===o,(function(){return"Method must be binary or otsu, but was ".concat(o)})),3===u.shape[2]){var h=nN(u,[1,1,1],-1),m=(0,E.Z)(h,3);t=m[0],n=m[1],r=m[2];var v=fE(t,c),g=fE(n,l),y=fE(r,d);a=FS(FS(v,g),y)}else a=e;if("otsu"===o){var b=SE(sS(ZT(a),"int32"),bk([]),256);f=A_(b,p)}var x=i?bC(a,f):dC(a,f),w=sS(fE(x,255),"int32");return w}});var D_=vk({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,i=fk(e,"image","transform","float32"),s=fk(t,"transforms","transform","float32");Og(4===i.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),Og(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),Og(null==o||2===o.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")}));var u={image:i,transforms:s},c={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return ok.runKernel(jx,u,c)}});var P_=vk({bandPart_:function(e,t,n){Og(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),Og(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=fk(e,"a","bandPart");Og(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,o=r.shape.slice(-2),i=(0,E.Z)(o,2),s=i[0],u=i[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));t<0&&(t=s),n<0&&(n=u);var c=uE(_T(0,s,1,"int32"),[-1,1]),l=_T(0,u,1,"int32"),d=IC(c,l),p=BC(bC(d,BT(+t,"int32")),pC(d,BT(-n,"int32"))),f=KC([s,u],r.dtype);return uE(sN(xN(uE(r,[-1,s,u])).map((function(e){return XE(p,e,f)}))),a)}});var F_=vk({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,Og(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Og(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=nN(e,e.shape[0],0).map((function(e){return iN(e,[0])}))),Og(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(ok.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var o=fE(OC(fE(n[a],t)),n[a]);t=IC(t,o)}return QE(t,IN(t,"euclidean"))})))},o=0;o<e.length;++o)a(o);return t?sN(n,0):n}});function L_(){return ok}function Z_(e,t){return ok.tidy(e,t)}function j_(e){Yw(e).forEach((function(e){return e.dispose()}))}function B_(e){return ok.keep(e)}function V_(){return ok.backendName}function z_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ok.tidy((function(){Og(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=sC(n),o=uS(e),i=pN([[1]],[1,1]),s=uS(i),u=n>=r?r:n,c=function(e){var t=o,u=s,c=a,l=ok.tidy((function(){var t=mE(o,[e,e],[n-e,1]),u=IN(t),c=mE(o,[e,e],[1,1]),l=XE(dC(c,0),pN([[-1]]),pN([[1]])),d=IC(c,fE(l,u)),p=QE(t,d);s=1===p.shape[0]?uS(i):dE([i,mE(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var f=CC(QE(pE(l,d),u)),h=mE(o,[e,0],[n-e,r]),m=fE(f,s),v=NN(s);if(0===e)o=IC(h,pE(m,pE(v,h)));else{var g=IC(h,pE(m,pE(v,h)));o=dE([mE(o,[0,0],[e,r]),g],0)}var y=NN(m),b=mE(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=IC(b,pE(pE(b,s),y));else{var x=IC(b,pE(pE(b,s),y));a=dE([mE(a,[0,0],[n,e]),x],1)}return[s,o,a]})),d=(0,E.Z)(l,3);s=d[0],o=d[1],a=d[2],j_([t,u,c])},l=0;l<u;++l)c(l);return!t&&n>r&&(a=mE(a,[0,0],[n,r]),o=mE(o,[0,0],[r,r])),[a,o]}))}var U_,W_=vk({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Og(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return z_(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=xN(uE(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach((function(e){var n=z_(e,t),r=(0,E.Z)(n,2),i=r[0],s=r[1];a.push(i),o.push(s)}));var i=uE(sN(a,0),e.shape),s=uE(sN(o,0),e.shape);return[i,s]}});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(U_||(U_={}));var q_=vk({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U_.SUM_BY_NONZERO_WEIGHTS,r=fk(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=fk(t,"weights","computeWeightedLoss"));var o=null==a?r:fE(r,a);if(n===U_.NONE)return o;if(n===U_.SUM)return OC(o);if(n===U_.MEAN){if(null==a)return QC(o);var i=r.size/a.size,s=QE(OC(o),OC(a));return i>1?QE(s,BT(i)):s}if(n===U_.SUM_BY_NONZERO_WEIGHTS){if(null==a)return QE(OC(o),BT(r.size));var u=fE(a,XC(r.shape)),c=sS(OC(iT(u,BT(0))),"float32");return QE(OC(o),c)}throw Error("Unknown reduction: ".concat(n))}});var G_=vk({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U_.SUM_BY_NONZERO_WEIGHTS,a=fk(e,"labels","absoluteDifference"),o=fk(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=fk(n,"weights","absoluteDifference")),Rg(a.shape,o.shape,"Error in absoluteDifference: ");var s=MS(IC(a,o));return q_(s,i,r)}});var H_=vk({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U_.SUM_BY_NONZERO_WEIGHTS,o=fk(e,"labels","cosineDistance"),i=fk(t,"predictions","cosineDistance"),s=null;null!=r&&(s=fk(r,"weights","cosineDistance")),Rg(o.shape,i.shape,"Error in cosineDistance: ");var u=BT(1),c=IC(u,OC(fE(o,i),n,!0));return q_(c,s,a)}});var Q_=vk({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U_.SUM_BY_NONZERO_WEIGHTS,a=fk(e,"labels","hingeLoss"),o=fk(t,"predictions","hingeLoss"),i=null;null!=n&&(i=fk(n,"weights","hingeLoss")),Rg(a.shape,o.shape,"Error in hingeLoss: ");var s=BT(1);a=IC(fE(BT(2),a),s);var u=RT(IC(s,fE(a,o)));return q_(u,i,r)}});var K_=vk({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U_.SUM_BY_NONZERO_WEIGHTS,o=fk(e,"labels","huberLoss"),i=fk(t,"predictions","huberLoss"),s=null;null!=n&&(s=fk(n,"weights","huberLoss")),Rg(o.shape,i.shape,"Error in huberLoss: ");var u=BT(r),c=MS(IC(i,o)),l=JC(c,u),d=IC(c,l),p=FS(fE(BT(.5),nT(l)),fE(u,d));return q_(p,s,a)}});var X_=vk({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U_.SUM_BY_NONZERO_WEIGHTS,o=fk(e,"labels","logLoss"),i=fk(t,"predictions","logLoss"),s=null;null!=n&&(s=fk(n,"weights","logLoss")),Rg(o.shape,i.shape,"Error in logLoss: ");var u=BT(1),c=BT(r),l=CC(fE(o,kC(FS(i,c)))),d=fE(IC(u,o),kC(FS(IC(u,i),c))),p=IC(l,d);return q_(p,s,a)}});var Y_=vk({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U_.SUM_BY_NONZERO_WEIGHTS,a=fk(e,"labels","meanSquaredError"),o=fk(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=fk(n,"weights","meanSquaredError")),Rg(a.shape,o.shape,"Error in meanSquaredError: ");var s=oN(a,o);return q_(s,i,r)}});function $_(e,t){var n=fk(e,"labels","sigmoidCrossEntropyWithLogits"),r=fk(t,"logits","sigmoidCrossEntropyWithLogits");Rg(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=RT(r),o=fE(r,n),i=SC(rC(CC(MS(r))));return FS(IC(a,o),i)}var J_=vk({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U_.SUM_BY_NONZERO_WEIGHTS,o=fk(e,"multiClassLabels","sigmoidCrossEntropy"),i=fk(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=fk(n,"weights","sigmoidCrossEntropy")),Rg(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=BT(r),c=BT(1),l=BT(.5);o=FS(fE(o,IC(c,u)),fE(l,u))}var d=$_(o,i);return q_(d,s,a)}});function eI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=EC((function(e,t,r){var a=jC(t,[n],!0),o=IC(sS(t,"float32"),a);r([e,o]);var i=CC(fE(o,e));return{value:OC(i,[n]),gradFunc:function(e,t){var r=(0,E.Z)(t,2),a=r[0],o=r[1],i=DC(e.shape,[n]);return[fE(uE(e,i),IC(sS(a,"float32"),rC(o))),fE(uE(e,i),IC(rC(o),sS(a,"float32")))]}}}));return r(e,t)}var tI=vk({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:U_.SUM_BY_NONZERO_WEIGHTS,o=fk(e,"onehotLabels","softmaxCrossEntropy"),i=fk(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=fk(n,"weights","softmaxCrossEntropy")),Rg(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=BT(r),c=BT(1),l=BT(o.shape[1]);o=FS(fE(o,IC(c,u)),QE(u,l))}var d=eI(o,i);return q_(d,s,a)}});var nI=vk({sparseFillEmptyRows_:function(e,t,n,r){var a=fk(e,"indices","sparseFillEmptyRows","int32"),o=fk(t,"values","sparseFillEmptyRows"),i=fk(n,"denseShape","sparseFillEmptyRows","int32"),s=fk(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:a,values:o,denseShape:i,defaultValue:s},c=ok.runKernel(Cx,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});var rI=vk({sparseReshape_:function(e,t,n){var r=fk(e,"inputIndices","sparseReshape","int32"),a=fk(t,"inputShape","sparseReshape","int32"),o=fk(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));var i={inputIndices:r,inputShape:a,newShape:o},s=ok.runKernel(Tx,i);return{outputIndices:s[0],outputShape:s[1]}}});var aI=vk({sparseSegmentMean_:function(e,t,n){var r=fk(e,"data","sparseSegmentMean"),a=fk(t,"indices","sparseSegmentMean","int32"),o=fk(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return ok.runKernel(Nx,i)}});var oI=vk({sparseSegmentSum_:function(e,t,n){var r=fk(e,"data","sparseSegmentSum"),a=fk(t,"indices","sparseSegmentSum","int32"),o=fk(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return ok.runKernel(_x,i)}});var iI=vk({stringNGrams_:function(e,t,n,r,a,o,i,s){var u=fk(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var c=fk(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");var l={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:s},d={data:u,dataSplits:c},p=ok.runKernel(Ax,d,l);return{nGrams:p[0],nGramsSplits:p[1]}}});var sI=vk({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=fk(e,"input","stringSplit","string"),a=fk(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var o={skipEmpty:n},i={input:r,delimiter:a},s=ok.runKernel(Mx,i,o);return{indices:s[0],values:s[1],shape:s[2]}}});var uI=vk({stringToHashBucketFast_:function(e,t){var n=fk(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return ok.runKernel(Dx,a,r)}}),cI={fft:JT,ifft:eN,rfft:rN,irfft:tN},lI={hammingWindow:$N,hannWindow:JN,frame:e_,stft:t_},dI={flipLeftRight:r_,grayscaleToRGB:a_,resizeNearestNeighbor:R_,resizeBilinear:O_,rotateWithOffset:o_,cropAndResize:n_,nonMaxSuppression:s_,nonMaxSuppressionAsync:y_,nonMaxSuppressionWithScore:b_,nonMaxSuppressionWithScoreAsync:w_,nonMaxSuppressionPadded:k_,nonMaxSuppressionPaddedAsync:E_,threshold:M_,transform:D_},pI={bandPart:P_,gramSchmidt:F_,qr:W_},fI={absoluteDifference:G_,computeWeightedLoss:q_,cosineDistance:H_,hingeLoss:Q_,huberLoss:K_,logLoss:X_,meanSquaredError:Y_,sigmoidCrossEntropy:J_,softmaxCrossEntropy:tI},hI={sparseFillEmptyRows:nI,sparseReshape:rI,sparseSegmentMean:aI,sparseSegmentSum:oI},mI={stringNGrams:iI,stringSplit:sI,stringToHashBucketFast:uI};function vI(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function gI(e){return e<=30?e:Xg(e,Math.floor(Math.sqrt(e)))}function yI(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,i=0;i<o;++i)a=a.concat([e[i+1]/t[i],t[i]]);a=a.concat(e.slice(o+1))}return a}function bI(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var o=[],i=[],s=1;s<e;++s)s>=2*t+1||s%2===1?i.push(s):o.push(s);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function xI(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function wI(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}var kI,SI,EI="->",CI=/->/g;function TI(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],o=0;o<e;++o)-1===n[o]&&a.push(o);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function NI(e){return e.every((function(e,t){return e===t}))}function _I(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function II(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function OI(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function RI(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function AI(e){try{return e.map((function(e){return Tw(e)}))}catch(RQ){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(RQ))}}ly().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(kI||(kI={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(SI||(SI={}));var MI={};function DI(e){return MI[e]}function PI(e,t,n,r,a){var o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){var i=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?i+1:o.inputIndexEnd;if("tensor"===o.type)return FI(t.inputNames[o.inputIndexStart],n,r,a);if("tensors"===o.type)return t.inputNames.slice(i,s).map((function(e){return FI(e,n,r,a)}));var u=FI(t.inputNames.slice(i)[0],n,r,a),c=u.dataSync();return"number"===o.type?c[0]:Jg(u.shape,c)}var l=t.attrParams[e];return l&&l.value}function FI(e,t,n,r){var a=jI(e),o=(0,E.Z)(a,2),i=o[0],s=o[1];if(null!=r){var u=r.getHashTableHandleByName(i);if(null!=u)return u}var c=n.currentContextIds.find((function(e){return!!t[ZI(i,e)]}));return void 0!==c?t[ZI(i,c)][s]:void 0}function LI(e,t){var n=jI(e),r=(0,E.Z)(n,3),a=r[0],o=r[1],i=r[2];return[ZI(a,t&&t.currentContextId),o,i]}function ZI(e,t){return t?"".concat(e,"-").concat(t):e}function jI(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function BI(e,t,n){var r=PI("pad",e,t,n);if("explicit"===r){r=PI("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function VI(e){return e.kept?e:uS(e)}var zI=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],UI=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],WI=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],qI=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],GI=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],HI=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],QI=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],KI=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],XI=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],YI=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],$I=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],JI=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],eO=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],tO=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],nO=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],rO=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],aO=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],oO=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],iO=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],sO=function(){function e(){var n;(0,ei.Z)(this,e);var w=[t,r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x],k=(n=[]).concat.apply(n,(0,De.Z)(w.map((function(e){return e.json}))));this.opMappers=k.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,ti.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],o=[],i=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||i.push(e[n.name]),e}),{}),u=[],c=[],l={},d={};null!=n&&(l=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);p.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=LI(e),a=(0,E.Z)(r,3),o=a[0],i=a[2],u=s[o];if(null!=u.outputs){var c=u.outputs.indexOf(i);if(-1!==c){var l="".concat(o,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(d).length?p.forEach((function(e){var t=s[e];0===t.children.length&&c.push(t)})):Object.keys(d).forEach((function(e){var t=LI(e),n=(0,E.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=d[e],c.push(r))})),Object.keys(l).length>0?Object.keys(l).forEach((function(e){var t=LI(e),n=(0,E.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=l[e],u.push(r))})):u=a;var f={};null!=e.library&&null!=e.library.function&&(f=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:c,weights:o,placeholders:a,signature:n,functions:f};return i.length>0&&(h.initNodes=i),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=DI(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=cO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=cO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=bO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=bO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=dO(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=dO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=yO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=yO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=lO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=lO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=wO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=wO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=gO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=gO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=xO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=xO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=hO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=hO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=mO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=mO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=fO(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=fO(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var o=[],i=[];e.signature.inputArg.forEach((function(e){var t=LI(e.name),n=(0,E.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:pO(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,o.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=LI(e),o=(0,E.Z)(r,3),i=o[0],s=o[2],u=a[i];if(null!=u.outputs){var c=u.outputs.indexOf(s);if(-1!==c){var l="".concat(i,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=LI(s[e.name]),n=(0,E.Z)(t,2),r=n[0],o=n[1],u=a[r];null!=u&&(u.defaultOutput=o,i.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function uO(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=ly().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function cO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?uO(a.s,r):n}function lO(e,t,n){var r=e[t];return r?r.b:n}function dO(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function pO(e){switch("string"===typeof e&&(e=kI[e]),e){case kI.DT_FLOAT:case kI.DT_HALF:return"float32";case kI.DT_INT32:case kI.DT_INT64:case kI.DT_INT8:case kI.DT_UINT8:return"int32";case kI.DT_BOOL:return"bool";case kI.DT_DOUBLE:return"float32";case kI.DT_STRING:return"string";default:return null}}function fO(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function hO(e,t,n){var r=e[t];return r&&r.type?pO(r.type):n}function mO(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return pO(e)})):n}function vO(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function gO(e,t,n){var r=e[t];return r&&r.shape?vO(r.shape):n}function yO(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function bO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return uO(e,r)})):n}function xO(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return vO(e)})):n}function wO(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var kO=function(){function e(t,n,r){var a=this;(0,ei.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return(0,ti.Z)(e,[{key:"getInput",value:function(e){return FI(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return FI(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return dO(this.node.rawAttrs,e,t);if(null!=n.s)return cO(this.node.rawAttrs,e,t);if(null!=n.b)return lO(this.node.rawAttrs,e,t);if(null!=n.shape)return gO(this.node.rawAttrs,e,t);if(null!=n.type)return hO(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return yO(this.node.rawAttrs,e,t);if(null!=n.list.s)return bO(this.node.rawAttrs,e,t);if(null!=n.list.shape)return xO(this.node.rawAttrs,e,t);if(null!=n.list.b)return wO(this.node.rawAttrs,e,t);if(null!=n.list.type)return mO(this.node.rawAttrs,e,t)}return t}}]),e}();function SO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){Og(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],o=t[r];Og(a<0||o<0||a===o,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function EO(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function CO(e,t,n){var r=TO(e,n),a=!EO(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=TO(e.shape,r)})),!EO(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function TO(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}var NO=function(){function e(t,n,r,a,o,i,s){(0,ei.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=BT(0),B_(this.idTensor)}return(0,ti.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),SO(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,B_(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return bk([],[0].concat(this.elementShape));var r=this.readMany(e);return SO(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),sN(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return bk([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return SO(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),dE(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,De.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,xN(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:t.size/r,i=[];Z_((function(){t=uE(t,[1,r,o]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:a[s-1],0],c=[1,e[s],o];i[s]=uE(mE(t,u,c),n.elementShape)}return i}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,i)}}]),e}(),_O=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,ei.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));SO(n,e.shape,"TensorList shape mismatch: "),B_(e)})),this.idTensor=BT(0),this.maxNumElements=a,B_(this.idTensor)}return(0,ti.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,De.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));SO(e,this.elementShape,"TensorList shape mismatch: ");var a=CO(this.elementShape,this.tensors,e);return Z_((function(){var e=n.tensors.map((function(e){return uE(e,a)}));return sN(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=CO(this.elementShape,this.tensors,e),r=this.tensors.pop();return SO(r.shape,e,"TensorList shape mismatch: "),uE(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(SO(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");B_(e),this.tensors.push(e)}},{key:"resize",value:function(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));this.tensors.length=e}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));SO(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=CO(this.elementShape,this.tensors,t);return uE(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));SO(this.elementShape,t.shape,"TensorList shape mismatch: "),B_(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));SO(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=CO(this.elementShape,this.tensors,n);return 0===e.length?bk([],[0].concat(a)):Z_((function(){var t=e.map((function(e){return uE(r.tensors[e],a)}));return sN(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));SO(this.elementShape,t,"TensorList shape mismatch: ");var r=CO(this.elementShape,this.tensors,t);return 0===this.size()?bk([],[0].concat(r)):Z_((function(){var e=n.tensors.map((function(e){return uE(e,r)}));return dE(e,0)}))}}]),e}();function IO(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));SO(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=xN(e);return new _O(a,t,r)}function OO(e,t,n){return new _O([],e,t,n)}function RO(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,(0,De.Z)(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var o=new _O([],n,e.dtype,r),i=xN(e,0);return t.forEach((function(e,t){o.setItem(e,i[t])})),o}function AO(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var o=TO(e.shape.slice(1),n),i=0===r?0:e.size/r,s=Z_((function(){var n=[];e=uE(e,[1,r,i]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],c=[1,t[s],i];n[s]=uE(mE(e,u,c),o)}return e.dispose(),n})),u=new _O([],n,e.dtype,t.length),c=0;c<s.length;c++)u.setItem(c,s[c]);return u}var MO=function(){var e=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w,k,S,E,C,T,N,_,I,O,R,A,M,D,P,F,L,Z,j,B,V,z,U,W,q,G,H,Q,K,X,Y,$,J,ee,te,ne,re,ae,oe,ie,se,ue,ce,le,de,pe,fe,he,me,ve,ge,ye,be,xe,we,ke,Se,Ee,Ce,Te,Ne,_e,Ie,Oe,Re,Ae,Me,De,Pe,Fe,Le,Ze,je,Be,Ve,ze,Ue,We,qe;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:160;break;case 3:return a=PI("thenBranch",t,n,r),o=PI("elseBranch",t,n,r),i=PI("cond",t,n,r),s=PI("args",t,n,r),e.next=9,i.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[o].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield(lc().mark((function e(){var a,o,i,s,u,c,l,d;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=PI("body",t,n,r),o=PI("cond",t,n,r),i=PI("args",t,n,r),e.next=5,r.functionMap[o].executeFunctionAsync(i,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=i.map((function(e){return e.id})),e.next=9,s[0].data();case 9:c=e.sent,s.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||e.dispose()})),l=i,d=lc().mark((function e(){var t,n,i;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,e.next=3,r.functionMap[a].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 3:return l=e.sent,n=l.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[o].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 8:return i=e.sent,e.next=11,i[0].data();case 11:c=e.sent,i.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!c[0]){e.next=17;break}return e.delegateYield(d(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:l});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(u=e.t1)){e.next=19;break}return e.abrupt("return",u.v);case 19:return c=PI("pred",t,n,r),e.abrupt("return",[VI(c)]);case 21:return l=PI("pred",t,n,r),(d=PI("data",t,n,r)).kept||(d=VI(d)),e.next=26,l.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,d],e.next=31;break;case 30:e.t2=[d,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(p=t.inputNames.find((function(e){return void 0!==FI(e,n,r)})),!p){e.next=36;break}return f=FI(p,n,r),e.abrupt("return",[VI(f)]);case 36:return e.abrupt("return",void 0);case 37:return h=PI("frameName",t,n,r),m=PI("tensor",t,n,r),r.enterFrame(h),e.abrupt("return",[VI(m)]);case 41:return v=PI("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[VI(v)]);case 44:return g=PI("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[VI(g)]);case 47:return y=PI("size",t,n,r),b=PI("dtype",t,n,r),x=PI("elementShape",t,n,r),w=PI("dynamicSize",t,n,r),k=PI("clearAfterRead",t,n,r),S=PI("identicalElementShapes",t,n,r),E=PI("name",t,n,r),C=new NO(E,b,y,x,S,w,k),r.addTensorArray(C),e.abrupt("return",[C.idTensor,BT(1)]);case 57:return T=PI("tensorArrayId",t,n,r),N=PI("index",t,n,r),_=PI("tensor",t,n,r),(I=r.getTensorArray(T.id)).write(N,_),e.abrupt("return",[I.idTensor]);case 63:return O=PI("tensorArrayId",t,n,r),R=PI("index",t,n,r),A=r.getTensorArray(O.id),e.abrupt("return",[A.read(R)]);case 67:return M=PI("tensorArrayId",t,n,r),D=PI("indices",t,n,r),P=PI("dtype",t,n,r),F=r.getTensorArray(M.id),e.abrupt("return",[F.gather(D,P)]);case 72:return L=PI("tensorArrayId",t,n,r),Z=PI("indices",t,n,r),j=PI("tensor",t,n,r),(B=r.getTensorArray(L.id)).scatter(Z,j),e.abrupt("return",[B.idTensor]);case 78:return V=PI("tensorArrayId",t,n,r),z=r.getTensorArray(V.id),U=PI("dtype",t,n,r),e.abrupt("return",[z.concat(U)]);case 82:return W=PI("tensorArrayId",t,n,r),q=PI("tensor",t,n,r),G=PI("lengths",t,n,r),(H=r.getTensorArray(W.id)).split(G,q),e.abrupt("return",[H.idTensor]);case 88:return Q=PI("tensorArrayId",t,n,r),K=r.getTensorArray(Q.id),e.abrupt("return",[BT(K.size(),"int32")]);case 91:return X=PI("tensorArrayId",t,n,r),(Y=r.getTensorArray(X.id)).clearAndClose(),e.abrupt("return",[Y.idTensor]);case 95:return $=PI("tensorListId",t,n,r),J=PI("index",t,n,r),ee=PI("tensor",t,n,r),(te=r.getTensorList($.id)).setItem(J,ee),e.abrupt("return",[te.idTensor]);case 101:return ne=PI("tensorListId",t,n,r),re=PI("index",t,n,r),ae=PI("elementShape",t,n,r),oe=PI("elementDType",t,n,r),ie=r.getTensorList(ne.id),e.abrupt("return",[ie.getItem(re,ae,oe)]);case 107:return se=PI("indices",t,n,r),ue=PI("tensor",t,n,r),ce=PI("elementShape",t,n,r),le=PI("numElements",t,n,r),de=RO(ue,se,ce,le),r.addTensorList(de),e.abrupt("return",[de.idTensor]);case 114:return pe=PI("elementShape",t,n,r),fe=PI("elementDType",t,n,r),he="TensorListReserve"===t.op?"numElements":"maxNumElements",me=PI(he,t,n,r),ve=OO(pe,fe,me),r.addTensorList(ve),e.abrupt("return",[ve.idTensor]);case 121:return ge=PI("tensorListId",t,n,r),ye=PI("indices",t,n,r),be=PI("elementShape",t,n,r),xe=PI("elementDType",t,n,r),we=r.getTensorList(ge.id),e.abrupt("return",[we.gather(ye,xe,be)]);case 127:return ke=PI("tensorListId",t,n,r),Se=PI("elementShape",t,n,r),Ee=PI("elementDType",t,n,r),Ce=PI("numElements",t,n,r),Te=r.getTensorList(ke.id),e.abrupt("return",[Te.stack(Se,Ee,Ce)]);case 133:return Ne=PI("tensor",t,n,r),_e=PI("elementShape",t,n,r),Ie=PI("elementDType",t,n,r),Oe=IO(Ne,_e,Ie),r.addTensorList(Oe),e.abrupt("return",[Oe.idTensor]);case 139:return Re=PI("tensorListId",t,n,r),Ae=r.getTensorList(Re.id),Me=PI("dtype",t,n,r),De=PI("elementShape",t,n,r),e.abrupt("return",[Ae.concat(Me,De)]);case 144:return Pe=PI("tensorListId",t,n,r),Fe=PI("tensor",t,n,r),(Le=r.getTensorList(Pe.id)).pushBack(Fe),e.abrupt("return",[Le.idTensor]);case 149:return Ze=PI("tensorListId",t,n,r),je=PI("elementShape",t,n,r),Be=PI("elementDType",t,n,r),Ve=r.getTensorList(Ze.id),e.abrupt("return",[Ve.popBack(je,Be)]);case 154:return ze=PI("tensor",t,n,r),Ue=PI("elementShape",t,n,r),We=PI("lengths",t,n,r),qe=AO(ze,We,Ue),r.addTensorList(qe),e.abrupt("return",[qe.idTensor]);case 160:throw TypeError("Node type ".concat(t.op," is not implemented"));case 161:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function DO(e,t,n){var r=PI("fusedOps",e,t,n),a=(0,E.Z)(r,2),o=a[0],i=a[1],s="biasadd"===o,u=!s,c="prelu"===i,l="fusedbatchnorm"===o,d=PI("numArgs",e,t,n);if(s){if(c&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&s&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=PI("strides",e,t,n),f=BI(e,t,n),h=PI("dataFormat",e,t,n).toUpperCase(),m=PI("dilations",e,t,n),v=PI("args",e,t,n),g=(0,E.Z)(v,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:p,pad:f,dataFormat:h,dilations:m,biasArg:y,preluArg:b,activationFunc:i,leakyreluAlpha:PI("leakyreluAlpha",e,t,n)}}function PO(e,t,n){return{boxes:PI("boxes",e,t,n),scores:PI("scores",e,t,n),maxOutputSize:PI("maxOutputSize",e,t,n),iouThreshold:PI("iouThreshold",e,t,n),scoreThreshold:PI("scoreThreshold",e,t,n),softNmsSigma:PI("softNmsSigma",e,t,n)}}var FO=function(){var e=uc(lc().mark((function e(t,n,r){var a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w,k,S,E,C,T,N;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return a=PO(t,n,r),o=a.boxes,i=a.scores,s=a.maxOutputSize,u=a.iouThreshold,c=a.scoreThreshold,l=a.softNmsSigma,e.next=6,dI.nonMaxSuppressionWithScoreAsync(o,i,s,u,c,l);case 6:return d=e.sent,e.abrupt("return",[d.selectedIndices,d.selectedScores]);case 8:return p=PO(t,n,r),f=p.boxes,h=p.scores,m=p.maxOutputSize,v=p.iouThreshold,g=p.scoreThreshold,y=PI("padToMaxOutputSize",t,n,r),e.next=12,dI.nonMaxSuppressionPaddedAsync(f,h,m,v,g,y);case 12:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 14:return x=PO(t,n,r),w=x.boxes,k=x.scores,S=x.maxOutputSize,E=x.iouThreshold,C=x.scoreThreshold,e.next=17,dI.nonMaxSuppressionAsync(w,k,S,E,C);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return T=sS(PI("condition",t,n,r),"bool"),e.next=22,EN(T);case 22:return e.t2=e.sent,N=[e.t2],T.dispose(),e.abrupt("return",N);case 26:return e.abrupt("return",WT(PI("x",t,n,r),PI("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),LO=function(){function e(t,n){(0,ei.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=BT(0),this.tensorMap=new Map,B_(this.handle)}return(0,ti.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return BT(this.size(),"int32")}},{key:"import",value:function(){var e=uc(lc().mark((function e(t,n){var r,a=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",Z_((function(){var e=xN(n),t=r.length,o=e.length;Og(t===o,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(o," ")+"elements."}));for(var i=0;i<t;i++){var s=r[i],u=e[i];B_(u),a.tensorMap.set(s,u)}return a.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=uc(lc().mark((function e(t,n){var r,a=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",Z_((function(){for(var e=[],t=0;t<r.length;t++){var o=r[t],i=a.findWithDefault(o,n);e.push(i)}return sN(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),ZO=function(){var e=uc(lc().mark((function e(t,n,r,a){var o,i,s,u,c,l,d,p,f,h,m,v,g;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return o=PI("keyDType",t,n,r),i=PI("valueDType",t,n,r),s=new LO(o,i),a.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=PI("tableHandle",t,n,r,a),c=PI("keys",t,n,r),l=PI("values",t,n,r),d=a.getHashTableById(u.id),e.next=14,d.import(c,l);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return p=PI("tableHandle",t,n,r,a),f=PI("keys",t,n,r),h=PI("defaultValue",t,n,r),m=a.getHashTableById(p.id),e.next=22,m.find(f,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return v=PI("tableHandle",t,n,r,a),g=a.getHashTableById(v.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function jO(e,t,n,r){var a=function(e,t,n){switch(e.category){case"arithmetic":return Z_((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[FS(PI("a",e,t,n),PI("b",e,t,n))];case"AddN":return[LS(PI("tensors",e,t,n))];case"FloorMod":case"Mod":return[tT(PI("a",e,t,n),PI("b",e,t,n))];case"Mul":return[fE(PI("a",e,t,n),PI("b",e,t,n))];case"RealDiv":case"Div":return[QE(PI("a",e,t,n),PI("b",e,t,n))];case"DivNoNan":return[$E(PI("a",e,t,n),PI("b",e,t,n))];case"FloorDiv":return[HE(PI("a",e,t,n),PI("b",e,t,n))];case"Sub":return[IC(PI("a",e,t,n),PI("b",e,t,n))];case"Minimum":return[JC(PI("a",e,t,n),PI("b",e,t,n))];case"Maximum":return[HC(PI("a",e,t,n),PI("b",e,t,n))];case"Pow":return[gT(PI("a",e,t,n),PI("b",e,t,n))];case"SquaredDifference":return[oN(PI("a",e,t,n),PI("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return Z_((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[MS(PI("x",e,t,n))];case"Acos":return[DS(PI("x",e,t,n))];case"Acosh":return[PS(PI("x",e,t,n))];case"Asin":return[zS(PI("x",e,t,n))];case"Asinh":return[US(PI("x",e,t,n))];case"Atan":return[WS(PI("x",e,t,n))];case"Atan2":return[qS(PI("x",e,t,n),PI("y",e,t,n))];case"Atanh":return[GS(PI("x",e,t,n))];case"Ceil":return[TE(PI("x",e,t,n))];case"Complex":return[gk(PI("real",e,t,n),PI("imag",e,t,n))];case"Cos":return[jE(PI("x",e,t,n))];case"Cosh":return[BE(PI("x",e,t,n))];case"Elu":return[tC(PI("x",e,t,n))];case"Erf":return[nC(PI("x",e,t,n))];case"Exp":return[rC(PI("x",e,t,n))];case"Expm1":return[oC(PI("x",e,t,n))];case"Floor":return[cC(PI("x",e,t,n))];case"Log":return[kC(PI("x",e,t,n))];case"Log1p":return[SC(PI("x",e,t,n))];case"Imag":return[fC(PI("x",e,t,n))];case"Neg":return[CC(PI("x",e,t,n))];case"Reciprocal":return[OT(PI("x",e,t,n))];case"Real":return[IT(PI("x",e,t,n))];case"Relu":return[RT(PI("x",e,t,n))];case"Round":return[ZT(PI("x",e,t,n))];case"Selu":return[VT(PI("x",e,t,n))];case"Sigmoid":return[hE(PI("x",e,t,n))];case"Sin":return[GT(PI("x",e,t,n))];case"Sign":return[qT(PI("x",e,t,n))];case"Sinh":return[HT(PI("x",e,t,n))];case"Softplus":return[TC(PI("x",e,t,n))];case"Sqrt":return[aN(PI("x",e,t,n))];case"Square":return[nT(PI("x",e,t,n))];case"Tanh":return[vE(PI("x",e,t,n))];case"Tan":return[lN(PI("x",e,t,n))];case"ClipByValue":return[NE(PI("x",e,t,n),PI("clipValueMin",e,t,n),PI("clipValueMax",e,t,n))];case"Relu6":return[AT(PI("x",e,t,n))];case"Rsqrt":return[jT(FI(e.inputNames[0],t,n))];case"Prod":return[bT(PI("x",e,t,n),PI("axes",e,t,n))];case"LeakyRelu":return[gC(PI("x",e,t,n),PI("alpha",e,t,n))];case"Prelu":return[yT(PI("x",e,t,n),PI("alpha",e,t,n))];case"IsNan":return[vC(FI(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return MO(e,t,n);case"convolution":return Z_((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=PI("stride",e,t,n),a=PI("pad",e,t,n),o=PI("dataFormat",e,t,n).toUpperCase(),i=PI("dilation",e,t,n);return[ME(PI("x",e,t,n),PI("filter",e,t,n),r,a,o,i)];case"Conv2D":var s=PI("strides",e,t,n),u=BI(e,t,n),c=PI("dataFormat",e,t,n).toUpperCase(),l=PI("dilations",e,t,n);return[AE(PI("x",e,t,n),PI("filter",e,t,n),[s[1],s[2]],u,c,[l[1],l[2]])];case"_FusedConv2D":var d=DO(e,t,n),p=d.stride,f=d.pad,h=d.dataFormat,m=d.dilations,v=d.biasArg,g=d.preluArg,y=d.activationFunc,b=d.leakyreluAlpha;return[HN({x:PI("x",e,t,n),filter:PI("filter",e,t,n),strides:[p[1],p[2]],pad:f,dataFormat:h,dilations:[m[1],m[2]],bias:v,activation:y,preluActivationWeights:g,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var x=DO(e,t,n),w=x.stride,k=x.pad,S=x.dataFormat,E=x.dilations,C=x.biasArg,T=x.preluArg,N=x.activationFunc,_=x.leakyreluAlpha;return[XN({x:PI("x",e,t,n),filter:PI("filter",e,t,n),strides:[w[1],w[2]],pad:k,dataFormat:S,dilations:[E[1],E[2]],bias:C,activation:N,preluActivationWeights:T,leakyreluAlpha:_})];case"Conv2DBackpropInput":case"Conv2dTranspose":var I=PI("outputShape",e,t,n),O=PI("strides",e,t,n),R=BI(e,t,n);return[PE(PI("x",e,t,n),PI("filter",e,t,n),I,[O[1],O[2]],R)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var A=PI("strides",e,t,n),M=BI(e,t,n),D=PI("dilations",e,t,n),P=PI("dataFormat",e,t,n).toUpperCase();return[WE(PI("input",e,t,n),PI("filter",e,t,n),[A[1],A[2]],M,P,[D[1],D[2]])];case"Conv3D":var F=PI("strides",e,t,n),L=PI("pad",e,t,n),Z=PI("dataFormat",e,t,n).toUpperCase(),j=PI("dilations",e,t,n);return[FE(PI("x",e,t,n),PI("filter",e,t,n),[F[1],F[2],F[3]],L,Z,[j[1],j[2],j[3]])];case"AvgPool":var B=PI("strides",e,t,n),V=PI("pad",e,t,n),z=PI("kernelSize",e,t,n);return[cE(PI("x",e,t,n),[z[1],z[2]],[B[1],B[2]],V)];case"MaxPool":var U=PI("strides",e,t,n),W=PI("pad",e,t,n),q=PI("kernelSize",e,t,n);return[WC(PI("x",e,t,n),[q[1],q[2]],[U[1],U[2]],W)];case"MaxPoolWithArgmax":var G=PI("strides",e,t,n),H=PI("pad",e,t,n),Q=PI("kernelSize",e,t,n),K=PI("includeBatchInIndex",e,t,n),X=GC(PI("x",e,t,n),[Q[1],Q[2]],[G[1],G[2]],H,K);return[X.result,X.indexes];case"AvgPool3D":var Y=PI("strides",e,t,n),$=PI("pad",e,t,n),J=PI("kernelSize",e,t,n);return[lE(PI("x",e,t,n),[J[1],J[2],J[3]],[Y[1],Y[2],Y[3]],$)];case"MaxPool3D":var ee=PI("strides",e,t,n),te=PI("pad",e,t,n),ne=PI("kernelSize",e,t,n);return[qC(PI("x",e,t,n),[ne[1],ne[2],ne[3]],[ee[1],ee[2],ee[3]],te)];case"Dilation2D":var re=PI("strides",e,t,n),ae=PI("pad",e,t,n),oe=PI("dilations",e,t,n),ie=re[1],se=re[2],ue=oe[1],ce=oe[2];return[GE(PI("x",e,t,n),PI("filter",e,t,n),[ie,se],ae,[ue,ce],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return Z_((function(){return function(e,t,n){switch(e.op){case"Fill":var r=PI("shape",e,t,n),a=PI("dtype",e,t,n);return[uC(r,PI("value",e,t,n),a)];case"LinSpace":return[xC(PI("start",e,t,n),PI("stop",e,t,n),PI("num",e,t,n))];case"Multinomial":var o=PI("logits",e,t,n),i=PI("numSamples",e,t,n),s=PI("seed",e,t,n);return[oT(o,i,s)];case"OneHot":var u=PI("indices",e,t,n),c=PI("depth",e,t,n),l=PI("onValue",e,t,n),d=PI("offValue",e,t,n);return[sT(u,c,l,d)];case"Ones":return[XC(PI("shape",e,t,n),PI("dtype",e,t,n))];case"OnesLike":return[uT(PI("x",e,t,n))];case"RandomUniform":return[NT(PI("shape",e,t,n),PI("minval",e,t,n),PI("maxval",e,t,n),PI("dtype",e,t,n))];case"Range":return[_T(PI("start",e,t,n),PI("stop",e,t,n),PI("step",e,t,n),PI("dtype",e,t,n))];case"TruncatedNormal":var p=PI("shape",e,t,n),f=PI("mean",e,t,n),h=PI("stdDev",e,t,n),m=PI("seed",e,t,n);return[gN(p,f,h,PI("dtype",e,t,n),m)];case"Zeros":return[KC(PI("shape",e,t,n),PI("dtype",e,t,n))];case"ZerosLike":return[YE(PI("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return FO(e,t,n);case"evaluation":return Z_((function(){return function(e,t,n){switch(e.op){case"TopKV2":var r=PI("x",e,t,n),a=PI("k",e,t,n),o=PI("sorted",e,t,n),i=vN(r,a,o);return[i.values,i.indices];case"Unique":var s=PI("x",e,t,n),u=yN(s);return[u.values,u.indices];case"UniqueV2":var c=PI("x",e,t,n),l=PI("axis",e,t,n),d=yN(c,l);return[d.values,d.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return Z_((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=PI("images",e,t,n),a=PI("size",e,t,n),o=PI("alignCorners",e,t,n),i=PI("halfPixelCenters",e,t,n);return[dI.resizeBilinear(r,[a[0],a[1]],o,i)];case"ResizeNearestNeighbor":var s=PI("images",e,t,n),u=PI("size",e,t,n),c=PI("alignCorners",e,t,n),l=PI("halfPixelCenters",e,t,n);return[dI.resizeNearestNeighbor(s,[u[0],u[1]],c,l)];case"CropAndResize":var d=PI("image",e,t,n),p=PI("boxes",e,t,n),f=PI("boxInd",e,t,n),h=PI("cropSize",e,t,n),m=PI("method",e,t,n),v=PI("extrapolationValue",e,t,n);return[dI.cropAndResize(d,p,f,h,m,v)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return Z_((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=PI("default",e,t,n);return[FI(e.name,t,n)||r];case"Placeholder":return[FI(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[VI(PI("x",e,t,n))];case"IdentityN":return PI("x",e,t,n).map((function(e){return VI(e)}));case"Shape":return[dN(PI("x",e,t,n).shape,"int32")];case"ShapeN":return PI("x",e,t,n).map((function(e){return dN(e.shape)}));case"Size":return[BT(PI("x",e,t,n).size,"int32")];case"Rank":return[BT(PI("x",e,t,n).rank,"int32")];case"NoOp":return[BT(1)];case"Print":var a=PI("x",e,t,n),o=PI("data",e,t,n),i=PI("message",e,t,n),s=PI("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(var u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[u].dataSync()).slice(0,s));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return Z_((function(){return function(e,t,n){switch(e.op){case"Equal":return[KE(PI("a",e,t,n),PI("b",e,t,n))];case"NotEqual":return[iT(PI("a",e,t,n),PI("b",e,t,n))];case"Greater":return[dC(PI("a",e,t,n),PI("b",e,t,n))];case"GreaterEqual":return[pC(PI("a",e,t,n),PI("b",e,t,n))];case"Less":return[yC(PI("a",e,t,n),PI("b",e,t,n))];case"LessEqual":return[bC(PI("a",e,t,n),PI("b",e,t,n))];case"LogicalAnd":return[BC(PI("a",e,t,n),PI("b",e,t,n))];case"LogicalNot":return[VC(PI("a",e,t,n))];case"LogicalOr":return[zC(PI("a",e,t,n),PI("b",e,t,n))];case"Select":case"SelectV2":return[XE(PI("condition",e,t,n),PI("a",e,t,n),PI("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return Z_((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[pE(PI("a",e,t,n),PI("b",e,t,n),PI("transposeA",e,t,n),PI("transposeB",e,t,n))];case"Einsum":return[eC.apply(w,[PI("equation",e,t,n)].concat((0,De.Z)(PI("tensors",e,t,n))))];case"Transpose":return[NN(PI("x",e,t,n),PI("perm",e,t,n))];case"_FusedMatMul":var r=PI("fusedOps",e,t,n),a=(0,E.Z)(r,2),o=a[0],i=a[1],s="biasadd"===o,u="prelu"===i,c=PI("numArgs",e,t,n),l=PI("leakyreluAlpha",e,t,n);if(s){if(u&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var d=PI("args",e,t,n),p=(0,E.Z)(d,2),f=p[0],h=p[1];return[YN({a:PI("a",e,t,n),b:PI("b",e,t,n),transposeA:PI("transposeA",e,t,n),transposeB:PI("transposeB",e,t,n),bias:f,activation:i,preluActivationWeights:h,leakyreluAlpha:l})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return Z_((function(){return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[bE(PI("x",e,t,n),PI("mean",e,t,n),PI("variance",e,t,n),PI("offset",e,t,n),PI("scale",e,t,n),PI("epsilon",e,t,n))];case"LRN":return[wC(PI("x",e,t,n),PI("radius",e,t,n),PI("bias",e,t,n),PI("alpha",e,t,n),PI("beta",e,t,n))];case"Softmax":return[$T(PI("x",e,t,n))];case"LogSoftmax":return[RC(PI("x",e,t,n))];case"SparseToDense":return[PN(PI("sparseIndices",e,t,n),PI("outputShape",e,t,n),PI("sparseValues",e,t,n),PI("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return Z_((function(){return function(e,t,n){switch(e.op){case"Max":var r=PI("axis",e,t,n),a=PI("keepDims",e,t,n);return[_C(PI("x",e,t,n),r,a)];case"Mean":var o=PI("axis",e,t,n),i=PI("keepDims",e,t,n);return[QC(PI("x",e,t,n),o,i)];case"Min":var s=PI("axis",e,t,n),u=PI("keepDims",e,t,n);return[$C(PI("x",e,t,n),s,u)];case"Sum":var c=PI("axis",e,t,n),l=PI("keepDims",e,t,n);return[OC(PI("x",e,t,n),c,l)];case"All":var d=PI("axis",e,t,n),p=PI("keepDims",e,t,n);return[ZS(PI("x",e,t,n),d,p)];case"Any":var f=PI("axis",e,t,n),h=PI("keepDims",e,t,n);return[jS(PI("x",e,t,n),f,h)];case"ArgMax":var m=PI("axis",e,t,n);return[BS(PI("x",e,t,n),m)];case"ArgMin":var v=PI("axis",e,t,n);return[VS(PI("x",e,t,n),v)];case"Prod":var g=PI("axis",e,t,n),y=PI("keepDims",e,t,n);return[bT(PI("x",e,t,n),g,y)];case"Cumsum":var b=PI("axis",e,t,n),x=PI("exclusive",e,t,n),w=PI("reverse",e,t,n);return[VE(PI("x",e,t,n),b,x,w)];case"Bincount":var k=PI("x",e,t,n),S=PI("weights",e,t,n),E=PI("size",e,t,n);return[SE(k,S,E)];case"DenseBincount":var C=PI("x",e,t,n),T=PI("weights",e,t,n),N=PI("size",e,t,n),_=PI("binaryOutput",e,t,n);return[zE(C,T,N,_)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return Z_((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=PI("n",e,t,n),a=PI("axis",e,t,n),o=PI("tensors",e,t,n);return o=o.slice(0,r),[dE(o,a)];case"Gather":var i=PI("x",e,t,n),s=PI("indices",e,t,n);return[lC(i,sS(s,"int32"),0)];case"GatherV2":var u=PI("axis",e,t,n),c=PI("batchDims",e,t,n),l=PI("x",e,t,n),d=PI("indices",e,t,n);return[lC(l,sS(d,"int32"),u,c)];case"Reverse":for(var p=PI("dims",e,t,n),f=[],h=0;h<p.length;h++)p[h]&&f.push(h);var m=PI("x",e,t,n);return[MT(m,f)];case"ReverseV2":var v=PI("axis",e,t,n),g=PI("x",e,t,n);return[MT(g,v)];case"Slice":var y=PI("begin",e,t,n),b=PI("size",e,t,n);return[mE(PI("x",e,t,n),y,b)];case"StridedSlice":var x=PI("begin",e,t,n),w=PI("end",e,t,n),k=PI("strides",e,t,n),S=PI("beginMask",e,t,n),E=PI("endMask",e,t,n),C=PI("ellipsisMask",e,t,n),T=PI("newAxisMask",e,t,n),N=PI("shrinkAxisMask",e,t,n),_=PI("x",e,t,n);return[cN(_,x,w,k,S,E,C,T,N)];case"Pack":return Z_((function(){var r=PI("axis",e,t,n),a=PI("tensors",e,t,n),o=a[0].shape,i=iN(a[0]).shape,s=a.map((function(e){var t=Pg(e.shape,o);if(!t&&!Pg(iN(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:uE(e,o)}));return[sN(s,r)]}));case"Unpack":var I=PI("axis",e,t,n),O=PI("tensor",e,t,n);return xN(O,I);case"Tile":var R=PI("reps",e,t,n);return[iC(PI("x",e,t,n),R)];case"Split":case"SplitV":var A=PI("axis",e,t,n),M=PI("numOrSizeSplits",e,t,n),D=PI("x",e,t,n);return nN(D,M,A);case"ScatterNd":var P=PI("indices",e,t,n),F=PI("values",e,t,n),L=PI("shape",e,t,n);return[MN(P,F,L)];case"GatherNd":var Z=PI("x",e,t,n),j=PI("indices",e,t,n);return[FN(Z,j)];case"SparseToDense":var B=PI("sparseIndices",e,t,n),V=PI("outputShape",e,t,n),z=PI("sparseValues",e,t,n),U=PI("defaultValue",e,t,n);return[PN(B,z,V,z.dtype===U.dtype?U:sS(U,z.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return Z_((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=hI.sparseFillEmptyRows(PI("indices",e,t,n),PI("values",e,t,n),PI("denseShape",e,t,n),PI("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var a=hI.sparseReshape(PI("inputIndices",e,t,n),PI("inputShape",e,t,n),PI("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[hI.sparseSegmentMean(PI("data",e,t,n),PI("indices",e,t,n),PI("segmentIds",e,t,n))];case"SparseSegmentSum":return[hI.sparseSegmentSum(PI("data",e,t,n),PI("indices",e,t,n),PI("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return Z_((function(){return function(e,t,n){switch(e.op){case"FFT":return[JT(PI("x",e,t,n))];case"IFFT":return[eN(PI("x",e,t,n))];case"RFFT":return[rN(PI("x",e,t,n))];case"IRFFT":return[tN(PI("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return Z_((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=mI.stringNGrams(PI("data",e,t,n),PI("dataSplits",e,t,n),PI("separator",e,t,n),PI("nGramWidths",e,t,n),PI("leftPad",e,t,n),PI("rightPad",e,t,n),PI("padWidth",e,t,n),PI("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var a=mI.stringSplit(PI("input",e,t,n),PI("delimiter",e,t,n),PI("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[mI.stringToHashBucketFast(PI("input",e,t,n),PI("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return Z_((function(){return function(e,t,n){switch(e.op){case"Cast":return[sS(PI("x",e,t,n),PI("dtype",e,t,n))];case"ExpandDims":var r=PI("axis",e,t,n);return[aC(PI("x",e,t,n),r)];case"Squeeze":var a=PI("axis",e,t,n);return[iN(PI("x",e,t,n),a)];case"Reshape":return[uE(PI("x",e,t,n),PI("shape",e,t,n))];case"MirrorPad":return[eT(PI("x",e,t,n),PI("padding",e,t,n),PI("mode",e,t,n))];case"PadV2":case"Pad":return[lT(PI("x",e,t,n),PI("padding",e,t,n),PI("constantValue",e,t,n))];case"SpaceToBatchND":var o=PI("blockShape",e,t,n),i=PI("paddings",e,t,n);return[mT(PI("x",e,t,n),o,i)];case"BatchToSpaceND":var s=PI("blockShape",e,t,n),u=PI("crops",e,t,n);return[yE(PI("x",e,t,n),s,u)];case"DepthToSpace":var c=PI("blockSize",e,t,n),l=PI("dataFormat",e,t,n).toUpperCase();return[UE(PI("x",e,t,n),c,l)];case"BroadcastTo":return[CE(PI("x",e,t,n),PI("shape",e,t,n))];case"BroadcastArgs":return[EE(PI("s0",e,t,n),PI("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return ZO(e,t,n,r);case"custom":var a=DI(e.op);if(a&&a.customExecutor)return a.customExecutor(new kO(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return oy(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var BO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,ei.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,ti.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function VO(e,t,n,r){var a=new Set,o=[],i=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return jI(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return jI(e.name)[0]})));for(var d=(0,De.Z)(t);d.length>0;){var p=d.pop();(qO(p)||GO(p)||HO(p))&&null==i&&(s=(i=p).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(p.name),null==n[p.name]&&(-1===c.indexOf(p.name)&&-1===l.indexOf(p.name)&&(0!==p.inputs.length?p.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),d.push(e))})):o.push(p.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:s}}var zO=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],UO=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],WO=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function qO(e){return zO.indexOf(e.op)>=0}function GO(e){return UO.indexOf(e.op)>=0}function HO(e){return WO.indexOf(e.op)>=0}var QO=function(){function e(t,n){var r=this;(0,ei.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,ti.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,De.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=VO(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,o=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){var i=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(i,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,o=[],i=Object.keys(a).map((function(e){return jI(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;i.forEach((function(e){r.has(e.name)&&o.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&o.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&o.push(e)}));for(var u=new Set,c=[];o.length>0;){var l=o.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&o.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[jI(e)[0]]})),o=t.map((function(e){return jI(e)[0]})),i=o.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===i.length&&(i=this._outputs);var s=this.getCompilationKey(a,i),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,i),this.compiledMap.set(s,u));var c={},l={};return Z_((function(){var r=new BO(n.weightMap,c,l,n.functionExecutorMap),a=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=jI(t),r=(0,E.Z)(n,2),o=r[0],i=[];i[r[1]]=e[t],a[o]=i}));for(var i=n.getFrozenTensorIds(a),s={},d=0;d<u.length;d++){var p=u[d];if(!a[p.name]){var f=jO(p,a,r,n._resourceManager);if(oy(f))throw new Error("The execution of the op '".concat(p.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[p.name]=f,n.checkTensorForDisposal(p.name,p,a,r,i,o,s)}}return null==n.parent&&r.dispose(i),t.map((function(e){return FI(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,o,i){var s=this;"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var o=function(e,t,n){return t[ZI(e,n.currentContextId)]}(e.name,n,r);null!=o&&o.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=i[e.id];if(1===n){if(s.keepTensorForDebug){var o=LI(t.name,r),u=(0,E.Z)(o,2),c=u[0],l=u[1];s.intermediateTensors[c]||(s.intermediateTensors[c]=[]),s.intermediateTensors[c][l]=e}else e.dispose();delete i[e.id]}else null!=n&&i[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=uc(lc().mark((function e(t,n){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=uc(lc().mark((function e(t,n){var r,a,o,i,s,u,c,l=this,d=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>2&&void 0!==d[2]&&d[2],a=d.length>3&&void 0!==d[3]?d[3]:{},o=d.length>4&&void 0!==d[4]?d[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=ly().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){console.warn(p.message)}return this.resetIntermediateTensors(),i=new BO(this.weightMap,a,o,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,i,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return FI(e,l.tensorsMap,i)})),u=s.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,De.Z)(u),(0,De.Z)(c),(0,De.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&i.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=uc(lc().mark((function e(t,n,r){var a,o=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[o.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=uc(lc().mark((function e(t,n,r,a){var o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w,k=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object.keys(t),i=o.map((function(e){return k.graph.nodes[jI(e)[0]]})),s=r.map((function(e){return jI(e)[0]})),0===(u=s.map((function(e){return k.graph.nodes[e]}))).length&&(u=this._outputs),c=VO(t,u,this.weightMap,this._initNodes),l=c.usedNodes,d=c.missingInputs,p=c.dynamicNode,f=c.syncInputs,h=[].concat((0,De.Z)(i),(0,De.Z)(this.graph.weights),(0,De.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),m=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=jI(e),r=(0,E.Z)(n,2),a=r[0],o=[];o[r[1]]=t[e],m[a]=o})),v={},g=this.getFrozenTensorIds(m),y={};case 12:if(!(h.length>0)){e.next=18;break}return b=this.processStack(i,h,n,m,y,g,s,v,l),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=p||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=u.filter((function(e){return!qO(e)&&!FI(e.name,m,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw w="",null!=p&&(w="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(f,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(d,"]. ").concat(w));case 24:return e.abrupt("return",m);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,o,i,s,u){for(var c=this,l=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&PI("isConstant",e.node,r,n)){var p=LI(e.node.name,n),f=(0,E.Z)(p,1);d=f[0]}if(null==r[e.node.name]){var h=jO(e.node,r,n,c._resourceManager);if(!d){var m=LI(e.node.name,n),v=(0,E.Z)(m,1);d=v[0]}var g=n.currentContext;oy(h)?l.push(h.then((function(l){return r[d]=l,n.currentContext=g,c.checkTensorForDisposal(d,e.node,r,n,o,i,s),c.processChildNodes(e.node,t,n,r,a,u),l}))):(r[d]=h,c.checkTensorForDisposal(d,e.node,r,n,o,i,s),c.processChildNodes(e.node,t,n,r,a,u))}else c.processChildNodes(e.node,t,n,r,a,u)};t.length>0;)d();return l}},{key:"processChildNodes",value:function(e,t,n,r,a,o){e.children.forEach((function(e){var i=LI(e.name,n),s=(0,E.Z)(i,1)[0];!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!FI(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!FI(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=jI(n),o=(0,E.Z)(a,1)[0],i=t.graph.nodes[o];if(i.attrParams.shape&&i.attrParams.shape.value){var s=i.attrParams.shape.value;Og(s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e})),(function(){return"The shape of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}i.attrParams.dtype&&i.attrParams.dtype.value&&Og(r.dtype===i.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(i.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=jI(e),r=(0,E.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=jI(e),r=(0,E.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),KO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ei.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,ti.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),XO="?tfjs-format=file",YO="model.json",$O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ei.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new KO}return(0,ti.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e,t,n=this.modelUrl;if(null!=n.load)this.handler=n;else if(null!=this.loadOptions.requestInit)this.handler=xS(n,this.loadOptions);else{var r=(e=n,t=this.loadOptions,Ak.getLoadHandlers(e,t));if(0===r.length)r.push(xS(n,this.loadOptions));else if(r.length>1)throw new Error("Found more than one (".concat(r.length,") load handlers for ")+"URL '".concat([n],"'"));this.handler=r[0]}}},{key:"load",value:function(){var e=uc(lc().mark((function e(){var t;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.findIOHandler(),null!=this.handler.load){e.next=3;break}throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,this.handler.load();case 5:return t=e.sent,e.abrupt("return",this.loadSync(t));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=wk(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new QO(sO.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=sO.Instance.transformGraph(e.modelInitializer);this.initializer=new QO(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=uc(lc().mark((function e(t,n){var r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(n=t,0!==(r=Ak.getSaveHandlers(n)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}var n}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof jw)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=uc(lc().mark((function e(t,n){var r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function JO(e){return eR.apply(this,arguments)}function eR(){return eR=uc(lc().mark((function e(t){var n,r,a=arguments;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&null==t.load&&(t.endsWith("/")||(t+="/"),t="".concat(t).concat(YO).concat(XO)),r=new $O(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}var tR=function(e,t){return(tR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function nR(e,t){function n(){this.constructor=e}tR(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var rR=function(){return(rR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function aR(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function oR(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var iR=["nose","left_eye","right_eye","left_ear","right_ear","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle"],sR=["nose","left_eye_inner","left_eye","left_eye_outer","right_eye_inner","right_eye","right_eye_outer","left_ear","right_ear","mouth_left","mouth_right","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_pinky","right_pinky","left_index","right_index","left_thumb","right_thumb","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle","left_heel","right_heel","left_foot_index","right_foot_index"],uR={left:[1,2,3,7,9,11,13,15,17,19,21,23,25,27,29,31],right:[4,5,6,8,10,12,14,16,18,20,22,24,26,28,30,32],middle:[0]},cR={left:[1,3,5,7,9,11,13,15],right:[2,4,6,8,10,12,14,16],middle:[0]},lR=[[0,1],[0,2],[1,3],[2,4],[5,6],[5,7],[5,11],[6,8],[6,12],[7,9],[8,10],[11,12],[11,13],[12,14],[13,15],[14,16]],dR=[[0,1],[0,4],[1,2],[2,3],[3,7],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[11,23],[12,14],[14,16],[12,24],[13,15],[15,17],[16,18],[16,20],[15,17],[15,19],[15,21],[16,22],[17,19],[18,20],[23,25],[23,24],[24,26],[25,27],[26,28],[27,29],[28,30],[27,31],[28,32],[29,31],[30,32]],pR={runtime:"mediapipe",enableSmoothing:!0,modelType:"full"},fR=function(){function e(e){var t,n=this;switch(this.width=0,this.height=0,this.selfieMode=!1,this.poseSolution=new Sg.Pose({locateFile:function(t,n){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+t:n+"/"+t}}),e.modelType){case"lite":t=0;break;case"heavy":t=2;break;default:t=1}this.poseSolution.setOptions({modelComplexity:t,smoothLandmarks:e.enableSmoothing||!0,selfieMode:this.selfieMode}),this.poseSolution.onResults((function(e){n.height=e.image.height,n.width=e.image.width,null==e.poseLandmarks?n.poses=[]:n.poses=[n.translateOutput(e.poseLandmarks,e.poseWorldLandmarks)]}))}return e.prototype.translateOutput=function(e,t){var n=this,r={keypoints:e.map((function(e,t){return{x:e.x*n.width,y:e.y*n.height,z:e.z,score:e.visibility,name:sR[t]}}))};return null!=t&&(r.keypoints3D=t.map((function(e,t){return{x:e.x,y:e.y,z:e.z,score:e.visibility,name:sR[t]}}))),r},e.prototype.estimatePoses=function(e,t,n){return aR(this,void 0,void 0,(function(){return oR(this,(function(r){switch(r.label){case 0:return t&&t.flipHorizontal&&t.flipHorizontal!==this.selfieMode&&(this.selfieMode=t.flipHorizontal,this.poseSolution.setOptions({selfieMode:this.selfieMode})),[4,this.poseSolution.send({image:e},n)];case 1:return r.sent(),[2,this.poses]}}))}))},e.prototype.dispose=function(){this.poseSolution.close()},e.prototype.reset=function(){this.poseSolution.reset()},e.prototype.initialize=function(){return this.poseSolution.initialize()},e}();function hR(e){return aR(this,void 0,void 0,(function(){var t,n;return oR(this,(function(r){switch(r.label){case 0:return t=function(e){if(null==e)return rR({},pR);var t=rR({},e);return t.runtime="mediapipe",null==t.enableSmoothing&&(t.enableSmoothing=pR.enableSmoothing),null==t.modelType&&(t.modelType=pR.modelType),t}(e),[4,(n=new fR(t)).initialize()];case 1:return r.sent(),[2,n]}}))}))}function mR(e){return e instanceof jw?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function vR(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function gR(e){return e instanceof jw?e:TS(e)}function yR(e,t){Og(0!==e.width,(function(){return t+" width cannot be 0."})),Og(0!==e.height,(function(){return t+" height cannot be 0."}))}function bR(e,t,n){var r=t.inputResolution,a=t.keepAspectRatio,o=mR(e),i=function(e,t){return t?{xCenter:t.xCenter*e.width,yCenter:t.yCenter*e.height,width:t.width*e.width,height:t.height*e.height,rotation:t.rotation}:{xCenter:.5*e.width,yCenter:.5*e.height,width:e.width,height:e.height,rotation:0}}(o,n),s=function(e,t,n){if(void 0===n&&(n=!1),!n)return{top:0,left:0,right:0,bottom:0};var r=t.height,a=t.width;yR(t,"targetSize"),yR(e,"roi");var o,i,s=r/a,u=e.height/e.width,c=0,l=0;return s>u?(o=e.width,i=e.width*s,l=(1-u/s)/2):(o=e.height/s,i=e.height,c=(1-s/u)/2),e.width=o,e.height=i,{top:l,left:c,right:c,bottom:l}}(i,r,a);return{imageTensor:Z_((function(){var t=gR(e),n=pN(function(e,t,n,r){yR(r,"inputResolution");var a=1/t.width,o=1/t.height,i=e.xCenter,s=e.yCenter,u=Math.cos(e.rotation),c=Math.sin(e.rotation),l=e.width,d=e.height;return[1/r.width*l*u*1*a*t.width,1/r.height*-d*c*a*t.width,(-.5*l*u*1+.5*d*c+i)*a*t.width,1/r.width*l*c*1*o*t.height,1/r.height*d*u*o*t.height,(-.5*d*u-.5*l*c*1+s)*o*t.height,0,0]}(i,o,0,r),[1,8]);return dI.transform(aC(sS(t,"float32")),n,"bilinear","nearest",0,[r.height,r.width])})),padding:s}}function xR(e){return null!=e&&null!=e.currentTime}var wR=function(){function e(e){this.alpha=e,this.initialized=!1}return e.prototype.apply=function(e,t){var n;return this.initialized?n=null==t?this.storedValue+this.alpha*(e-this.storedValue):this.storedValue+this.alpha*t*Math.asinh((e-this.storedValue)/t):(n=e,this.initialized=!0),this.rawValue=e,this.storedValue=n,n},e.prototype.applyWithAlpha=function(e,t,n){return this.alpha=t,this.apply(e,n)},e.prototype.hasLastRawValue=function(){return this.initialized},e.prototype.lastRawValue=function(){return this.rawValue},e.prototype.reset=function(){this.initialized=!1},e}(),kR=function(){function e(e){this.frequency=e.frequency,this.minCutOff=e.minCutOff,this.beta=e.beta,this.thresholdCutOff=e.thresholdCutOff,this.thresholdBeta=e.thresholdBeta,this.derivateCutOff=e.derivateCutOff,this.x=new wR(this.getAlpha(this.minCutOff)),this.dx=new wR(this.getAlpha(this.derivateCutOff)),this.lastTimestamp=0}return e.prototype.apply=function(e,t,n){if(null==e)return e;var r=Math.trunc(t);if(this.lastTimestamp>=r)return e;0!==this.lastTimestamp&&0!==r&&(this.frequency=1/(1e-6*(r-this.lastTimestamp))),this.lastTimestamp=r;var a=this.x.hasLastRawValue()?(e-this.x.lastRawValue())*n*this.frequency:0,o=this.dx.applyWithAlpha(a,this.getAlpha(this.derivateCutOff)),i=this.minCutOff+this.beta*Math.abs(o),s=null!=this.thresholdCutOff?this.thresholdCutOff+this.thresholdBeta*Math.abs(o):null;return this.x.applyWithAlpha(e,this.getAlpha(i),s)},e.prototype.getAlpha=function(e){return 1/(1+this.frequency/(2*Math.PI*e))},e}(),SR=function(){function e(e){this.config=e}return e.prototype.apply=function(e,t,n){var r=this;if(null==e)return this.reset(),null;this.initializeFiltersIfEmpty(e);var a=1;if(!this.config.disableValueScaling){if(n<this.config.minAllowedObjectScale)return e.slice();a=1/n}return e.map((function(e,n){var o=rR({},e,{x:r.xFilters[n].apply(e.x,t,a),y:r.yFilters[n].apply(e.y,t,a)});return null!=e.z&&(o.z=r.zFilters[n].apply(e.z,t,a)),o}))},e.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},e.prototype.initializeFiltersIfEmpty=function(e){var t=this;null!=this.xFilters&&this.xFilters.length===e.length||(this.xFilters=e.map((function(e){return new kR(t.config)})),this.yFilters=e.map((function(e){return new kR(t.config)})),this.zFilters=e.map((function(e){return new kR(t.config)})))},e}();function ER(e,t){return e.map((function(e){var n=rR({},e,{x:e.x/t.width,y:e.y/t.height});return null!=e.z&&(e.z=e.z/t.width),n}))}var CR=function(){function e(e){this.config=e,this.window=[],this.lowPassFilter=new wR(1),this.lastValue=0,this.lastValueScale=1,this.lastTimestamp=-1}return e.prototype.apply=function(e,t,n){if(null==e)return e;var r,a=Math.trunc(t);if(this.lastTimestamp>=a)return e;if(-1===this.lastTimestamp)r=1;else{for(var o=e*n-this.lastValue*this.lastValueScale,i=a-this.lastTimestamp,s=o,u=i,c=(1+this.window.length)*(1e6/30),l=0,d=this.window;l<d.length;l++){var p=d[l];if(u+p.duration>c)break;s+=p.distance,u+=p.duration}var f=s/(1e-6*u);r=1-1/(1+this.config.velocityScale*Math.abs(f)),this.window.unshift({distance:o,duration:i}),this.window.length>this.config.windowSize&&this.window.pop()}return this.lastValue=e,this.lastValueScale=n,this.lastTimestamp=a,this.lowPassFilter.applyWithAlpha(e,r)},e}(),TR=function(){function e(e){this.config=e}return e.prototype.apply=function(e,t,n){var r=this;if(null==e)return this.reset(),null;var a=1;if(!this.config.disableValueScaling){if(n<this.config.minAllowedObjectScale)return e.slice();a=1/n}return this.initializeFiltersIfEmpty(e),e.map((function(e,n){var o=rR({},e,{x:r.xFilters[n].apply(e.x,t,a),y:r.yFilters[n].apply(e.y,t,a)});return null!=e.z&&(o.z=r.zFilters[n].apply(e.z,t,a)),o}))},e.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},e.prototype.initializeFiltersIfEmpty=function(e){var t=this;null!=this.xFilters&&this.xFilters.length===e.length||(this.xFilters=e.map((function(e){return new CR(t.config)})),this.yFilters=e.map((function(e){return new CR(t.config)})),this.zFilters=e.map((function(e){return new CR(t.config)})))},e}();function NR(e,t){return e.map((function(e){var n=rR({},e,{x:e.x*t.width,y:e.y*t.height});return null!=e.z&&(n.z=e.z*t.width),n}))}var _R=function(){function e(e){if(null!=e.velocityFilter)this.keypointsFilter=new TR(e.velocityFilter);else{if(null==e.oneEuroFilter)throw new Error("Either configure velocityFilter or oneEuroFilter, but got "+e+".");this.keypointsFilter=new SR(e.oneEuroFilter)}}return e.prototype.apply=function(e,t,n,r,a){if(void 0===r&&(r=!1),null==e)return this.keypointsFilter.reset(),null;var o=null!=a?function(e,t){return(e.width*t.width+e.height*t.height)/2}(a,n):1,i=r?NR(e,n):e,s=this.keypointsFilter.apply(i,t,o);return r?ER(s,n):s},e}();function IR(e,t){var n=function(e,t,n,r){var a=(r-n)/255;return{scale:a,offset:n-0*a}}(0,0,t[0],t[1]);return Z_((function(){return FS(fE(e,n.scale),n.offset)}))}function OR(e,t,n){var r=n.rotationVectorStartKeypointIndex,a=n.rotationVectorEndKeypointIndex,o=e.locationData,i=o.relativeKeypoints[r].x*t.width,s=o.relativeKeypoints[r].y*t.height,u=o.relativeKeypoints[a].x*t.width,c=o.relativeKeypoints[a].y*t.height,l=2*Math.sqrt((u-i)*(u-i)+(c-s)*(c-s)),d=function(e,t,n){var r,a=e.locationData,o=n.rotationVectorStartKeypointIndex,i=n.rotationVectorEndKeypointIndex;r=n.rotationVectorTargetAngle?n.rotationVectorTargetAngle:Math.PI*n.rotationVectorTargetAngleDegree/180;var s=a.relativeKeypoints[o].x*t.width,u=a.relativeKeypoints[o].y*t.height,c=a.relativeKeypoints[i].x*t.width,l=a.relativeKeypoints[i].y*t.height;return vR(r-Math.atan2(-(l-u),c-s))}(e,t,n);return{xCenter:i/t.width,yCenter:s/t.height,width:l/t.width,height:l/t.height,rotation:d}}function RR(e,t,n,r){return 1===r?.5*(e+t):e+(t-e)*n/(r-1)}function AR(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,i=0;i<e.length;++i){var s=e[i];n=Math.min(n,s.x),r=Math.max(r,s.x),a=Math.min(a,s.y),o=Math.max(o,s.y),t.locationData.relativeKeypoints.push({x:s.x,y:s.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:a,xMax:r,yMax:o,width:r-n,height:o-a},t}function MR(e,t,n,r){return aR(this,void 0,void 0,(function(){var a,o,i,s,u;return oR(this,(function(c){switch(c.label){case 0:return a=pN(e.map((function(e){return[e.locationData.relativeBoundingBox.yMin,e.locationData.relativeBoundingBox.xMin,e.locationData.relativeBoundingBox.yMax,e.locationData.relativeBoundingBox.xMax]}))),o=dN(e.map((function(e){return e.score[0]}))),[4,dI.nonMaxSuppressionAsync(a,o,t,n,r)];case 1:return[4,(i=c.sent()).array()];case 2:return s=c.sent(),u=e.filter((function(e,t){return s.indexOf(t)>-1})),j_([a,o,i]),[2,u]}}))}))}function DR(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w,k,S,E,C,T;return oR(this,(function(N){switch(N.label){case 0:if(r=iN(t,[0]),a=r.shape,o=a[0],i=a[1],s=a[2],e.length!==s)throw new Error("Expected heatmap to have same number of channels as the number of landmarks. But got landmarks length: "+e.length+", heatmap length: "+s);return u=[],[4,r.buffer()];case 1:for(c=N.sent(),l=0;l<e.length;l++)if(d=e[l],p=rR({},d),u.push(p),f=Math.trunc(p.x*i),h=Math.trunc(p.y*o),!(f<0||f>=i||h<0||f>=o)){for(m=Math.trunc((n.kernelSize-1)/2),v=Math.max(0,f-m),g=Math.min(i,f+m+1),y=Math.max(0,h-m),b=Math.min(o,h+m+1),x=0,w=0,k=0,S=0,E=y;E<b;++E)for(C=v;C<g;++C)T=c.get(E,C,l),x+=T,S=Math.max(S,T),w+=C*T,k+=E*T;S>=n.minConfidenceToRefine&&x>0&&(p.x=w/i/x,p.y=k/o/x)}return r.dispose(),[2,u]}}))}))}function PR(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s;return oR(this,(function(u){switch(u.label){case 0:return r=e[0],a=e[1],o=function(e,t,n){return Z_((function(){var r,a,o,i;n.reverseOutputOrder?(a=iN(mE(e,[0,n.boxCoordOffset+0],[-1,1])),r=iN(mE(e,[0,n.boxCoordOffset+1],[-1,1])),i=iN(mE(e,[0,n.boxCoordOffset+2],[-1,1])),o=iN(mE(e,[0,n.boxCoordOffset+3],[-1,1]))):(r=iN(mE(e,[0,n.boxCoordOffset+0],[-1,1])),a=iN(mE(e,[0,n.boxCoordOffset+1],[-1,1])),o=iN(mE(e,[0,n.boxCoordOffset+2],[-1,1])),i=iN(mE(e,[0,n.boxCoordOffset+3],[-1,1]))),a=FS(fE(QE(a,n.xScale),t.w),t.x),r=FS(fE(QE(r,n.yScale),t.h),t.y),n.applyExponentialOnBoxSize?(o=fE(rC(QE(o,n.hScale)),t.h),i=fE(rC(QE(i,n.wScale)),t.w)):(o=fE(QE(o,n.hScale),t.h),i=fE(QE(i,n.wScale),t.h));var s=IC(r,QE(o,2)),u=IC(a,QE(i,2)),c=FS(r,QE(o,2)),l=FS(a,QE(i,2)),d=dE([uE(s,[n.numBoxes,1]),uE(u,[n.numBoxes,1]),uE(c,[n.numBoxes,1]),uE(l,[n.numBoxes,1])],1);if(n.numKeypoints)for(var p=0;p<n.numKeypoints;++p){var f=n.keypointCoordOffset+p*n.numValuesPerKeypoint,h=void 0,m=void 0;n.reverseOutputOrder?(h=iN(mE(e,[0,f],[-1,1])),m=iN(mE(e,[0,f+1],[-1,1]))):(m=iN(mE(e,[0,f],[-1,1])),h=iN(mE(e,[0,f+1],[-1,1])));var v=FS(fE(QE(h,n.xScale),t.w),t.x),g=FS(fE(QE(m,n.yScale),t.h),t.y);d=dE([d,uE(v,[n.numBoxes,1]),uE(g,[n.numBoxes,1])],1)}return d}))}(a,t,n),i=Z_((function(){var e=r;return n.sigmoidScore?(null!=n.scoreClippingThresh&&(e=NE(r,-n.scoreClippingThresh,n.scoreClippingThresh)),e=hE(e)):e})),[4,FR(o,i,n)];case 1:return s=u.sent(),j_([o,i]),[2,s]}}))}))}function FR(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p,f,h;return oR(this,(function(m){switch(m.label){case 0:return r=[],[4,e.data()];case 1:return a=m.sent(),[4,t.data()];case 2:for(o=m.sent(),i=0;i<n.numBoxes;++i)if(!(null!=n.minScoreThresh&&o[i]<n.minScoreThresh||(s=i*n.numCoords,u=LR(a[s+0],a[s+1],a[s+2],a[s+3],o[i],n.flipVertically,i),(c=u.locationData.relativeBoundingBox).width<0||c.height<0))){if(n.numKeypoints>0)for((l=u.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,p=0;p<d;p+=n.numValuesPerKeypoint)f=s+n.keypointCoordOffset+p,h={x:a[f+0],y:n.flipVertically?1-a[f+1]:a[f+1]},l.relativeKeypoints.push(h);r.push(u)}return[2,r]}}))}))}function LR(e,t,n,r,a,o,i){return{score:[a],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}function ZR(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),aR(this,void 0,void 0,(function(){var a,o,i,s,u,c,l,d;return oR(this,(function(p){switch(p.label){case 0:return a=e.size,o=a/t.numLandmarks,[4,e.data()];case 1:for(i=p.sent(),s=[],u=0;u<t.numLandmarks;++u)c=u*o,(d={x:0,y:0}).x=n?t.inputImageWidth-i[c]:i[c],o>1&&(d.y=r?t.inputImageHeight-i[c+1]:i[c+1]),o>2&&(d.z=i[c+2]),o>3&&(d.score=(f=i[c+3],1/(1+Math.exp(-f)))),s.push(d);for(l=0;l<s.length;++l)(d=s[l]).x=d.x/t.inputImageWidth,d.y=d.y/t.inputImageHeight,d.z=d.z/t.inputImageWidth/(t.normalizeZ||1);return[2,s]}var f}))}))}function jR(e,t,n){var r=e.width,a=e.height,o=e.rotation;if(null==n.rotation&&null==n.rotationDegree||(o=function(e,t){return null!=t.rotation?e+=t.rotation:null!=t.rotationDegree&&(e+=Math.PI*t.rotationDegree/180),vR(e)}(o,n)),0===o)e.xCenter=e.xCenter+r*n.shiftX,e.yCenter=e.yCenter+a*n.shiftY;else{var i=(t.width*r*n.shiftX*Math.cos(o)-t.height*a*n.shiftY*Math.sin(o))/t.width,s=(t.width*r*n.shiftX*Math.sin(o)+t.height*a*n.shiftY*Math.cos(o))/t.height;e.xCenter=e.xCenter+i,e.yCenter=e.yCenter+s}if(n.squareLong){var u=Math.max(r*t.width,a*t.height);r=u/t.width,a=u/t.height}else if(n.squareShort){var c=Math.min(r*t.width,a*t.height);r=c/t.width,a=c/t.height}return e.width=r*n.scaleX,e.height=a*n.scaleY,e}var BR=function(){function e(e){this.alpha=e.alpha}return e.prototype.apply=function(e){var t=this;if(null==e)return this.visibilityFilters=null,null;null!=this.visibilityFilters&&this.visibilityFilters.length===e.length||(this.visibilityFilters=e.map((function(e){return new wR(t.alpha)})));for(var n=[],r=0;r<e.length;++r){var a=e[r],o=rR({},a);o.score=this.visibilityFilters[r].apply(a.score),n.push(o)}return n},e}(),VR={reduceBoxesInLowestlayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:5,minScale:.1484375,maxScale:.75,inputSizeHeight:224,inputSizeWidth:224,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,32,32,32],aspectRatios:[1],fixedAnchorSize:!0},zR={runtime:"tfjs",modelType:"full",enableSmoothing:!0,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/detector/1",landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1"},UR={maxPoses:1,flipHorizontal:!1},WR={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2254,numCoords:12,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:4,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:224,yScale:224,hScale:224,wScale:224,minScoreThresh:.5},qR={shiftX:0,shiftY:0,scaleX:1.25,scaleY:1.25,squareLong:!0},GR={inputResolution:{width:224,height:224},keepAspectRatio:!0},HR={inputResolution:{width:256,height:256},keepAspectRatio:!0},QR={numLandmarks:39,inputImageWidth:256,inputImageHeight:256},KR={numLandmarks:39,inputImageWidth:1,inputImageHeight:1},XR={kernelSize:7,minConfidenceToRefine:.5},YR={alpha:.1},$R={oneEuroFilter:{frequency:30,minCutOff:.05,beta:80,derivateCutOff:1,minAllowedObjectScale:1e-6}},JR={oneEuroFilter:{frequency:30,minCutOff:.01,beta:10,derivateCutOff:1,minAllowedObjectScale:1e-6}},eA={oneEuroFilter:{frequency:30,minCutOff:.1,beta:40,derivateCutOff:1,minAllowedObjectScale:1e-6,disableValueScaling:!0}},tA=function(){function e(e,t,n,r){this.detectorModel=e,this.landmarkModel=t,this.enableSmoothing=n,this.modelType=r,this.regionOfInterest=null,this.anchors=function(e){for(var t=[],n=0;n<e.numLayers;){for(var r=[],a=[],o=[],i=[],s=n;s<e.strides.length&&e.strides[s]===e.strides[n];){var u=RR(e.minScale,e.maxScale,s,e.strides.length);if(0===s&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(u),i.push(u);else{for(var c=0;c<e.aspectRatios.length;++c)o.push(e.aspectRatios[c]),i.push(u);if(e.interpolatedScaleAspectRatio>0){var l=s===e.strides.length-1?1:RR(e.minScale,e.maxScale,s+1,e.strides.length);i.push(Math.sqrt(u*l)),o.push(e.interpolatedScaleAspectRatio)}}s++}for(var d=0;d<o.length;++d){var p=Math.sqrt(o[d]);r.push(i[d]/p),a.push(i[d]*p)}var f=0,h=0;if(e.featureMapHeight.length>0)f=e.featureMapHeight[n],h=e.featureMapWidth[n];else{var m=e.strides[n];f=Math.ceil(e.inputSizeHeight/m),h=Math.ceil(e.inputSizeWidth/m)}for(var v=0;v<f;++v)for(var g=0;g<h;++g)for(var y=0;y<r.length;++y){var b={xCenter:(g+e.anchorOffsetX)/h,yCenter:(v+e.anchorOffsetY)/f,width:0,height:0};e.fixedAnchorSize?(b.width=1,b.height=1):(b.width=a[y],b.height=r[y]),t.push(b)}n=s}return t}(VR);var a=dN(this.anchors.map((function(e){return e.width}))),o=dN(this.anchors.map((function(e){return e.height}))),i=dN(this.anchors.map((function(e){return e.xCenter}))),s=dN(this.anchors.map((function(e){return e.yCenter})));this.anchorTensor={x:i,y:s,w:a,h:o}}return e.prototype.estimatePoses=function(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x;return oR(this,(function(w){switch(w.label){case 0:return r=function(e){var t;if(null==(t=null==e?UR:rR({},e)).maxPoses&&(t.maxPoses=1),t.maxPoses<=0)throw new Error("Invalid maxPoses "+t.maxPoses+". Should be > 0.");if(t.maxPoses>1)throw new Error("Multi-pose detection is not implemented yet. Please set maxPoses to 1.");return t}(t),null==e?(this.reset(),[2,[]]):(this.maxPoses=r.maxPoses,this.timestamp=null!=n?1e3*n:xR(e)?1e6*e.currentTime:null,a=mR(e),o=Z_((function(){return sS(gR(e),"float32")})),null!=(i=this.regionOfInterest)?[3,2]:[4,this.detectPose(o)]);case 1:if(0===(s=w.sent()).length)return this.reset(),o.dispose(),[2,[]];u=s[0],i=this.poseDetectionToRoi(u,a),w.label=2;case 2:return[4,this.poseLandmarksByRoi(i,o)];case 3:return c=w.sent(),o.dispose(),null==c?(this.reset(),[2,[]]):(l=c.actualLandmarks,d=c.auxiliaryLandmarks,p=c.poseScore,f=c.actualWorldLandmarks,h=this.poseLandmarkFiltering(l,d,f,a),m=h.actualLandmarksFiltered,v=h.auxiliaryLandmarksFiltered,g=h.actualWorldLandmarksFiltered,y=this.poseLandmarksToRoi(v,a),this.regionOfInterest=y,null!=(b=null!=m?NR(m,a):null)&&b.forEach((function(e,t){e.name=sR[t]})),null!=(x=g)&&x.forEach((function(e,t){e.name=sR[t]})),[2,[{score:p,keypoints:b,keypoints3D:x}]])}}))}))},e.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),j_([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){this.regionOfInterest=null,this.visibilitySmoothingFilterActual=null,this.visibilitySmoothingFilterAuxiliary=null,this.landmarksSmoothingFilterActual=null,this.landmarksSmoothingFilterAuxiliary=null},e.prototype.detectPose=function(e){return aR(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c;return oR(this,(function(l){switch(l.label){case 0:return t=bR(e,GR),n=t.imageTensor,r=t.padding,a=IR(n,[-1,1]),o=function(e,t){return Z_((function(){var n=function(e){return Z_((function(){var t=mE(e,[0,0,0],[1,-1,1]);return[hE(t),mE(e,[0,0,1],[1,-1,-1])]}))}(t.predict(e)),r=n[0],a=n[1];return{boxes:iN(a),scores:iN(r)}}))}(a,this.detectorModel),i=o.boxes,[4,PR([s=o.scores,i],this.anchorTensor,WR)];case 1:return[4,MR(l.sent(),this.maxPoses,.3,-1)];case 2:return u=l.sent(),c=function(e,t){void 0===e&&(e=[]);for(var n=t.left,r=t.top,a=t.left+t.right,o=t.top+t.bottom,i=0;i<e.length;i++){var s=e[i],u=s.locationData.relativeBoundingBox,c=(u.xMin-n)/(1-a),l=(u.yMin-r)/(1-o),d=u.width/(1-a),p=u.height/(1-o);u.xMin=c,u.yMin=l,u.width=d,u.height=p;for(var f=0;f<s.locationData.relativeKeypoints.length;++f){var h=s.locationData.relativeKeypoints[f],m=(h.x-n)/(1-a),v=(h.y-r)/(1-o);h.x=m,h.y=v}}return e}(u,r),j_([n,a,s,i]),[2,c]}}))}))},e.prototype.poseDetectionToRoi=function(e,t){return jR(OR(e,t,{rotationVectorEndKeypointIndex:1,rotationVectorStartKeypointIndex:0,rotationVectorTargetAngleDegree:90}),t,qR)},e.prototype.poseLandmarksByRoi=function(e,t){return aR(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w;return oR(this,(function(k){switch(k.label){case 0:if(n=bR(t,HR,e),r=n.imageTensor,a=n.padding,o=IR(r,[0,1]),"lite"!==this.modelType&&"full"!==this.modelType&&"heavy"!==this.modelType)throw new Error("Model type must be one of lite, full or heavy,but got "+this.modelType);return i=this.landmarkModel.execute(o,["ld_3d","output_poseflag","activation_heatmap","world_3d"]),s=i[0],u=i[1],c=i[2],l=i[3],[4,u.data()];case 1:return(d=k.sent()[0])<.5?(j_(i),j_([r,o]),[2,null]):[4,ZR(s,QR)];case 2:return[4,DR(p=k.sent(),c,XR)];case 3:return f=k.sent(),h=function(e,t){var n=t.left,r=t.top,a=t.left+t.right,o=t.top+t.bottom;return e.map((function(e){return rR({},e,{x:(e.x-n)/(1-a),y:(e.y-r)/(1-o),z:e.z/(1-a)})}))}(f,a),m=function(e,t,n){void 0===n&&(n={ignoreRotation:!1});for(var r=[],a=0,o=e;a<o.length;a++){var i=o[a],s=i.x-.5,u=i.y-.5,c=n.ignoreRotation?0:t.rotation,l=Math.cos(c)*s-Math.sin(c)*u,d=Math.sin(c)*s+Math.cos(c)*u;l=l*t.width+t.xCenter,d=d*t.height+t.yCenter;var p=i.z*t.width,f=rR({},i);f.x=l,f.y=d,f.z=p,r.push(f)}return r}(h,e),v=m.slice(0,33),g=m.slice(33,35),[4,ZR(l,KR)];case 4:return y=k.sent(),b=function(e,t,n){void 0===n&&(n=!0);for(var r=[],a=0;a<e.length;a++){var o=rR({},t[a]);n&&(o.score=e[a].score),r.push(o)}return r}(p,y,!0),x=function(e,t){for(var n=[],r=0,a=e;r<a.length;r++){var o=a[r],i=o.x,s=o.y,u=t.rotation,c=Math.cos(u)*i-Math.sin(u)*s,l=Math.sin(u)*i+Math.cos(u)*s,d=rR({},o);d.x=c,d.y=l,n.push(d)}return n}(b,e),w=x.slice(0,33),j_(i),j_([r,o]),[2,{actualLandmarks:v,auxiliaryLandmarks:g,poseScore:d,actualWorldLandmarks:w}]}}))}))},e.prototype.poseLandmarksToRoi=function(e,t){return jR(OR(AR(e),t,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:90}),t,qR)},e.prototype.poseLandmarkFiltering=function(e,t,n,r){var a,o,i;if(null!=this.timestamp&&this.enableSmoothing){var s=OR(AR(t),r,{rotationVectorEndKeypointIndex:0,rotationVectorStartKeypointIndex:1,rotationVectorTargetAngleDegree:90});null==this.visibilitySmoothingFilterActual&&(this.visibilitySmoothingFilterActual=new BR(YR)),a=this.visibilitySmoothingFilterActual.apply(e),null==this.visibilitySmoothingFilterAuxiliary&&(this.visibilitySmoothingFilterAuxiliary=new BR(YR)),o=this.visibilitySmoothingFilterAuxiliary.apply(t),i=this.visibilitySmoothingFilterActual.apply(n),null==this.landmarksSmoothingFilterActual&&(this.landmarksSmoothingFilterActual=new _R($R)),a=this.landmarksSmoothingFilterActual.apply(a,this.timestamp,r,!0,s),null==this.landmarksSmoothingFilterAuxiliary&&(this.landmarksSmoothingFilterAuxiliary=new _R(JR)),o=this.landmarksSmoothingFilterAuxiliary.apply(o,this.timestamp,r,!0,s),null==this.worldLandmarksSmoothingFilterActual&&(this.worldLandmarksSmoothingFilterActual=new _R(eA)),i=this.worldLandmarksSmoothingFilterActual.apply(n,this.timestamp)}else a=e,o=t,i=n;return{actualLandmarksFiltered:a,auxiliaryLandmarksFiltered:o,actualWorldLandmarksFiltered:i}},e}();function nA(e){return aR(this,void 0,void 0,(function(){var t,n,r,a,o,i;return oR(this,(function(s){switch(s.label){case 0:return t=function(e){var t=rR({},null==e?zR:e);if(null==t.enableSmoothing&&(t.enableSmoothing=zR.enableSmoothing),null==t.modelType&&(t.modelType=zR.modelType),null==t.detectorModelUrl&&(t.detectorModelUrl=zR.detectorModelUrl),null==t.landmarkModelUrl)switch(t.modelType){case"lite":t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/lite/1";break;case"heavy":t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/heavy/1";break;default:t.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/1"}return t}(e),n=t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,r=t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Promise.all([JO(t.detectorModelUrl,{fromTFHub:n}),JO(t.landmarkModelUrl,{fromTFHub:r})])];case 1:return a=s.sent(),o=a[0],i=a[1],[2,new tA(o,i,t.enableSmoothing,t.modelType)]}}))}))}var rA,aA,oA,iA=function(){function e(e){!function(e){if(e.maxTracks<1)throw new Error("Must specify 'maxTracks' to be at least 1, but encountered "+e.maxTracks);if(e.maxAge<=0)throw new Error("Must specify 'maxAge' to be positive, but encountered "+e.maxAge);if(void 0!==e.keypointTrackerParams){if(e.keypointTrackerParams.keypointConfidenceThreshold<0||e.keypointTrackerParams.keypointConfidenceThreshold>1)throw new Error("Must specify 'keypointConfidenceThreshold' to be in the range [0, 1], but encountered "+e.keypointTrackerParams.keypointConfidenceThreshold);if(e.keypointTrackerParams.minNumberOfKeypoints<1)throw new Error("Must specify 'minNumberOfKeypoints' to be at least 1, but encountered "+e.keypointTrackerParams.minNumberOfKeypoints);for(var t=0,n=e.keypointTrackerParams.keypointFalloff;t<n.length;t++){var r=n[t];if(r<=0)throw new Error("Must specify each keypoint falloff parameterto be positive but encountered "+r)}}}(e),this.tracks=[],this.maxTracks=e.maxTracks,this.maxAge=1e3*e.maxAge,this.minSimilarity=e.minSimilarity,this.nextID=1}return e.prototype.apply=function(e,t){this.filterOldTracks(t);var n=this.computeSimilarity(e);return this.assignTracks(e,n,t),this.updateTracks(t),e},e.prototype.getTracks=function(){return this.tracks.slice()},e.prototype.getTrackIDs=function(){return new Set(this.tracks.map((function(e){return e.id})))},e.prototype.filterOldTracks=function(e){var t=this;this.tracks=this.tracks.filter((function(n){return e-n.lastTimestamp<=t.maxAge}))},e.prototype.assignTracks=function(e,t,n){for(var r=Array.from(Array(t[0].length).keys()),a=[],o=0,i=Array.from(Array(e.length).keys());o<i.length;o++){var s=i[o];if(0!==r.length){for(var u=-1,c=-1,l=0,d=r;l<d.length;l++){var p=d[l],f=t[s][p];f>=this.minSimilarity&&f>c&&(u=p,c=f)}if(u>=0){var h=this.tracks[u];h=Object.assign(h,this.createTrack(e[s],n,h.id)),e[s].id=h.id;var m=r.indexOf(u);r.splice(m,1)}else a.push(s)}else a.push(s)}for(var v=0,g=a;v<g.length;v++){s=g[v];var y=this.createTrack(e[s],n);this.tracks.push(y),e[s].id=y.id}},e.prototype.updateTracks=function(e){this.tracks.sort((function(e,t){return t.lastTimestamp-e.lastTimestamp})),this.tracks=this.tracks.slice(0,this.maxTracks)},e.prototype.createTrack=function(e,t,n){var r={id:n||this.nextTrackID(),lastTimestamp:t,keypoints:e.keypoints.slice().map((function(e){return rR({},e)}))};return void 0!==e.box&&(r.box=rR({},e.box)),r},e.prototype.nextTrackID=function(){var e=this.nextID;return this.nextID+=1,e},e.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.tracks=this.tracks.filter((function(t){return!e.includes(t.id)}))},e.prototype.reset=function(){this.tracks=[]},e}(),sA=function(e){function t(t){return e.call(this,t)||this}return nR(t,e),t.prototype.computeSimilarity=function(e){var t=this;return 0===e.length||0===this.tracks.length?[[]]:e.map((function(e){return t.tracks.map((function(n){return t.iou(e,n)}))}))},t.prototype.iou=function(e,t){var n=Math.max(e.box.xMin,t.box.xMin),r=Math.max(e.box.yMin,t.box.yMin),a=Math.min(e.box.xMax,t.box.xMax),o=Math.min(e.box.yMax,t.box.yMax);if(n>=a||r>=o)return 0;var i=(a-n)*(o-r);return i/(e.box.width*e.box.height+t.box.width*t.box.height-i)},t}(iA),uA=function(e){function t(t){var n=e.call(this,t)||this;return n.keypointThreshold=t.keypointTrackerParams.keypointConfidenceThreshold,n.keypointFalloff=t.keypointTrackerParams.keypointFalloff,n.minNumKeyoints=t.keypointTrackerParams.minNumberOfKeypoints,n}return nR(t,e),t.prototype.computeSimilarity=function(e){if(0===e.length||0===this.tracks.length)return[[]];for(var t=[],n=0,r=e;n<r.length;n++){for(var a=r[n],o=[],i=0,s=this.tracks;i<s.length;i++){var u=s[i];o.push(this.oks(a,u))}t.push(o)}return t},t.prototype.oks=function(e,t){for(var n=this.area(t.keypoints)+1e-6,r=0,a=0,o=0;o<e.keypoints.length;++o){var i=e.keypoints[o],s=t.keypoints[o];if(!(i.score<this.keypointThreshold||s.score<this.keypointThreshold)){a+=1;var u=Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2),c=2*this.keypointFalloff[o];r+=Math.exp(-1*u/(2*n*Math.pow(c,2)))}}return a<this.minNumKeyoints?0:r/a},t.prototype.area=function(e){var t=this,n=e.filter((function(e){return e.score>t.keypointThreshold})),r=Math.min.apply(Math,[1].concat(n.map((function(e){return e.x})))),a=Math.max.apply(Math,[0].concat(n.map((function(e){return e.x})))),o=Math.min.apply(Math,[1].concat(n.map((function(e){return e.y}))));return(a-r)*(Math.max.apply(Math,[0].concat(n.map((function(e){return e.y}))))-o)},t}(iA);function cA(e){switch(e){case aA.BlazePose:return sR.reduce((function(e,t,n){return e[t]=n,e}),{});case aA.PoseNet:case aA.MoveNet:return iR.reduce((function(e,t,n){return e[t]=n,e}),{});default:throw new Error("Model "+e+" is not supported.")}}(oA=rA||(rA={})).Keypoint="keypoint",oA.BoundingBox="boundingBox",function(e){e.MoveNet="MoveNet",e.BlazePose="BlazePose",e.PoseNet="PoseNet"}(aA||(aA={}));Object.freeze({__proto__:null,getKeypointIndexBySide:function(e){switch(e){case aA.BlazePose:return uR;case aA.PoseNet:case aA.MoveNet:return cR;default:throw new Error("Model "+e+" is not supported.")}},getAdjacentPairs:function(e){switch(e){case aA.BlazePose:return dR;case aA.PoseNet:case aA.MoveNet:return lR;default:throw new Error("Model "+e+" is not supported.")}},getKeypointIndexByName:cA});var lA=["SinglePose.Lightning","SinglePose.Thunder","MultiPose.Lightning"],dA={modelType:"SinglePose.Lightning",enableSmoothing:!0},pA={},fA={frequency:30,minCutOff:2.5,beta:300,derivateCutOff:2.5,thresholdCutOff:.5,thresholdBeta:5,disableValueScaling:!0},hA={maxTracks:18,maxAge:1e3,minSimilarity:.2,keypointTrackerParams:{keypointConfidenceThreshold:.3,keypointFalloff:[.026,.025,.025,.035,.035,.079,.079,.072,.072,.062,.062,.107,.107,.087,.087,.089,.089],minNumberOfKeypoints:4}},mA={maxTracks:18,maxAge:1e3,minSimilarity:.15,trackerParams:{}};function vA(e,t){var n,r,a,o;return e?t.width>t.height?(n=1,r=t.height/t.width,a=0,o=(t.width/2-t.height/2)/t.width):(n=t.width/t.height,r=1,a=(t.height/2-t.width/2)/t.height,o=0):t.width>t.height?(n=t.width/t.height,r=1,a=(t.height/2-t.width/2)/t.height,o=0):(n=1,r=t.height/t.width,a=0,o=(t.width/2-t.height/2)/t.width),{yMin:a,xMin:o,yMax:a+n,xMax:o+r,height:n,width:r}}function gA(e,t){var n={maxTracks:e.maxTracks,maxAge:e.maxAge,minSimilarity:e.minSimilarity};return null!=t.maxTracks&&(n.maxTracks=t.maxTracks),null!=t.maxAge&&(n.maxAge=t.maxAge),null!=t.minSimilarity&&(n.minSimilarity=t.minSimilarity),n}var yA=function(){function e(e,t){this.moveNetModel=e,this.modelInputResolution={height:0,width:0},this.keypointIndexByName=cA(aA.MoveNet),"SinglePose.Lightning"===t.modelType?(this.modelInputResolution.width=192,this.modelInputResolution.height=192):"SinglePose.Thunder"===t.modelType&&(this.modelInputResolution.width=256,this.modelInputResolution.height=256),this.multiPoseModel="MultiPose.Lightning"===t.modelType,this.multiPoseModel||(this.keypointFilter=new SR(fA),this.cropRegionFilterYMin=new wR(.9),this.cropRegionFilterXMin=new wR(.9),this.cropRegionFilterYMax=new wR(.9),this.cropRegionFilterXMax=new wR(.9)),this.enableSmoothing=t.enableSmoothing,t.minPoseScore?this.minPoseScore=t.minPoseScore:this.minPoseScore=.25,t.multiPoseMaxDimension?this.multiPoseMaxDimension=t.multiPoseMaxDimension:this.multiPoseMaxDimension=256,this.enableTracking=t.enableTracking,this.multiPoseModel&&this.enableTracking&&(t.trackerType===rA.Keypoint?this.tracker=new uA(t.trackerConfig):t.trackerType===rA.BoundingBox&&(this.tracker=new sA(t.trackerConfig)),this.enableSmoothing&&(this.keypointFilterMap=new Map))}return e.prototype.runSinglePersonPoseModel=function(e){return aR(this,void 0,void 0,(function(){var t,n,r,a,o;return oR(this,(function(i){switch(i.label){case 0:if(4!==(t=this.moveNetModel.execute(e)).shape.length||1!==t.shape[0]||1!==t.shape[1]||17!==t.shape[2]||3!==t.shape[3])throw t.dispose(),new Error("Unexpected output shape from model: ["+t.shape+"]");return"webgpu"===V_()?[3,1]:(n=t.dataSync(),[3,3]);case 1:return[4,t.data()];case 2:n=i.sent(),i.label=3;case 3:for(t.dispose(),r={keypoints:[],score:0},a=0,o=0;o<17;++o)r.keypoints[o]={y:n[3*o],x:n[3*o+1],score:n[3*o+2]},r.keypoints[o].score>.2&&(++a,r.score+=r.keypoints[o].score);return a>0&&(r.score/=a),[2,r]}}))}))},e.prototype.runMultiPersonPoseModel=function(e){return aR(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u;return oR(this,(function(c){switch(c.label){case 0:if(3!==(t=this.moveNetModel.execute(e)).shape.length||1!==t.shape[0]||56!==t.shape[2])throw t.dispose(),new Error("Unexpected output shape from model: ["+t.shape+"]");return"webgpu"===V_()?[3,1]:(n=t.dataSync(),[3,3]);case 1:return[4,t.data()];case 2:n=c.sent(),c.label=3;case 3:for(t.dispose(),r=[],a=n.length/56,o=0;o<a;++o)for(r[o]={keypoints:[]},i=56*o+51,r[o].box={yMin:n[i],xMin:n[i+1],yMax:n[i+2],xMax:n[i+3],width:n[i+3]-n[i+1],height:n[i+2]-n[i]},s=56*o+55,r[o].score=n[s],r[o].keypoints=[],u=0;u<17;++u)r[o].keypoints[u]={y:n[56*o+3*u],x:n[56*o+3*u+1],score:n[56*o+3*u+2]};return[2,r]}}))}))},e.prototype.estimatePoses=function(e,t,n){return void 0===t&&(t=pA),aR(this,void 0,void 0,(function(){var r,a,o,i,s,u;return oR(this,(function(c){switch(c.label){case 0:return t=function(e){return null==e?pA:rR({},e)}(t),null==e?(this.reset(),[2,[]]):(null==n?xR(e)&&(n=1e6*e.currentTime):n*=1e3,r=gR(e),a=mR(r),o=aC(r,0),e instanceof jw||r.dispose(),i=[],this.multiPoseModel?[3,2]:[4,this.estimateSinglePose(o,a,n)]);case 1:return i=c.sent(),[3,4];case 2:return[4,this.estimateMultiplePoses(o,a,n)];case 3:i=c.sent(),c.label=4;case 4:for(s=0;s<i.length;++s)for(u=0;u<i[s].keypoints.length;++u)i[s].keypoints[u].name=iR[u],i[s].keypoints[u].y*=a.height,i[s].keypoints[u].x*=a.width;return[2,i]}}))}))},e.prototype.estimateSinglePose=function(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s=this;return oR(this,(function(u){switch(u.label){case 0:return this.cropRegion||(this.cropRegion=vA(null==this.cropRegion,t)),r=Z_((function(){var t=pN([[s.cropRegion.yMin,s.cropRegion.xMin,s.cropRegion.yMax,s.cropRegion.xMax]]),n=KC([1],"int32"),r=[s.modelInputResolution.height,s.modelInputResolution.width];return sS(dI.cropAndResize(e,t,n,r,"bilinear",0),"int32")})),e.dispose(),[4,this.runSinglePersonPoseModel(r)];case 1:if(a=u.sent(),r.dispose(),a.score<this.minPoseScore)return this.reset(),[2,[]];for(o=0;o<a.keypoints.length;++o)a.keypoints[o].y=this.cropRegion.yMin+a.keypoints[o].y*this.cropRegion.height,a.keypoints[o].x=this.cropRegion.xMin+a.keypoints[o].x*this.cropRegion.width;return null!=n&&this.enableSmoothing&&(a.keypoints=this.keypointFilter.apply(a.keypoints,n,1)),i=function(e,t,n,r){for(var a={},o=0,i=iR;o<i.length;o++){var s=i[o];a[s]=[t[n[s]].y*r.height,t[n[s]].x*r.width]}if(function(e,t){return(e[t.left_hip].score>.2||e[t.right_hip].score>.2)&&(e[t.left_shoulder].score>.2||e[t.right_shoulder].score>.2)}(t,n)){var u=(a.left_hip[0]+a.right_hip[0])/2,c=(a.left_hip[1]+a.right_hip[1])/2,l=function(e,t,n,r,a){for(var o=["left_shoulder","right_shoulder","left_hip","right_hip"],i=0,s=0,u=0;u<o.length;u++)(f=Math.abs(r-n[o[u]][0]))>i&&(i=f),(h=Math.abs(a-n[o[u]][1]))>s&&(s=h);for(var c=0,l=0,d=0,p=Object.keys(n);d<p.length;d++){var f,h,m=p[d];e[t[m]].score<.2||((f=Math.abs(r-n[m][0]))>c&&(c=f),(h=Math.abs(a-n[m][1]))>l&&(l=h))}return[i,s,c,l]}(t,n,a,u,c),d=l[0],p=l[1],f=l[2],h=l[3],m=Math.max(1.9*p,1.9*d,1.2*f,1.2*h),v=[u-(m=Math.min(m,Math.max(c,r.width-c,u,r.height-u))),c-m];if(m>Math.max(r.width,r.height)/2)return vA(null==e,r);var g=2*m;return{yMin:v[0]/r.height,xMin:v[1]/r.width,yMax:(v[0]+g)/r.height,xMax:(v[1]+g)/r.width,height:(v[0]+g)/r.height-v[0]/r.height,width:(v[1]+g)/r.width-v[1]/r.width}}return vA(null==e,r)}(this.cropRegion,a.keypoints,this.keypointIndexByName,t),this.cropRegion=this.filterCropRegion(i),[2,[a]]}}))}))},e.prototype.estimateMultiplePoses=function(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p,f,h=this;return oR(this,(function(m){switch(m.label){case 0:return t.width>t.height?(a=this.multiPoseMaxDimension,o=Math.round(this.multiPoseMaxDimension*t.height/t.width),r=dI.resizeBilinear(e,[o,a]),s=a,u=32*Math.ceil(o/32),i=lT(r,[[0,0],[0,u-o],[0,0],[0,0]])):(a=Math.round(this.multiPoseMaxDimension*t.width/t.height),o=this.multiPoseMaxDimension,r=dI.resizeBilinear(e,[o,a]),s=32*Math.ceil(a/32),u=o,i=lT(r,[[0,0],[0,0],[0,s-a],[0,0]])),r.dispose(),e.dispose(),c=sS(i,"int32"),i.dispose(),[4,this.runMultiPersonPoseModel(c)];case 1:for(l=m.sent(),c.dispose(),l=l.filter((function(e){return e.score>=h.minPoseScore})),p=0;p<l.length;++p)for(d=0;d<l[p].keypoints.length;++d)l[p].keypoints[d].y*=u/o,l[p].keypoints[d].x*=s/a;if(this.enableTracking&&(this.tracker.apply(l,n),this.enableSmoothing)){for(p=0;p<l.length;++p)this.keypointFilterMap.has(l[p].id)||this.keypointFilterMap.set(l[p].id,new SR(fA)),l[p].keypoints=this.keypointFilterMap.get(l[p].id).apply(l[p].keypoints,n,1);f=this.tracker.getTrackIDs(),this.keypointFilterMap.forEach((function(e,t){f.has(t)||h.keypointFilterMap.delete(t)}))}return[2,l]}}))}))},e.prototype.filterCropRegion=function(e){if(e){var t=this.cropRegionFilterYMin.apply(e.yMin),n=this.cropRegionFilterXMin.apply(e.xMin),r=this.cropRegionFilterYMax.apply(e.yMax),a=this.cropRegionFilterXMax.apply(e.xMax);return{yMin:t,xMin:n,yMax:r,xMax:a,height:r-t,width:a-n}}return this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset(),null},e.prototype.dispose=function(){this.moveNetModel.dispose()},e.prototype.reset=function(){this.cropRegion=null,this.resetFilters()},e.prototype.resetFilters=function(){this.keypointFilter.reset(),this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset()},e}();function bA(e){return void 0===e&&(e=dA),aR(this,void 0,void 0,(function(){var t,n,r,a;return oR(this,(function(o){switch(o.label){case 0:return t=function(e){var t,n=null==e?dA:rR({},e);if(null==n.modelType)n.modelType="SinglePose.Lightning";else if(lA.indexOf(n.modelType)<0)throw new Error("Invalid architecture "+n.modelType+". Should be one of "+lA);if(null==n.enableSmoothing&&(n.enableSmoothing=!0),null!=n.minPoseScore&&(n.minPoseScore<0||n.minPoseScore>1))throw new Error("minPoseScore should be between 0.0 and 1.0");if(null!=n.multiPoseMaxDimension&&(n.multiPoseMaxDimension%32!=0||n.multiPoseMaxDimension<128||n.multiPoseMaxDimension>512))throw new Error("multiPoseResolution must be a multiple of 32 and between 128 and 512");if("MultiPose.Lightning"===n.modelType&&null==n.enableTracking&&(n.enableTracking=!0),"MultiPose.Lightning"===n.modelType&&!0===n.enableTracking)if(null==n.trackerType&&(n.trackerType=rA.BoundingBox),n.trackerType===rA.Keypoint)null!=n.trackerConfig?n.trackerConfig=function(e){var t=gA(hA,e);return t.keypointTrackerParams=rR({},hA.keypointTrackerParams),null!=e.keypointTrackerParams&&(null!=e.keypointTrackerParams.keypointConfidenceThreshold&&(t.keypointTrackerParams.keypointConfidenceThreshold=e.keypointTrackerParams.keypointConfidenceThreshold),null!=e.keypointTrackerParams.keypointFalloff&&(t.keypointTrackerParams.keypointFalloff=e.keypointTrackerParams.keypointFalloff),null!=e.keypointTrackerParams.minNumberOfKeypoints&&(t.keypointTrackerParams.minNumberOfKeypoints=e.keypointTrackerParams.minNumberOfKeypoints)),t}(n.trackerConfig):n.trackerConfig=hA;else{if(n.trackerType!==rA.BoundingBox)throw new Error("Tracker type not supported by MoveNet");null!=n.trackerConfig?n.trackerConfig=(t=n.trackerConfig,gA(mA,t)):n.trackerConfig=mA}return n}(e),r=!0,t.modelUrl?(r=t.modelUrl.indexOf("https://tfhub.dev")>-1,[4,JO(t.modelUrl,{fromTFHub:r})]):[3,2];case 1:return n=o.sent(),[3,4];case 2:return a=void 0,"SinglePose.Lightning"===t.modelType?a="https://tfhub.dev/google/tfjs-model/movenet/singlepose/lightning/4":"SinglePose.Thunder"===t.modelType?a="https://tfhub.dev/google/tfjs-model/movenet/singlepose/thunder/4":"MultiPose.Lightning"===t.modelType&&(a="https://tfhub.dev/google/tfjs-model/movenet/multipose/lightning/1"),[4,JO(a,{fromTFHub:r})];case 3:n=o.sent(),o.label=4;case 4:return"webgl"===V_()&&ly().set("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",0),[2,new yA(n,t)]}}))}))}var xA={architecture:"MobileNetV1",outputStride:16,multiplier:.75,inputResolution:{height:257,width:257}},wA=["MobileNetV1","ResNet50"],kA={MobileNetV1:[8,16],ResNet50:[16]},SA=[8,16,32],EA={MobileNetV1:[.5,.75,1],ResNet50:[1]},CA=[1,2,4],TA={maxPoses:1,flipHorizontal:!1},NA={maxPoses:5,flipHorizontal:!1,scoreThreshold:.5,nmsRadius:20},_A=[-123.15,-115.9,-103.06];function IA(e){return Math.floor(e/2)}var OA=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(IA(e),e);)this.exchange(e,IA(e)),e=IA(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function RA(e,t,n,r,a,o){for(var i=o.shape,s=i[0],u=i[1],c=!0,l=Math.max(n-a,0),d=Math.min(n+a+1,s),p=l;p<d;++p){for(var f=Math.max(r-a,0),h=Math.min(r+a+1,u),m=f;m<h;++m)if(o.get(p,m,e)>t){c=!1;break}if(!c)break}return c}function AA(e){return aR(this,void 0,void 0,(function(){return oR(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function MA(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+17)}}function DA(e,t,n){var r=MA(e.heatmapY,e.heatmapX,e.id,n),a=r.y,o=r.x;return{x:e.heatmapX*t+o,y:e.heatmapY*t+a}}function PA(e,t,n,r){var a=n.x,o=n.y;return e.some((function(e){var n,i,s,u,c=e.keypoints;return n=o,i=a,(s=c[r].y-n)*s+(u=c[r].x-i)*u<=t}))}var FA=iR.reduce((function(e,t,n){return e[t]=n,e}),{}),LA=[["nose","left_eye"],["left_eye","left_ear"],["nose","right_eye"],["right_eye","right_ear"],["nose","left_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["left_shoulder","left_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["nose","right_shoulder"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["right_shoulder","right_hip"],["right_hip","right_knee"],["right_knee","right_ankle"]].map((function(e){var t=e[0],n=e[1];return[FA[t],FA[n]]})),ZA=LA.map((function(e){return e[1]})),jA=LA.map((function(e){return e[0]}));function BA(e,t,n){return e<t?t:e>n?n:e}function VA(e,t,n,r){return{y:BA(Math.round(e.y/t),0,n-1),x:BA(Math.round(e.x/t),0,r-1)}}function zA(e,t){return{x:e.x+t.x,y:e.y+t.y}}function UA(e,t,n,r,a,o,i,s){void 0===s&&(s=2);for(var u=r.shape,c=u[0],l=u[1],d={y:t.y,x:t.x},p=zA(d,function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,VA(d,o,c,l),i)),f=0;f<s;f++){var h=VA(p,o,c,l),m=MA(h.y,h.x,n,a);p=zA({x:h.x*o,y:h.y*o},{x:m.x,y:m.y})}var v=VA(p,o,c,l),g=r.get(v.y,v.x,n);return{y:p.y,x:p.x,name:iR[n],score:g}}function WA(e,t,n,r,a,o){var i=t.shape[2],s=ZA.length,u=new Array(i),c=e.part,l=e.score,d=DA(c,r,n);u[c.id]={score:l,name:iR[c.id],y:d.y,x:d.x};for(var p=s-1;p>=0;--p){var f=ZA[p],h=jA[p];u[f]&&!u[h]&&(u[h]=UA(p,u[f],h,t,n,r,o))}for(p=0;p<s;++p)f=jA[p],h=ZA[p],u[f]&&!u[h]&&(u[h]=UA(p,u[f],h,t,n,r,a));return u}function qA(e,t,n){return n.reduce((function(n,r,a){var o=r.y,i=r.x,s=r.score;return PA(e,t,{y:o,x:i},a)||(n+=s),n}),0)/n.length}function GA(e,t,n,r,a,o,i,s){return void 0===i&&(i=.5),void 0===s&&(s=20),aR(this,void 0,void 0,(function(){var u,c,l,d,p,f,h,m,v,g,y,b;return oR(this,(function(x){switch(x.label){case 0:return[4,AA([e,t,n,r])];case 1:for(u=x.sent(),c=u[0],l=u[1],d=u[2],p=u[3],f=[],h=function(e,t,n){for(var r=n.shape,a=r[0],o=r[1],i=r[2],s=new OA(a*o*i,(function(e){return e.score})),u=0;u<a;++u)for(var c=0;c<o;++c)for(var l=0;l<i;++l){var d=n.get(u,c,l);d<e||RA(l,d,u,c,1,n)&&s.enqueue({score:d,part:{heatmapY:u,heatmapX:c,id:l}})}return s}(i,0,c),m=s*s;f.length<o&&!h.empty();)v=h.dequeue(),g=DA(v.part,a,l),PA(f,m,g,v.part.id)||(y=WA(v,c,l,a,d,p),b=qA(f,m,y),f.push({keypoints:y,score:b}));return[2,f]}}))}))}function HA(e,t,n){return Z_((function(){var r=function(e,t){for(var n=[],r=0;r<iR.length;r++){var a=QA(e.get(r,0).valueOf(),e.get(r,1).valueOf(),r,t),o=a.x,i=a.y;n.push(i),n.push(o)}return pN(n,[iR.length,2])}(e,n);return FS(sS(fE(e.toTensor(),BT(t,"int32")),"float32"),r)}))}function QA(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+iR.length)}}function KA(e,t,n){return aR(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p;return oR(this,(function(f){switch(f.label){case 0:return r=0,a=function(e){var t=e.shape,n=t[0],r=t[1],a=t[2];return Z_((function(){var t,o,i=uE(e,[n*r,a]),s=BS(i,0),u=aC(QE(s,BT(r,"int32")),1),c=aC((t=s,o=r,Z_((function(){var e=QE(t,BT(o,"int32"));return IC(t,fE(e,BT(o,"int32")))}))),1);return dE([u,c],1)}))}(e),[4,Promise.all([e.buffer(),t.buffer(),a.buffer()])];case 1:return o=f.sent(),i=o[0],s=o[1],u=o[2],[4,(c=HA(u,n,s)).buffer()];case 2:return l=f.sent(),d=Array.from(function(e,t){for(var n=t.shape[0],r=new Float32Array(n),a=0;a<n;a++){var o=t.get(a,0),i=t.get(a,1);r[a]=e.get(o,i,a)}return r}(i,u)),p=d.map((function(e,t){return r+=e,{y:l.get(t,0),x:l.get(t,1),score:e,name:iR[t]}})),a.dispose(),c.dispose(),[2,{keypoints:p,score:r/p.length}]}}))}))}function XA(e,t){return(e-1)%t==0}var YA="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/",$A="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/";function JA(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var eM=function(){function e(e,t){this.posenetModel=e;var n=this.posenetModel.inputs[0].shape;Og(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}));var r,a,o=(r=t.inputResolution,a=t.outputStride,{height:JA(r.height,a),width:JA(r.width,a)});!function(e){Og(SA.indexOf(e)>=0,(function(){return"outputStride of "+e+" is invalid. It must be either 8 or 16."}))}(t.outputStride),function(e,t){Og(XA(e.height,t),(function(){return"height of "+e.height+" is invalid for output stride "+t+"."})),Og(XA(e.width,t),(function(){return"width of "+e.width+" is invalid for output stride "+t+"."}))}(o,t.outputStride),this.inputResolution=o,this.outputStride=t.outputStride,this.architecture=t.architecture}return e.prototype.estimatePoses=function(e,t){return void 0===t&&(t=TA),aR(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,c,l,d,p,f,h,m,v;return oR(this,(function(g){switch(g.label){case 0:return n=function(e){var t=e;if(null==t.maxPoses&&(t.maxPoses=1),t.maxPoses<=0)throw new Error("Invalid maxPoses "+t.maxPoses+". Should be > 0.");if(t.maxPoses>1){if((t=rR({},NA,t)).scoreThreshold<0||t.scoreThreshold>1)throw new Error("Invalid scoreThreshold "+t.scoreThreshold+". Should be in range [0.0, 1.0]");if(t.nmsRadius<=0)throw new Error("Invalid nmsRadius "+t.nmsRadius+".")}return t}(t),null==e?[2,[]]:(this.maxPoses=n.maxPoses,r=bR(e,{inputResolution:this.inputResolution,keepAspectRatio:!0}),a=r.imageTensor,o=r.padding,i="ResNet50"===this.architecture?FS(a,_A):IR(a,[-1,1]),s=this.posenetModel.predict(i),"ResNet50"===this.architecture?(u=iN(s[2],[0]),c=iN(s[3],[0]),l=iN(s[0],[0]),d=iN(s[1],[0])):(u=iN(s[0],[0]),c=iN(s[1],[0]),l=iN(s[2],[0]),d=iN(s[3],[0])),p=hE(c),1!==this.maxPoses?[3,2]:[4,KA(p,u,this.outputStride)]);case 1:return h=g.sent(),f=[h],[3,4];case 2:return[4,GA(p,u,l,d,this.outputStride,this.maxPoses,n.scoreThreshold,n.nmsRadius)];case 3:f=g.sent(),g.label=4;case 4:return m=mR(e),v=function(e,t,n,r){var a=t.height,o=t.width,i=a/(n.height*(1-r.top-r.bottom)),s=o/(n.width*(1-r.left-r.right)),u=-r.top*n.height,c=-r.left*n.width;if(1===s&&1===i&&0===u&&0===c)return e;for(var l=0,d=e;l<d.length;l++)for(var p=0,f=d[l].keypoints;p<f.length;p++){var h=f[p];h.x=(h.x+c)*s,h.y=(h.y+u)*i}return e}(f,m,this.inputResolution,o),n.flipHorizontal&&(v=function(e,t){for(var n=0,r=e;n<r.length;n++)for(var a=0,o=r[n].keypoints;a<o.length;a++){var i=o[a];i.x=t.width-1-i.x}return e}(v,m)),a.dispose(),i.dispose(),j_(s),u.dispose(),c.dispose(),l.dispose(),d.dispose(),p.dispose(),[2,v]}}))}))},e.prototype.dispose=function(){this.posenetModel.dispose()},e.prototype.reset=function(){},e}();function tM(e){return void 0===e&&(e=xA),aR(this,void 0,void 0,(function(){var t,n,r,a,o;return oR(this,(function(i){switch(i.label){case 0:return"ResNet50"!==(t=function(e){var t=e||xA;if(null==t.architecture&&(t.architecture="MobileNetV1"),wA.indexOf(t.architecture)<0)throw new Error("Invalid architecture "+t.architecture+". Should be one of "+wA);if(null==t.inputResolution&&(t.inputResolution={height:257,width:257}),null==t.outputStride&&(t.outputStride=16),kA[t.architecture].indexOf(t.outputStride)<0)throw new Error("Invalid outputStride "+t.outputStride+". Should be one of "+kA[t.architecture]+" for architecture "+t.architecture+".");if(null==t.multiplier&&(t.multiplier=1),EA[t.architecture].indexOf(t.multiplier)<0)throw new Error("Invalid multiplier "+t.multiplier+". Should be one of "+EA[t.architecture]+" for architecture "+t.architecture+".");if(null==t.quantBytes&&(t.quantBytes=4),CA.indexOf(t.quantBytes)<0)throw new Error("Invalid quantBytes "+t.quantBytes+". Should be one of "+CA+" for architecture "+t.architecture+".");if("MobileNetV1"===t.architecture&&32===t.outputStride&&1!==t.multiplier)throw new Error("When using an output stride of 32, you must select 1 as the multiplier.");return t}(e)).architecture?[3,2]:(s=t.outputStride,u=t.quantBytes,c="model-stride"+s+".json",n=4===u?$A+"float/"+c:$A+"quant"+u+"/"+c,[4,JO(t.modelUrl||n)]);case 1:return r=i.sent(),[2,new eM(r,t)];case 2:return a=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},a="model-stride"+e+".json";return 4===n?YA+"float/"+r[t]+"/"+a:YA+"quant"+n+"/"+r[t]+"/"+a}(t.outputStride,t.multiplier,t.quantBytes),[4,JO(t.modelUrl||a)];case 3:return o=i.sent(),[2,new eM(o,t)]}var s,u,c}))}))}function nM(e,t){return aR(this,void 0,void 0,(function(){var n,r;return oR(this,(function(a){switch(e){case aA.PoseNet:return[2,tM(t)];case aA.BlazePose:if(r=void 0,null!=(n=t)){if("tfjs"===n.runtime)return[2,nA(t)];if("mediapipe"===n.runtime)return[2,hR(t)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r);case aA.MoveNet:return[2,bA(t)];default:throw new Error(e+" is not a supported model name.")}}))}))}var rM,aM,oM,iM={SINGLEPOSE_LIGHTNING:"SinglePose.Lightning",SINGLEPOSE_THUNDER:"SinglePose.Thunder",MULTIPOSE_LIGHTNING:"MultiPose.Lightning"},sM={},uM={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function cM(e){if(!(e in sM)){var t=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);if(t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete sM[e]}),!1),1===e)return t.getContext("webgl",uM)||t.getContext("experimental-webgl",uM);return t.getContext("webgl2",uM)}(e);if(null===t)return console.log("Could not get context for WebGL version",e),null;sM[e]=t}var n=sM[e];return null==n||n.isContextLost()?(delete sM[e],cM(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),sM[e])}function lM(e,t){return[t,e]}function dM(e){var t=Dg(e);return Lg(Math.ceil(t/4))}function pM(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function fM(e,t){var n,r,a,o,i,s,u,c,l,d,p=e;return 2===ly().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,a=p.RGBA16F,o=p.RGBA32F,i=p.RED,u=4,c=1,l=p.HALF_FLOAT,d=p.FLOAT,s=p.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=p.RGBA,i=e.RGBA,u=4,c=4,l=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:s,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:d}}function hM(e,t){var n=t();return ly().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(rM||(rM={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(aM||(aM={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(oM||(oM={}));function mM(e){return!!(ly().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function vM(e,t){return IM(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function gM(e,t){var n=IM(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(hM(e,(function(){return e.shaderSource(n,t)})),hM(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=xM.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,i=a.map((function(e,t){return Zg((t+1).toString(),o)+e})),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var c=i.slice(0,r-1),l=i.slice(r-1,r),d=i.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(Zg(l[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var yM,bM,xM=/ERROR: [0-9]+:([0-9]+):/g;function wM(e,t){if(hM(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function kM(e,t,n,r,a,o,i){var s=e.getAttribLocation(t,n);return-1!==s&&(hM(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),hM(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,o,i)})),hM(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function SM(e,t,n){return IM(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function EM(e,t,n){return e.getUniformLocation(t,n)}function CM(e,t,n,r){hM(e,(function(){return function(e,t,n){OM(e,n),hM(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),hM(e,(function(){return e.uniform1i(n,r)}))}function TM(e,t,n){hM(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),hM(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function NM(e,t){hM(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),hM(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function _M(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function IM(e,t,n){var r=hM(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function OM(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function RM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Dg(e.slice(0,e.length-t))}function AM(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function MM(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[RM(e)].concat((0,De.Z)(AM(e)))),t}function DM(e){return e%2===0}function PM(e,t){if(Pg(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(DM(n)&&DM(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&DM(e[0])&&DM(t[0])}function FM(e,t){return null!=e.getExtension(t)}function LM(e){try{if(null!=cM(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function ZM(e){if(0===e)return!1;var t=cM(e);if(1!==e){if(FM(t,"EXT_color_buffer_float"))return jM(t);var n="EXT_color_buffer_half_float";if(FM(t,n)){var r=t.getExtension(n);return function(e,t){var n=fM(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),s}(t,r)}return!1}return!!FM(t,"OES_texture_float")&&(!!FM(t,"WEBGL_color_buffer_float")&&jM(t))}function jM(e){var t=fM(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function BM(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Og("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var VM=ly();function zM(){var e,t,n,r,a,o,i,s,u,c;return 2===ly().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function UM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Yg(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / ").concat(t),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(o,"; ").concat(i,";")})).join("")}function WM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=Yg(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(o,"; ").concat(i,";")})).join("")}function qM(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var o=n-3;o>=0;--o)a[o]="(".concat(a[o+1]," * ").concat(r[o+1],")");return a}function GM(e){var t=Yg(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}VM.registerFlag("HAS_WEBGL",(function(){return VM.getNumber("WEBGL_VERSION")>0})),VM.registerFlag("WEBGL_VERSION",(function(){return LM(2)?2:LM(1)?1:0})),VM.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),VM.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===VM.get("WEBGL_VERSION")})),VM.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),VM.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),VM.registerFlag("WEBGL_PACK",(function(){return VM.getBool("HAS_WEBGL")})),VM.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_CLIP",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_PACK_REDUCE",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_CONV_IM2COL",(function(){return VM.getBool("WEBGL_PACK")})),VM.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==yM){var t=cM(e);yM=t.getParameter(t.MAX_TEXTURE_SIZE)}return yM}(VM.getNumber("WEBGL_VERSION"))})),VM.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==bM){var t=cM(e);bM=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,bM)}(VM.getNumber("WEBGL_VERSION"))})),VM.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=VM.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=cM(e);return FM(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:FM(t,"EXT_disjoint_timer_query")?1:0}(e)})),VM.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return VM.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!sk()})),VM.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=cM(e);if(1===e){if(!FM(t,"OES_texture_float"))return!1}else if(!FM(t,"EXT_color_buffer_float"))return!1;return jM(t)}(VM.getNumber("WEBGL_VERSION"))})),VM.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!VM.getBool("WEBGL_FORCE_F16_TEXTURES")&&VM.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),VM.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return ZM(VM.getNumber("WEBGL_VERSION"))})),VM.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=VM.getNumber("WEBGL_VERSION"))&&null!=cM(e).fenceSync;var e})),VM.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return VM.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),VM.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),VM.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return sk()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),VM.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),VM.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),VM.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),VM.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var HM="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",QM=kS;function KM(e,t,n){var r=[];if(e.forEach((function(e){var t=Dg(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(hD(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,o,i=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?YM(e,r):XM(e,r);var o=e.shapeInfo.logicalShape,i=t.logicalShape;o.length<=i.length&&(a+=n?dD(e,t):pD(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),u=t.texShape,c=zM(),l=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(c),d=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat($M,"\n    ").concat(JM,"\n    ").concat(eD,"\n  ")}(c);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Pg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),o=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),o=a*Math.ceil(e[e.length-2]/2),i=o,s="",u="b, r, c",c=2;c<e.length-1;c++)i*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(i,";\n      index -= b").concat(c," * ").concat(i,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,u,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(c)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(Pg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=WM(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=UM(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=WM(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=UM(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=UM(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=UM(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,u,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(c)),n.packedInputs&&(d+=tD),[d,l,o,i,a,s,n.userCode].join("\n")}function XM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return rD(e,t);case 1:return aD(e,t);case 2:return oD(e,t);case 3:return iD(e,t);case 4:return sD(e,t);case 5:return uD(e);case 6:return cD(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function YM(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=zM();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=zM();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");var i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(i[0],", ").concat(i[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=o[0],s=o[1],u=zM();if(null!=o&&Pg(n,o))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ");var c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],l=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(l,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){var s=[1,2],u=mD(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(YM(u,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(vD(c,s),");\n        }\n      ")}var l=zM();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var d=i[0],p=i[1],f=Math.ceil(n[2]/2),h=f*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(d,", ").concat(p,", ").concat(h,", ").concat(f,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=zM();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var o=e.shapeInfo.logicalShape,i=o.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],d=Math.ceil(o[i-1]/2),p=d*Math.ceil(o[i-2]/2),f="int b, int row, int col",h="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<i-1;m++)f="int b".concat(m,", ")+f,p*=o[i-m-1],h="b".concat(m," * ").concat(p," + ")+h;return"\n    vec4 ".concat(r,"(").concat(f,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var $M="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",JM="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",eD="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",tD="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function nD(e){return"offset".concat(e)}function rD(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=(0,E.Z)(e.shapeInfo.texShape,2),o=a[0],i=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=nD(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,E.Z)(e.shapeInfo.texShape,2),c=u[0],l=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(c,", ").concat(l,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function aD(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(lD(e),"\n      }\n    ");var a=e.shapeInfo.texShape,o=a[0],i=a[1];if(1===i&&1===o)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=nD(n);return 1===i?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(i,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function oD(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&Pg(n,o)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var i=o[0],s=o[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var u=Vg(n),c=u.newShape,l=u.keptDims,d=c;if(d.length<n.length){var p=mD(e,d);return"\n      ".concat(XM(p,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(vD(["row","col"],l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(lD(e),"\n      }\n    ");var f=o[0],h=o[1],m=nD(r);return 1===h?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===f?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(h,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(f,", ").concat(h,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function iD(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],i=n[2],s=Vg(n),u=s.newShape,c=s.keptDims,l=u;if(l.length<n.length){var d=mD(e,l);return"\n        ".concat(XM(d,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(vD(["row","col","depth"],c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(i,", 1)));\n        ").concat(lD(e),"\n      }\n    ");var p=e.shapeInfo.texShape,f=p[0],h=p[1],m=e.shapeInfo.flatOffset;if(h===o&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(f,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(h===i&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(f,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var v=nD(r);return t?"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(f,", ").concat(h,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function sD(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],i=n[2]*o,s=n[1]*i,u=Vg(n),c=u.newShape,l=u.keptDims;if(c.length<n.length){var d=mD(e,c);return"\n      ".concat(XM(d,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(vD(["row","col","depth","depth2"],l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(i,", ").concat(o,", 1)));\n        ").concat(lD(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1],v="int stride2 = ".concat(r,"Shape[3];"),g="int stride1 = ".concat(r,"Shape[2] * stride2;"),y="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===s&&null==p)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(v,"\n        ").concat(g,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===o&&null==p)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var b=nD(r);return t?"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(v,"\n      ").concat(g,"\n      ").concat(y,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index + ").concat(b,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function uD(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,i=t[2]*o,s=t[1]*i,u=Vg(t),c=u.newShape,l=u.keptDims;if(c.length<t.length){var d=mD(e,c);return"\n      ".concat(XM(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(vD(["row","col","depth","depth2","depth3"],l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(i,", ").concat(o,", ").concat(a,")) +\n          depth3;\n        ").concat(lD(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];if(m===s&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(i,", ").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var v=nD(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," + depth * ").concat(o," +\n          depth2 * ").concat(a," + depth3 + ").concat(v,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function cD(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Vg(t),o=a.newShape,i=a.keptDims;if(o.length<t.length){var s=mD(e,o);return"\n      ".concat(XM(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(vD(["row","col","depth","depth2","depth3","depth4"],i),");\n      }\n    ")}var u=t[5],c=t[4]*u,l=t[3]*c,d=t[2]*l,p=t[1]*d;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(d,", ").concat(l,", ").concat(c,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(u,", 1)));\n        ").concat(lD(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1];if(v===p&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(d,", ").concat(l,", ").concat(c,", ").concat(u,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===u&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=nD(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(d," + depth * ").concat(l," +\n          depth2 * ").concat(c," + depth3 * ").concat(u," + depth4 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function lD(e){var t=e.name,n=Dg(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function dD(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=QM(e.shapeInfo.logicalShape,t.logicalShape),c=fD(s),l=s-i,d=["x","y","z","w","u","v"];n=0===i?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords.".concat(d[e+l]," = 0;")})).join("\n");var p="";p=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+l])})).join(", ");var f="return outputValue;",h=1===Dg(e.shapeInfo.logicalShape),m=1===Dg(t.logicalShape);if(1!==i||h||m){if(h&&!m)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var v=i-2,g=i-1;u.indexOf(v)>-1&&u.indexOf(g)>-1?f="return vec4(outputValue.x);":u.indexOf(v)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(g)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(p,");\n      ").concat(f,"\n    }\n  ")}function pD(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&Pg(i,o))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var c,l=fD(u),d=QM(e.shapeInfo.logicalShape,t.logicalShape),p=u-s,f=["x","y","z","w","u","v"];c=0===s?"":u<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(f[e+p]," = 0;")})).join("\n");var h="";return h=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(f[t+p])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(c,"\n      return get").concat(r,"(").concat(h,");\n    }\n  ")}function fD(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function hD(e,t,n){var r=Vg(t),a=r.newShape,o=r.keptDims,i=t.length,s=e&&3===i&&1===t[0],u=s?t.slice(1):a,c=!e&&i>1&&!Pg(t,n)&&a.length<i||s;return{useSqueezeShape:c,uniformShape:c?u:t,keptDims:o}}function mD(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function vD(e,t){return t.map((function(t){return e[t]})).join(", ")}function gD(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=KM(a,i,t),u=gM(e.gl,s),c=e.createProgram(u),l=null,d=e.getUniformLocation(c,"NAN",!1);1===ly().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(c,"INFINITY",!1));for(var p,f,h,m=!1,v={},g={},y={},b=0;b<t.variableNames.length;b++){var x=t.variableNames[b];v[x]=e.getUniformLocation(c,x,m),v["offset".concat(x)]=e.getUniformLocation(c,"offset".concat(x),m),t.enableShapeUniforms&&(g["".concat(x,"Shape")]=e.getUniformLocation(c,"".concat(x,"Shape"),m),y["".concat(x,"TexShape")]=e.getUniformLocation(c,"".concat(x,"TexShape"),m))}t.enableShapeUniforms&&(p=e.getUniformLocation(c,"outShape",m),h=e.getUniformLocation(c,"outShapeStrides",m),f=e.getUniformLocation(c,"outTexShape",m));var w=[];return t.customUniforms&&t.customUniforms.forEach((function(t,n){w[n]=e.getUniformLocation(c,t.name,m)})),{program:t,fragmentShader:u,source:s,webGLProgram:c,uniformLocations:v,customUniformLocations:w,inShapeInfos:o,outShapeInfo:i,infLoc:l,nanLoc:d,inShapesLocations:g,inTexShapesLocations:y,outShapeLocation:p,outShapeStridesLocation:h,outTexShapeLocation:f}}function yD(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!Pg(r,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(o," must match"));if(!e.isUniform||!a.isUniform){var i=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!Pg(i,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(s," must match"))}}))}function bD(e,t,n,r,a){t.program.enableShapeUniforms||(yD(t.inShapeInfos,n),yD([t.outShapeInfo],[r]));var o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o,i[0],i[1]):e.setOutputMatrixTexture(o,i[0],i[1]),e.setProgram(t.webGLProgram),1===ly().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],o=t.uniformLocations[a],i=t.uniformLocations["offset".concat(a)],s=t.inShapesLocations["".concat(a,"Shape")],u=t.inTexShapesLocations["".concat(a,"TexShape")];if(s){var c=hD(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(c.length){case 1:e.gl.uniform1iv(s,new Int32Array(c));break;case 2:e.gl.uniform2iv(s,new Int32Array(c));break;case 3:e.gl.uniform3iv(s,new Int32Array(c));break;case 4:e.gl.uniform4iv(s,new Int32Array(c))}}if(u&&e.gl.uniform2i(u,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(Dg(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var l=n.uniformValues;l instanceof Float32Array||(l=new Float32Array(l)),e.gl.uniform1fv(o,l)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var u=Yg(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(u));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(u));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(u))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var o=t.customUniformLocations[r],i=a[r];if("float"===n.type)e.gl.uniform1fv(o,i);else if("vec2"===n.type)e.gl.uniform2fv(o,i);else if("vec3"===n.type)e.gl.uniform3fv(o,i);else if("vec4"===n.type)e.gl.uniform4fv(o,i);else if("int"===n.type)e.gl.uniform1iv(o,i);else if("ivec2"===n.type)e.gl.uniform2iv(o,i);else if("ivec3"===n.type)e.gl.uniform3iv(o,i);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(o,i)}})),e.executeProgram()}function xD(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var o=t.texData.texShape,i=hD(e.packedInputs,t.shape,o),s=i.useSqueezeShape,u=i.uniformShape,c=i.keptDims,l="",d="",p="";if(1===u.length&&e.packedInputs){var f=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];l="".concat(f[0]>1,"_").concat(f[1]>1)}else if(2!==u.length||e.packedInputs){if(u.length>2&&!e.packedInputs){var h=Yg(u);p="".concat(h[0]===o[1],"_").concat(h[h.length-1]===o[1])}}else d="".concat(u[0]>1,"_").concat(u[1]>1);var m=t.shape.length,v=2===u.length&&Pg(t.shape,o),g=1===Dg(t.shape),y=kS(t.shape,n.shape),b=!e.packedInputs&&m===n.shape.length&&Pg(o,n.texData.texShape),x=e.packedInputs||u.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);r+="".concat(m,"_").concat(b,"_").concat(s?c:"","_").concat(u.length,"_").concat(g,"_").concat(y,"_").concat(v,"_").concat(l,"_").concat(d,"_").concat(p,"_").concat(x,"_").concat(a)}else{var w=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(w,"_").concat(a)}}));var a=e.userCode,o=e.constructor.name;return o+="_"+r+"_"+a+"".concat(ly().getNumber("WEBGL_VERSION"))}function wD(e){return ly().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var kD=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=rM.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=zM();this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?WM(["r","c","d"],t):UM(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),SD=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=rM.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=zM();this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?WM(["r","c","d"],t):UM(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ED=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.outTexUsage=aM.DOWNLOAD;var n=zM();this.outputShape=t,this.userCode="\n      ".concat(HM,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),CD=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=aM.DOWNLOAD;var n=zM();this.outputShape=t,this.userCode="\n      ".concat(HM,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),TD=(0,ti.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,ei.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=zM();this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":GM(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),ND=(0,ti.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=zM();this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length);var a="",o="result";n&&(o="floor(result * 255. + 0.5)");for(var i=0;i<=1;i++)for(var s=0;s<=1;s++){var u=2*i+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(i," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(i,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":GM(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(o,";\n        }\n    ")}));function _D(e){var t=zM();return function(e,t){var n=IM(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(hM(e,(function(){return e.shaderSource(n,t)})),hM(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function ID(e){return function(e,t){var n=IM(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return hM(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),hM(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function OD(e){return function(e,t){var n=IM(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return hM(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),hM(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function RD(e,t,n,r,a,o){!function(e,t){var n=ly().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+o+".")}}(t,n);var i=function(e){return IM(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return hM(e,(function(){return e.bindTexture(s,i)})),hM(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),hM(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),hM(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),hM(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===ly().getNumber("WEBGL_VERSION")?hM(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,o,null)})):hM(e,(function(){return e.texStorage2D(s,1,r,t,n)})),hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),i}function AD(e){return e.internalFormatFloat}function MD(e){return e.internalFormatHalfFloat}function DD(e){return e.downloadTextureFormat}function PD(e){return e.internalFormatPackedFloat}function FD(e){return e.internalFormatPackedHalfFloat}function LD(e,t,n,r,a,o,i,s){var u=e,c=new Float32Array(function(e,t){var n=pM(e,t),r=(0,E.Z)(n,2);return r[0]*r[1]*4}(o,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}var ZD=function(){function e(t){(0,ei.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=ly().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){sM[e]=t}(n,t)):this.gl=cM(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(1===ly().getNumber("WEBGL_VERSION")){var o="OES_texture_half_float";if(this.textureFloatExtension=vM(this.gl,"OES_texture_float"),FM(this.gl,o))this.textureHalfFloatExtension=vM(this.gl,o);else if(ly().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),FM(this.gl,a))this.colorBufferHalfFloatExtension=vM(this.gl,a);else if(ly().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",FM(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!FM(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=ID(this.gl),this.indexBuffer=OD(this.gl),this.framebuffer=function(e){return IM(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=fM(this.gl,this.textureHalfFloatExtension)}return(0,ti.Z)(e,[{key:"debug",get:function(){return ly().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;hM(t,(function(){return t.finish()})),hM(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),hM(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),hM(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),hM(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),hM(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=lM(t,n),o=(0,E.Z)(a,2);return RD(e,o[0],o[1],AD(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=lM(t,n),o=(0,E.Z)(a,2);return RD(e,o[0],o[1],MD(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=lM(t,n),o=(0,E.Z)(a,2);return RD(e,o[0],o[1],DD(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===ly().getNumber("WEBGL_VERSION")?(hM(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})),e.flush()):hM(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===ly().getNumber("WEBGL_VERSION")?(hM(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})),e.flush()):hM(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,o){var i,s,u;hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(i=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,u=e.RGBA):(i=new Float32Array(n*r*4),s=e.FLOAT,u=o.internalFormatPackedFloat),i.set(a),2===ly().getNumber("WEBGL_VERSION")?hM(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,i)})):hM(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,n,r,0,e.RGBA,s,i)})),hM(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=pM(t,n),o=(0,E.Z)(a,2);return RD(e,o[0],o[1],FD(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=pM(t,n),o=(0,E.Z)(a,2);return RD(e,o[0],o[1],PD(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(NM(this.gl,this.framebuffer),this.outputTexture=null),hM(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=lM(t,n),o=(0,E.Z)(a,2),i=o[0],s=o[1],u=new Uint8Array(t*n*4);return hM(e,(function(){return e.readPixels(0,0,i,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,o){return LD(this.gl,e,0,0,0,a,o,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();hM(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*t*n;return hM(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),hM(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),hM(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if(ly().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return hM(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=_D(n));var r=function(e){return IM(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return hM(n,(function(){return n.attachShader(r,t.vertexShader)})),hM(n,(function(){return n.attachShader(r,e)})),function(e,t){if(hM(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r),this.debug&&wM(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=function(e,t,n){return hM(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),kM(e,t,"clipSpacePos",n,3,20,0)&&kM(e,t,"uv",n,2,20,12)}(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&hM(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&wM(this.gl,this.program),hM(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?SM(this.gl,e,t):EM(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),hM(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),CM(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=pM(t,n),a=(0,E.Z)(r,2),o=a[0],i=a[1];this.setOutputMatrixTextureDriver(e,o,i)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&wM(this.gl,this.program),_M(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),hM(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),hM(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=vM(this.gl,2===ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=uc(lc().mark((function e(t){var n=this;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jg((function(){return n.disposed||n.isQueryAvailable(t,ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var o=this.getQueryTimerExtensionWebGL1(),i=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||jg((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),TM(this.gl,e,this.framebuffer),this.debug&&_M(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(TM(this.gl,this.outputTexture,this.framebuffer),this.debug&&_M(this.gl)):NM(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;TM(r,e,this.framebuffer),this.debug&&_M(r),this.outputTexture=e,hM(r,(function(){return r.viewport(0,0,t,n)})),hM(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),hM(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();function jD(e){return function(t,n,r,a,o){var i=SS(t,n),s=i.length,u=Yg(i),c=zg(o,Dg(i)),l=t.length,d=n.length,p=Yg(t),f=Yg(n),h=kS(t,i),m=kS(n,i);if(h.length+m.length===0)for(var v=0;v<c.length;++v)c[v]=e(r[v%r.length],a[v%a.length]);else for(var g=function(t){var n=ay(t,s,u),o=n.slice(-l);h.forEach((function(e){return o[e]=0}));var i=ry(o,l,p),v=n.slice(-d);m.forEach((function(e){return v[e]=0}));var g=ry(v,d,f);c[t]=e(r[i],a[g])},y=0;y<c.length;++y)g(y);return[c,i]}}function BD(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Og("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}function VD(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",i)},s}function zD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=zD(e,t,"float32"),a=zD(e,t,"float32");return VD({inputs:{real:r,imag:a},backend:e})}var o=ty(Dg(t),n);return e.makeTensorInfo(t,n,o)}function UD(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}function WD(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}function qD(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dtype;if("complex64"===o){if("complex64"===a.dtype)return UD({inputs:{x:a},backend:n});var i=zD(n,a.shape,a.dtype),s=qD({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),u=VD({inputs:{real:s,imag:i},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}if("complex64"===a.dtype){var c=WD({inputs:{input:a},backend:n}),l=qD({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),l}if(!Wg(a.dtype,o)){var d=UD({inputs:{x:a},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:o}}if("int32"===o){var p=n.data.get(a.dataId).values,f=Int32Array.from(p);return n.makeTensorInfo(a.shape,"int32",f)}if("bool"===o){var h=n.data.get(a.dataId).values,m=Sw([0],a.dtype),v=jD((function(e,t){return e!==t?1:0}))(a.shape,[],h,m,"bool"),g=(0,E.Z)(v,2),y=g[0],b=g[1];return n.makeTensorInfo(b,"bool",y)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}function GD(e,t,n,r){return null==n?function(n){var a=n.inputs,o=n.backend,i=a.a,s=a.b,u=o;BD([i,s],e);var c=u.data.get(i.dataId).values,l=u.data.get(s.dataId).values,d="string"===i.dtype?AI(c):c,p="string"===i.dtype?AI(l):l,f=r||i.dtype,h=t(i.shape,s.shape,d,p,f),m=(0,E.Z)(h,2),v=m[0],g=m[1];return u.makeTensorInfo(g,f,v)}:function(e){var a=e.inputs,o=e.backend,i=a.a,s=a.b,u=o;if("complex64"===i.dtype||"complex64"===s.dtype){var c=qD({inputs:{x:i},backend:u,attrs:{dtype:"complex64"}}),l=u.data.get(c.dataId),d=l.complexTensorInfos.real,p=l.complexTensorInfos.imag,f=u.data.get(d.dataId).values,h=u.data.get(p.dataId).values,m=qD({inputs:{x:s},backend:u,attrs:{dtype:"complex64"}}),v=u.data.get(m.dataId),g=v.complexTensorInfos.real,y=v.complexTensorInfos.imag,b=u.data.get(g.dataId).values,x=u.data.get(y.dataId).values,w=n(i.shape,s.shape,f,h,b,x),k=(0,E.Z)(w,3),S=k[0],C=k[1],T=k[2],N=u.makeTensorInfo(T,"float32",S),_=u.makeTensorInfo(T,"float32",C),I=VD({inputs:{real:N,imag:_},backend:u});return u.disposeIntermediateTensorInfo(c),u.disposeIntermediateTensorInfo(m),u.disposeIntermediateTensorInfo(N),u.disposeIntermediateTensorInfo(_),I}var O=u.data.get(i.dataId).values,R=u.data.get(s.dataId).values,A=r||i.dtype,M=t(i.shape,s.shape,O,R,A),D=(0,E.Z)(M,2),P=D[0],F=D[1];return u.makeTensorInfo(F,A,P)}}function HD(e){return function(t,n,r,a,o,i){var s=SS(t,n),u=Dg(s),c=s.length,l=Yg(s),d=zg("float32",u),p=zg("float32",u),f=kS(t,s),h=kS(n,s),m=wI(r,a),v=wI(o,i),g=t.length,y=Yg(t),b=n.length,x=Yg(n);if(f.length+h.length===0)for(var w=0;w<d.length;w++){var k=w%m.length,S=w%v.length,E=e(m[2*k],m[2*k+1],v[2*S],v[2*S+1]);d[w]=E.real,p[w]=E.imag}else for(var C=function(t){var n=ay(t,c,l),r=n.slice(-g);f.forEach((function(e){return r[e]=0}));var a=ry(r,g,y),o=n.slice(-b);h.forEach((function(e){return o[e]=0}));var i=ry(o,b,x),s=e(m[2*a],m[2*a+1],v[2*i],v[2*i+1]);d[t]=s.real,p[t]=s.imag},T=0;T<d.length;T++)C(T);return[d,p,s]}}var QD=jD((function(e,t){return e+t})),KD=HD((function(e,t,n,r){return{real:e+n,imag:t+r}}));GD(yy,QD,KD);function XD(e){return function(t,n,r){for(var a=zg(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}function YD(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,s=a.x;if(BD(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var u=i,c=u.data.get(s.dataId).values,l=Dg(s.shape),d=n||s.dtype,p=Ug(d,l),f=0;f<l;++f)p[f]=t(c[f],o);return u.makeTensorInfo(s.shape,d,p)}}function $D(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,s=a.x;if(BD(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var u=i,c=u.data.get(s.dataId).values,l=n||s.dtype,d=t(c,l,o);return u.makeTensorInfo(s.shape,l,d)}}var JD=XD((function(e){return Math.ceil(e)}));$D(Fy,JD);var eP=jD((function(e,t){return e===t?1:0})),tP=(GD(ab,eP,null,"bool"),XD((function(e){return Math.exp(e)}))),nP=($D(ob,tP,"float32"),XD((function(e){return Math.expm1(e)}))),rP=($D(sb,nP),XD((function(e){return Math.floor(e)})));$D(lb,rP);var aP=jD((function(e,t){return e>t?1:0})),oP=(GD(mb,aP,null,"bool"),jD((function(e,t){return e>=t?1:0}))),iP=(GD(vb,oP,null,"bool"),jD((function(e,t){return e<t?1:0}))),sP=(GD(Eb,iP,null,"bool"),jD((function(e,t){return e<=t?1:0})));GD(Cb,sP,null,"bool");var uP=XD((function(e){return Math.log(e)}));$D(Nb,uP);var cP=jD((function(e,t){return Math.max(e,t)})),lP=(GD(Db,cP),jD((function(e,t){return Math.min(e,t)}))),dP=(GD(Bb,lP),jD((function(e,t){return e*t}))),pP=HD((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}));GD(Ub,dP,pP);function fP(e,t,n){var r=kw(-1,n);return dP([],t,r,e,n)}var hP=jD((function(e,t){return e!==t?1:0}));GD(qb,hP,null,"bool");function mP(e,t,n,r,a){for(var o=t.length,i=Dg(t),s=Yg(t),u=Yg(a),c=zg(n,Dg(a)),l=0;l<i;++l){for(var d=ay(l,o,s),p=new Array(d.length),f=0;f<p.length;f++)p[f]=d[r[f]];c[ry(p,o,u)]=e[l]}return c}function vP(e,t,n,r){for(var a=MC(e,r),o=(0,E.Z)(a,2),i=o[0],s=o[1],u=Hw(t,"int32"),c=ty(Dg(i),u),l=Dg(s),d=0;d<c.length;++d){for(var p=d*l,f=1,h=0;h<l;++h)f*=n[p+h];c[d]=f}return{outVals:c,outShape:i,outDtype:u}}var gP=XD((function(e){return 1/Math.sqrt(e)})),yP=($D(dx,gP),XD((function(e){return 1/(1+Math.exp(-e))})));YD(yx,(function(e){return 1/(1+Math.exp(-e))}));function bP(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}function xP(e,t,n,r,a){var o=_S(r,t,n),i=Dg(n),s=Yg(r);if(o){var u=IS(t,s);return"string"===a?e.slice(u,u+i):e.subarray(u,u+i)}for(var c=iS(r,a,"string"===a?AI(e):e),l=iS(n,a),d=0;d<l.size;++d){var p=l.indexToLoc(d),f=p.map((function(e,n){return e+t[n]}));l.set.apply(l,[c.get.apply(c,(0,De.Z)(f))].concat((0,De.Z)(p)))}return"string"===a?l.values.map((function(e){return Cw(e)})):l.values}var wP=XD((function(e){return Math.sqrt(e)}));YD(xx,(function(e){return Math.sqrt(e)}));var kP=function(){function e(t,n,r,a,o,i){(0,ei.Z)(this,e),this.separator=Cw(t),this.nGramWidths=n,this.leftPad=Cw(r),this.rightPad=Cw(a),this.padWidth=o,this.preserveShort=i}return(0,ti.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,o){for(var i=this,s=function(s){var u=i.getPadWidth(o),c=Math.max(0,u-s),l=Math.max(0,u-(a-(s+1))),d=o-(c+l),p=t+(c>0?0:s-u),f=0;f+=c*i.leftPad.length;for(var h=0;h<d;++h)f+=e[p+h].length;f+=l*i.rightPad.length,f+=(c+l+d-1)*i.separator.length,n[r+s]=new Uint8Array(f);for(var m=n[r+s],v=0,g=function(e){return e.forEach((function(e){return m[v++]=e}))},y=0;y<c;++y)g(i.leftPad),g(i.separator);for(var b=0;b<d-1;++b)g(e[p+b]),g(i.separator);if(d>0){g(e[p+d-1]);for(var x=0;x<l;++x)g(i.separator),g(i.rightPad)}else{for(var w=0;w<l-1;++w)g(i.rightPad),g(i.separator);g(i.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var i=1;i<a;++i){var s=t[i]>=o;if(!(s=s&&t[i]<=r))throw new Error("Invalid split value ".concat(t[i],", must be in [").concat(o,", ").concat(r,"]"));o=t[i]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var u=a-1,c=Ug("int32",a);if(0===r||0===a){for(var l=new Array(r),d=0;d<=u;++d)c[d]=0;return[l,c]}c[0]=0;for(var p=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),c[e]=c[e-1]+a},f=1;f<=u;++f)p(f);for(var h=new Array(c[u]),m=function(r){var a=t[r],o=c[r];if(n.nGramWidths.forEach((function(i){var s=t[r+1]-t[r],u=n.getNumNGrams(s,i);n.createNGrams(e,a,h,o,u,i),o+=u})),n.preserveShort&&o===c[r]){var i=t[r+1]-t[r];if(0===i)return"continue";var s=i+2*n.padWidth;n.createNGrams(e,a,h,o,1,s)}},v=0;v<u;++v)m(v);return[h,c]}}]),e}();function SP(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){var i=e.subarray(a,o);n&&0===i.length||r.push(i),a=o+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}var EP=jD((function(e,t){return e-t})),CP=HD((function(e,t,n,r){return{real:e-n,imag:t-r}}));GD(Px,EP,CP);var TP=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function NP(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,i=Math.log(a),s=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*s*(a-s)/a)*Math.sign(o-a/2),c=Math.max(n,Math.floor(t-o*s/a+u)),l=Math.min(r,Math.floor(t+(a-o)*s/a+u));NP(e,t,c,l)}var d=e[t],p=n,f=r;for(_g(e,n,t),TP(e[r],d)>0&&_g(e,n,r);p<f;){for(_g(e,p,f),p++,f--;TP(e[p],d)<0;)p+=1;for(;TP(e[f],d)>0;)f-=1}0===TP(e[n],d)?_g(e,n,f):_g(e,f+=1,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}var _P=QD,IP=function(e,t,n,r,a){for(var o=Dg(r),i=ty(a,n),s=0;s<e.length;s++){var u=e[s];if(u<0)throw new Error("Input x must be non-negative!");u>=a||(i[u]+=o>0?t[s]:1)}return i},OP=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],i=iS([a,n],t.dtype),s=0;s<a;s++)for(var u=0;u<o;u++){var c=e.get(s,u);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?i.set(1,s,c):t.size>0?i.set(i.get(s,c)+t.get(s,u),s,c):i.set(i.get(s,c)+1,s,c))}return i},RP=JD,AP=function(e,t,n,r){var a=Ug(n,Dg(t));if(r&&"string"!==n){var o=0;e.forEach((function(e){var t=Dg(e.shape);a.set(e.vals,o),o+=t}))}else{var i=0;e.forEach((function(e){for(var r="string"===n?AI(e.vals):e.vals,o=0,s=0;s<e.shape[0];++s)for(var u=s*t[1]+i,c=0;c<e.shape[1];++c)a[u+c]=r[o++];i+=e.shape[1]}))}return a},MP=eP,DP=tP,PP=nP,FP=rP,LP=function(e,t,n,r,a,o,i,s,u){for(var c=iS([r,o],n),l=0;l<r;l++){for(var d=[],p=0,f=0;f<a;f++){var h=e[l*a+f];p+=h*i[f],d.push(h)}if(p<0||p>=u/o)throw new Error("Invalid indices: ".concat(d," does not index into ").concat(s));for(var m=0;m<o;m++)c.values[l*o+m]=t.get.apply(t,(0,De.Z)(t.indexToLoc(p*o+m)))}return c},ZP=function(e,t,n){for(var r=iS(n,e.dtype),a=0;a<r.size;++a){var o=r.indexToLoc(a).slice(),i=o[0],s=o[2],u=t.locToIndex([i,s]);o[2]=t.values[u];var c=e.locToIndex(o);r.values[a]=e.values[c]}return r},jP=aP,BP=oP,VP=iP,zP=sP,UP=function(e,t,n){var r=(t-e)/(n-1),a=ty(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return a},WP=uP,qP=function(e,t,n,r){for(var a=zg(r,Dg(n)),o=0;o<a.length;++o){for(var i=o*t,s=e[i],u=0;u<t;++u){var c=e[i+u];(Number.isNaN(c)||c>s)&&(s=c)}a[o]=s}return a},GP=cP,HP=lP,QP=dP,KP=fP,XP=hP,YP=vP,$P=function(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return ty(0,r);var a=ty(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return a},JP=gP,eF=yP,tF=bP,nF=xP,rF=function(e,t,n,r,a,o,i){var s=t[0],u=o[0],c=new Array(u),l=new Array(s),d=t[1];if(0===u){if(0!==s)throw new Error("Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(s));return[Ug(n,0),[0,d],Ug(a,0),c,l]}for(var p,f=!0,h=0,m=new Array(u).fill(0),v=0;v<s;++v){var g=e[v*d];if(g<0)throw new Error((p=g,"indices(".concat(v,", 0) is invalid: ").concat(p," < 0")));if(g>=u)throw new Error(II(v,g,u));++m[g],f=f&&g>=h,h=g}for(var y=!0,b=0;b<u;++b){var x=0===m[b];c[b]=x,y=y&&!x,m[b]=Math.max(m[b],1),b>0&&(m[b]+=m[b-1])}if(y&&f){for(var w=e,k=r,S=0;S<s;++S)l[S]=S;return[w,[s,d],k,c,l]}for(var E=m[u-1],C=Ug(n,E*d),T=Ug(a,E),N=new Array(u).fill(0),_=0;_<s;++_){var I=e[_*d],O=N[I],R=(0===I?0:m[I-1])+O;N[I]++;for(var A=0;A<d;++A)C[R*d+A]=e[_*d+A];T[R]=r[_],l[_]=R}for(var M=0;M<u;++M){if(0===N[M]){var D=0===M?0:m[M-1];C[D*d+0]=M;for(var P=1;P<d;++P)C[D*d+P]=0;T[D]=i}}return[C,[E,d],T,c,l]},aF=function(e,t,n,r,a){for(var o,i,s=Dg(r),u=t[0],c=a.length,l=[],d=1,p=-1,f=0;f<c;++f){var h=a[f];if(-1===h){if(-1!==p)throw new Error((i=f,"only one output dimension may be -1, not both ".concat(p," and ").concat(i)));p=f,l.push(1)}else{if(h<0)throw new Error((o=h,"size ".concat(f," must be non-negative, not ").concat(o)));d*=h,l.push(h)}}if(-1!==p){if(d<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");var m=Math.trunc(s/d);if(d*m!==s)throw new Error(function(e,t){var n=Dg(e),r=Dg(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}(r,l));l[p]=m}if(Dg(l)!==s)throw new Error(function(e,t){var n=Dg(e),r=Dg(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}(r,l));var v=r.length,g=[];if(v>0){g[v-1]=1;for(var y=v-2;y>=0;--y)g[y]=g[y+1]*r[y+1]}var b=[];if(c>0){b[c-1]=1;for(var x=c-2;x>=0;--x)b[x]=b[x+1]*l[x+1]}for(var w=Ug(n,u*c),k=0;k<u;++k){for(var S=0,E=0;E<v;++E)S+=e[k*v+E]*g[E];for(var C=0;C<c;++C)w[k*c+C]=Math.trunc(S/b[C]),S%=b[C]}return[w,[u,c],l]},oF=function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=r.length,u=[t[0],e.length/t[0]],c=u[1],l=s>0?a[s-1]+1:0,d=l;if(d<0)throw new Error("segment ids must be >= 0");var p=t.slice();p[0]=d;var f=p.reduce((function(e,t){return e*t}),1),h=Ug(n,f);if(0===s)return d>0&&h.fill(i),[h,p];if(d<=0)throw new Error("segment ids must be >= 0");for(var m=0,v=1,g=0,y=a[m];;){var b=0;if(v<s){if(y===(b=a[v])){++v;continue}if(y>=b)throw new Error("segment ids are not increasing")}if(y<0||y>=d)throw new Error(OI(y,d));y>g&&h.fill(i,g*c,y*c);for(var x=m;x<v;++x){var w=r[x];if(w<0||w>=u[0])throw new Error(RI(x,r[x],u[0]));for(var k=0;k<c;k++)h[y*c+k]+=e[w*c+k]}if(o)for(var S=0;S<c;S++)h[y*c+S]/=v-m;if(m=v,g=y+1,y=b,++v>s)break}return g<d&&h.fill(i,g*c,d*c),[h,p]},iF=wP,sF=function(e,t,n,r){for(var a=iS(e,t.dtype),o=0;o<a.size;o++){for(var i=a.indexToLoc(o),s=new Array(i.length),u=0;u<s.length;u++)s[u]=i[u]*n[u]+r[u];a.set.apply(a,[t.get.apply(t,s)].concat((0,De.Z)(i)))}return a},uF=function(e,t,n,r,a,o,i,s){return new kP(n,r,a,o,i,s).compute(e,t)},cF=function(e,t,n){for(var r=e.length,a=[],o=0,i=0,s=new Array(r),u=0;u<r;++u){var c=a.length;SP(e[u],t,n,a);var l=a.length-c;s[u]=l,o+=l,i=Math.max(i,l)}for(var d=Ug("int32",2*o),p=new Array(o),f=[r,i],h=0,m=0;m<r;++m)for(var v=0;v<s[m];++v)d[2*h]=m,d[2*h+1]=v,p[h]=a[h],++h;return[d,p,f]},lF=function(e,t){for(var n=Ug("int32",e.length),r=0;r<e.length;++r)n[r]=ww(e[r]).modulo(t).getLowBitsUnsigned();return n},dF=EP,pF=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=iS(n,e.dtype),o=0;o<a.values.length;++o){for(var i=a.indexToLoc(o),s=new Array(e.rank),u=0;u<s.length;u++)s[u]=i[u]%e.shape[u];var c=e.locToIndex(s);a.values[o]=e.values[c]}return a},fF=function(e,t,n,r,a){for(var o=t[t.length-1],i=e.length/o,s=o,u=zg(n,i*r),c=zg("int32",i*r),l=function(t){var n=t*s,o=e.subarray(n,n+s),i=new Array(o.length);o.forEach((function(e,t){return i[t]={value:e,index:t}})),r<i.length&&(NP(i,r),i=i.slice(0,r)),a&&i.sort(TP);for(var l=t*r,d=u.subarray(l,l+r),p=c.subarray(l,l+r),f=0;f<r;f++)d[f]=i[f].value,p[f]=i[f].index},d=0;d<i;d++)l(d);var p=t.slice();return p[p.length-1]=r,[iS(p,n,u),iS(p,"int32",c)]},hF=mP,mF=function(e,t,n,r){for(var a=Bg(t,n)[0],o=[1,n[0],1],i=0;i<a;i++)o[0]*=n[i];o[1]=n[a];for(var s=a+1;s<n.length;s++)o[2]*=n[s];for(var u={},c=new Int32Array(n[a]),l=new Fw(o,r,e),d=[],p=1===o[0]&&1===o[2],f=0;f<n[a];f++){var h=void 0;if(p)h=e[f].toString();else{for(var m=[],v=0;v<o[0];v++)for(var g=0;g<o[2];g++)m.push(l.get(v,f,g));h=m.join(",")}if(void 0!==u[h])c[f]=u[h];else{var y=Object.keys(u).length;u[h]=y,c[f]=y,d.push(f)}}var b=o.slice();b[1]=Object.keys(u).length;var x=new Fw(b,r);d.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)x.set(l.get(n,e,r),n,t,r)}));var w=n.slice();return w[a]=b[1],{outputValues:x.values,outputShape:w,indices:c}};function vF(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function gF(e,t){return 1===t?[e]:vF(e,t)}var yF=function(){function e(t){if((0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=wD(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=gF("rc",this.rank),r=fD(this.rank),a=this.getOutOfBoundsCondition(n),o=this.getSetup(n),i=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(i,"));\n          }\n        }\n      ")}}return(0,ti.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),o=2;o<this.rank;o++)a="".concat(e[e.length-1-o],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);return 1===this.rank?"getA(rc),\n              rc + 1 >= ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]," ? 0. : getA(rc + 1),\n              0, 0"):"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),bF=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length);for(var r="",a=0;a<4;a++){var o="thisRC = rc;";a%2===1&&(o+="thisRC.z += 1;"),a>1&&(o+="thisRC.y += 1;"),r+="\n        ".concat(o,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=qM(r,t);return a.map((function(t,r){var o="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),i=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(o,"; ").concat(i,";")})).join("")}(["r","c","d"],"inputShape"):UM(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":GM(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var xF=function(){function e(t){(0,ei.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,ti.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=kF(t,n),a=SF(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var o,i=wF(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return r===oM.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===oM.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===oM.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===oM.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===oM.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(o),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),o}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=kF(n,r),o=SF(t,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);var i=wF(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=ly().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;var u=this.usedTextures[o],c=u.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(c,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function wF(e,t,n,r,a){var o,i=function(e,t){switch(e){case oM.PACKED_2X2_FLOAT32:return PD(t);case oM.PACKED_2X2_FLOAT16:return FD(t);case oM.UNPACKED_FLOAT32:return AD(t);case oM.UNPACKED_FLOAT16:return MD(t);case oM.PACKED_4X1_UNSIGNED_BYTE:return DD(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var s=pM(e[0],e[1]),u=(0,E.Z)(s,2);o=u[0]*u[1]}else{var c=lM(e[0],e[1]),l=(0,E.Z)(c,2);o=l[0]*l[1]}var d=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,i);return o*d}function kF(e,t){if(e===aM.UPLOAD)return oM.PACKED_2X2_FLOAT32;if(e===aM.RENDER||null==e)return function(e){return ly().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?oM.PACKED_2X2_FLOAT32:oM.UNPACKED_FLOAT32:e?oM.PACKED_2X2_FLOAT16:oM.UNPACKED_FLOAT16}(t);if(e===aM.DOWNLOAD||e===aM.PIXELS)return oM.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function SF(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var EF=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),CF="if (isnan(x)) return x;",TF="return x;",NF="return abs(x);";var _F="return (x >= 0.0) ? x : (exp(x) - 1.0);",IF=CF+"\n  return (x < 0.0) ? 0.0 : x;\n",OF=CF+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",RF="return x;",AF="return 1.0 / (1.0 + exp(-1.0 * x));",MF="return x;",DF="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",PF="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",FF="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",LF="return 1.0 / (1.0 + exp(-1.0 * x));",ZF=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),jF=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length);var n=t.length,r=gF("rc",n),a=fD(n),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),i=r.slice(-2),s=n<=1?"rc":"vec2(".concat(i.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),BF=kN,VF={};var zF=ly().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var UF=function(e){fc(n,e);var t=yc(n);function n(e){var r,a;if((0,ei.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!ly().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){var o=cM(ly().getNumber("WEBGL_VERSION"));r.binaryCache=((a=ly().getNumber("WEBGL_VERSION"))in VF||(VF[a]={}),VF[a]),r.gpgpu=new ZD(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=e,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=e.gl.canvas;return r.textureManager=new xF(r.gpgpu),r.numMBBeforeWarning=null==ly().global.screen?1024:ly().global.screen.height*ly().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Eg(Fe(r),L_()),r}return(0,ti.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if((ly().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||ly().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:aM.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if(ly().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:aM.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,o=t.slice,i=t.shape,s=t.isPacked;if(null!=o){var u;u=s?new ZF(i,RF):new EF(i,RF);var c=this.runWebGLProgram(u,[{dataId:e,shape:i,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeIntermediateTensorInfo(c),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,f=null!=this.activeTimers;(f&&(d=Ew()),"complex64"===r)?p=wI(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):p=this.getValuesFromTexture(e);return f&&(this.downloadWaitMs+=Ew()-d),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x,w,k,S,E;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,o=r.shape,i=r.slice,s=r.dtype,u=r.complexTensorInfos,c=r.isPacked,null==i){e.next=11;break}return l=c?new ZF(o,RF):new EF(o,RF),d=this.runWebGLProgram(l,[{dataId:t,shape:o,dtype:s}],s),p=this.read(d.dataId),this.disposeIntermediateTensorInfo(d),e.abrupt("return",p);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!ly().getBool("DEBUG")){e.next=16;break}if(ly().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==ly().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(f=null,"complex64"!==s&&ly().get("WEBGL_BUFFER_SUPPORTED")&&(h=this.decode(t),v=this.texData.get(h.dataId),f=(m=this.gpgpu).createBufferFromTexture.apply(m,[v.texture].concat((0,De.Z)(dM(o))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(u.real.dataId),this.read(u.imag.dataId)]);case 25:y=e.sent,b=y[0],x=y[1],g=wI(b,x),e.next=32;break;case 31:null==f?g=this.getValuesFromTexture(t):(w=Dg(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(f,w));case 32:return null!=h&&this.disposeIntermediateTensorInfo(h),null!=f&&hM(k=this.gpgpu.gl,(function(){return k.deleteBuffer(f)})),S=this.convertAndCacheOnCPU(t,g),E=this.pendingRead.get(t),this.pendingRead.delete(t),E.forEach((function(e){return e(S)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&L_().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",S);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return Tw(e)}))}catch(Bl){throw new Error("Failed to decode encoded string bytes into utf-8")}return iS(e.shape,e.dtype,n)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!mM(n)){if(ly().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,o=Dg(n);if(ly().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var i,s=this.decode(e),u=this.texData.get(s.dataId),c=(i=this.gpgpu).downloadMatrixFromPackedTexture.apply(i,[u.texture].concat((0,De.Z)(dM(n)))).subarray(0,o);return this.disposeIntermediateTensorInfo(s),c}var l=ly().getBool("WEBGL_PACK")&&!0===a,d=l?MM(n):n,p=l?new CD(d):new ED(d),f=this.runWebGLProgram(p,[{shape:d,dtype:r,dataId:e}],"float32"),h=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture,h.texShape[0],h.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(f),m}},{key:"timerAvailable",value:function(){return ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(){var e=uc(lc().mark((function e(t){var n,r,a,o,i,s,u;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.activeTimers,r=[],a=!1,null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,t(),o=Mg(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=Mg(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=n,a&&(this.programTimersStack=null),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},!(ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=19;break}return e.next=14,Promise.all(o);case 14:u=e.sent,s.kernelMs=Ig(u),s.getExtraProfileInfo=function(){return u.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=20;break;case 19:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 20:return this.uploadWaitMs=0,this.downloadWaitMs=0,e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ew(),endMs:null}}},{key:"endTimer",value:function(e){return ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ew(),e)}},{key:"getQueryTime",value:function(){var e=uc(lc().mark((function e(t){var n;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ly().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,o=t.usage,i=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zF;return ly().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&Dg(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){Yx("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return BF(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new ZF(e.shape,t),a=this.compileAndRun(r,[e],n);return L_().makeTensorFromDataId(a.dataId,a.shape,a.dtype)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=tF(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(ly().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,NF,e.dtype);var n=new EF(e.shape,NF),r=this.compileAndRun(n,[e]);return L_().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&Hg(n[0])){var a=n.map((function(e){return Cw(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){var r=this.makeTensorInfo(e,t,n).dataId;return L_().makeTensorFromDataId(r,e,t,this)}},{key:"unpackTensor",value:function(e){var t=new jF(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new yF(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[RM(e.shape)].concat((0,De.Z)(AM(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[RM(t)].concat((0,De.Z)(AM(t))),o=new bF(a,n),i=[n],s=this.runWebGLProgram(o,[r],e.dtype,i,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e){var t,n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype,i=MM(a),s=dM(i);t=r?new SD(i):new kD(i);var u=[s];return{dtype:o,shape:a,dataId:this.runWebGLProgram(t,[{shape:i,dtype:o,dataId:e}],o,u,!0).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===rM.DENSE){var u=dM(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===Dg(i.shape))return s.values=zg(i.dtype,0),i;var c=[],l=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Dg(t.shape)<=ly().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),c.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!PM(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=a.packedReshape(t,o),c.push(t),n=a.texData.get(t.dataId),r.shape=o}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);var d,p={shape:i.shape,texData:s,isUniform:!1},f=xD(e,l,p),h=this.getAndSaveBinary(f,(function(){return gD(a.gpgpu,e,l,p)})),m=null!=this.activeTimers;m&&(d=this.startTimer()),bD(this.gpgpu,h,l,p,r),c.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)}));var v=ly().get("WEBGL_FLUSH_THRESHOLD");if(v>0){var g=Ew();g-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!ly().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var y=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),y}return i}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,a);return o}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!ly().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Z_((function(){if(!ly().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=ly().getBool("DEBUG");ly().set("DEBUG",!1);var n=e.abs(BT(1e-8)).dataSync()[0];if(ly().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,o=t.texture,i=t.usage,s=t.isPacked;if(null==o){var u,c=null!=this.activeTimers;c&&(u=Ew());var l=t.texShape;if(null==l&&(l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ly().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?Ng(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=Vg(e);e=r.newShape}var a=Dg(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var o=RM(e),i=2,s=2;if(e.length){var u=AM(e),c=(0,E.Z)(u,2);i=c[0],s=c[1]}return Lg(a=o*(i/2)*(s/2)).map((function(e){return 2*e}))}return Lg(a)}(n,s),t.texShape=l),null!=a){var d,p=MM(n),f=l[1],h=l[0],m=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(s||!m){var v=pM(l[0],l[1]),g=(0,E.Z)(v,2);f=g[0],h=g[1]}d=s?new ND(p,m):new TD(p,m);var y=m?[h,f]:l,b=this.makeTensorInfo(y,r),x=this.texData.get(b.dataId);x.usage=m?aM.PIXELS:aM.UPLOAD,x.texShape=y,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),f,h,a);var w=[[h,f]],k=this.runWebGLProgram(d,[b],r,w,!0),S=this.texData.get(k.dataId);t.texture=S.texture,t.texShape=S.texShape,t.isPacked=S.isPacked,t.usage=S.usage,this.disposeIntermediateTensorInfo(b),this.texData.delete(k.dataId),t.values=null,c&&(this.uploadWaitMs+=Ew()-u)}else{var C=this.acquireTexture(l,i,r,s);t.texture=C}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*Gg(t)}}]),n}(Cg);UF.nextDataId=0,uk()&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ok.registerBackend(e,t,n)}("webgl",(function(){return new UF}),2);var WF=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["A","B"],this.outputShape=SS(n,r),this.enableShapeUniforms=wD(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),qF=(0,ti.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,ei.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=SS(n,r);var o=this.outputShape.length;this.enableShapeUniforms=wD(o);var i="";if(a)if(0===o||1===Dg(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=fD(o);if(i="\n          ".concat(s," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var u=gF("coords",o);this.enableShapeUniforms?i+="\n            bool nextRowOutOfBounds =\n              (".concat(u[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(u[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):i+="\n            bool nextRowOutOfBounds =\n              (".concat(u[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(u[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}));function GF(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var HF={kernelName:gb,backendName:"webgl",kernelFunc:GF};function QF(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(o.dataId),s=GF({inputs:{x:r},backend:n}),u=GF({inputs:{x:a},backend:n});return i.complexTensorInfos={real:s,imag:u},o}var KF={kernelName:Zy,backendName:"webgl",kernelFunc:QF},XF="return (a < 0.) ? b * a : a;",YF="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var $F={kernelName:Sb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha,i=n.makeTensorInfo([],"float32",kw(o,"float32")),s=ly().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qF(YF,a.shape,i.shape):new WF(XF,a.shape,i.shape),u=n.runWebGLProgram(s,[a,i],"float32");return n.disposeIntermediateTensorInfo(i),u}},JF="return (a < 0.) ? b * a : a;",eL="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var tL={kernelName:Jb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,o=ly().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qF(eL,r.shape,a.shape):new WF(JF,r.shape,a.shape);return n.runWebGLProgram(o,[r,a],"float32")}};function nL(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var o,i=e.inputs,s=e.backend,u=i.x,c=s,l=a||u.dtype;if(c.shouldExecuteOnCPU([u])&&null!=r){var d=c.texData.get(u.dataId),p=r(d.values,l);return c.makeTensorInfo(u.shape,l,p)}return o=ly().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new ZF(u.shape,n):new EF(u.shape,t),c.runWebGLProgram(o,[u],l)}}function rL(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,o=e.supportsComplex,i=void 0!==o&&o,s=e.cpuKernelImpl,u=e.dtype;return function(e){var r=e.inputs,o=e.backend,c=r.a,l=r.b,d=o;if(i&&"complex64"===c.dtype){var p=d.texData.get(c.dataId),f=d.texData.get(l.dataId),h=[[p.complexTensorInfos.real,f.complexTensorInfos.real],[p.complexTensorInfos.imag,f.complexTensorInfos.imag]].map((function(e){var n=(0,E.Z)(e,2),r=n[0],a=n[1],o={dataId:r.dataId,dtype:r.dtype,shape:c.shape},i={dataId:a.dataId,dtype:a.dtype,shape:l.shape},s=new WF(t,c.shape,l.shape);return d.runWebGLProgram(s,[o,i],Hw(r.dtype,a.dtype))})),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=QF({inputs:{real:v,imag:g},backend:d});return d.disposeIntermediateTensorInfo(v),d.disposeIntermediateTensorInfo(g),y}var b,x=u||Hw(c.dtype,l.dtype);if(("string"===c.dtype||"string"===l.dtype||d.shouldExecuteOnCPU([c,l]))&&null!=s){var w=d.texData.get(c.dataId).values,k=d.texData.get(l.dataId).values,S="string"===c.dtype?AI(w):w,C="string"===c.dtype?AI(k):k,T=s(c.shape,l.shape,S,C,x),N=(0,E.Z)(T,2),_=N[0],I=N[1],O=d.makeTensorInfo(I,x);return d.texData.get(O.dataId).values=_,O}return b=ly().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new qF(n,c.shape,l.shape,a):new WF(t,c.shape,l.shape),d.runWebGLProgram(b,[c,l],x)}}function aL(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?MF:TF;if("relu"===e)return t?PF:IF;if("elu"===e)return t?DF:_F;if("relu6"===e)return t?FF:OF;if("prelu"===e)return t?eL:JF;if("leakyrelu"===e)return t?YF:XF;if("sigmoid"===e)return t?LF:AF;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var oL=(0,ti.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,ei.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=wD(this.outputShape.length);var l=a?t[1]:t[2],d=Math.ceil(l/2),p=a?"i * 2, rc.y":"rc.y, i * 2",f=o?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",g="";s&&(v=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),g="result = activation(result);");var y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var b="rc.x",x="rc.x";t[0]<n[0]?b="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(d,"; i++) {\n          int batchA = ").concat(b,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(p,");\n          vec4 b = getMatrixB(batchB, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(m[0],");\n          result += (").concat(h[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")})),iL="return areal * breal - aimag * bimag;",sL="return areal * bimag + aimag * breal;",uL=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=SS(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),cL="return a * b;";function lL(e){var t,n=e.inputs,r=e.backend,a=n.a,o=n.b,i=Hw(a.dtype,o.dtype);if("complex64"===a.dtype){var s=r.texData.get(a.dataId),u=r.texData.get(o.dataId),c=new uL(iL,a.shape,o.shape),l=new uL(sL,a.shape,o.shape),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:a.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:o.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:o.shape}],p=r.runWebGLProgram(c,d,"float32"),f=r.runWebGLProgram(l,d,"float32"),h=QF({inputs:{real:p,imag:f},backend:r});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),h}if(r.shouldExecuteOnCPU([a,o])){var m=r.texData.get(a.dataId),v=r.texData.get(o.dataId),g=QP(a.shape,o.shape,m.values,v.values,i),y=(0,E.Z)(g,2),b=y[0],x=y[1],w=r.makeTensorInfo(x,i);return r.texData.get(w.dataId).values=b,w}return t=ly().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qF(cL,a.shape,o.shape):new WF(cL,a.shape,o.shape),r.runWebGLProgram(t,[a,o],i)}var dL={kernelName:Ub,backendName:"webgl",kernelFunc:lL};function pL(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,i=n,s=Dg(a.shape),u=function(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var o=e.slice();return o[r]=t/n,o}(o,s),c=Dg(u);Og(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var l=i.texData.get(a.dataId);return!l.isPacked||PM(a.shape,u)||null!==l.texture&&PM(l.shape,u)?(i.incRef(a.dataId),{dataId:a.dataId,shape:u,dtype:a.dtype}):function(e,t,n){var r=[RM(e.shape)].concat((0,De.Z)(AM(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},o=[RM(t)].concat((0,De.Z)(AM(t))),i=new bF(o,r),s=[r],u=n.runWebGLProgram(i,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,u,i)}var fL={kernelName:ox,backendName:"webgl",kernelFunc:pL},hL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var s=4*Math.floor(r/4),u=r%4,c="sumValue += dot(values, ones);";if(null!=n){var l=1/n;c="sumValue += dot(values * ".concat(Fg(l)?l.toPrecision(2):l,", ones);")}var d="";o%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===u,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(2===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(3===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),mL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),d=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),f="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";o%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function vL(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=gI(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),o=e,i=0;i<a.length;i++){var s,u=a[i],c=u.inSize,l=u.windowSize,d=u.outSize,p=void 0;p="mean"===n?0===i?new hL({windowSize:l,inSize:c,batchSize:e.shape[0],outSize:d},c):new hL({windowSize:l,inSize:c,batchSize:e.shape[0],outSize:d}):new mL({windowSize:l,inSize:c,batchSize:e.shape[0],outSize:d},n),s=o,o=r.runWebGLProgram(p,[o],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return o}var gL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var o=fD(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(o," resRC = getOutputCoords();\n      setOutput(getA(").concat(i,"));\n    }\n    ")}));var yL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var o=fD(this.rank),i=vF("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=i[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(i[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(o," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(l,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(i[this.rank-1],";\n      if(++").concat(i[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(l,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function bL(e,t,n){var r=ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yL(e.shape,t):new gL(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function xL(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,o=e.shape.length,i=Bg(a,e.shape),s=i,u=FC(s,o),c=null!=u,l=e;c&&(l=bL(e,u,r),s=ZC(s.length,o)),PC("sum",s,o);var d=MC(l.shape,s),p=(0,E.Z)(d,2),f=p[0],h=p[1],m=f;n&&(m=DC(f,i));var v=Dg(h),g=pL({inputs:{x:l},attrs:{shape:[Dg(e.shape)/v,v]},backend:r}),y=vL(g,Qw(e.dtype),"sum",r),b=pL({inputs:{x:y},attrs:{shape:m},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),c&&r.disposeIntermediateTensorInfo(l),b}(t.x,r.axis,r.keepDims,n)}var wL={kernelName:wx,backendName:"webgl",kernelFunc:xL};function kL(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.perm,s=r,u=o.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=o.shape[i[l]];if(s.shouldExecuteOnCPU([o])){var d=s.texData.get(o.dataId).values,p=hF(d,o.shape,o.dtype,i,c);t=s.makeTensorInfo(c,o.dtype),s.texData.get(t.dataId).values=p}else t=bL(o,i,s);return t}var SL={kernelName:Bx,backendName:"webgl",kernelFunc:kL};function EL(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.backend,i=e.bias,s=void 0===i?null:i,u=e.preluActivationWeights,c=void 0===u?null:u,l=e.leakyreluAlpha,d=void 0===l?0:l,p=e.activation,f=void 0===p?null:p,h=t.shape.length,m=n.shape.length,v=r?t.shape[h-2]:t.shape[h-1],g=a?n.shape[m-1]:n.shape[m-2],y=r?t.shape[h-1]:t.shape[h-2],b=a?n.shape[m-2]:n.shape[m-1],x=t.shape.slice(0,-2),w=n.shape.slice(0,-2),k=Dg(x),S=Dg(w),E=SS(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,b]);Og(v===g,(function(){return"Error in matMul: inner shapes (".concat(v,") and (")+"".concat(g,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var C,T=r?[k,v,y]:[k,y,v],N=a?[S,b,g]:[S,g,b],_=pL({inputs:{x:t},backend:o,attrs:{shape:T}}),I=pL({inputs:{x:n},backend:o,attrs:{shape:N}}),O=[_,I],R=Math.max(k,S),A=r?_.shape[1]:_.shape[2],M=null!=s,D=null!=c,P="leakyrelu"===f,F=null!=f?aL(f,!0):null;if((1===y||1===b)&&A>1e3&&!1===(M||D||P||null!=F)){var L=_,Z=I;r&&(L=kL({inputs:{x:_},backend:o,attrs:{perm:[0,2,1]}}),O.push(L)),a&&(Z=kL({inputs:{x:I},backend:o,attrs:{perm:[0,2,1]}}),O.push(Z));var j=1===b,B=L;1!==b&&(B=pL({inputs:{x:L},backend:o,attrs:{shape:[R,A,1]}}),O.push(B));var V=1===b?2:1,z=Z;j&&(z=pL({inputs:{x:Z},backend:o,attrs:{shape:[R,1,A]}}),O.push(z));var U=lL({inputs:{a:B,b:z},backend:o});C=xL({inputs:{x:U},backend:o,attrs:{axis:V,keepDims:!0}}),O.push(U)}else{var W=Hw(t.dtype,n.dtype),q=new oL(T,N,[R,y,b],r,a,M,F,D,P),G=[_,I];if(null!=s&&G.push(s),D&&G.push(c),P){var H=o.makeTensorInfo([],"float32",kw(d,"float32"));G.push(H),O.push(H)}C=o.runWebGLProgram(q,G,W)}var Q=pL({inputs:{x:C},backend:o,attrs:{shape:E}});O.push(C);for(var K=0,X=O;K<X.length;K++){var Y=X[K];o.disposeIntermediateTensorInfo(Y)}return Q}var CL={kernelName:Qx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,i=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return EL({a:a,b:o,transposeA:u,transposeB:c,backend:n,bias:i,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},TL="return abs(x);";var NL={kernelName:my,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var o=r.texData.get(a.dataId),i=tF(o.values);return r.makeTensorInfo(a.shape,a.dtype,i)}return t=ly().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new ZF(a.shape,TL):new EF(a.shape,TL),r.runWebGLProgram(t,[a],a.dtype)}},_L=nL({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),IL={kernelName:vy,backendName:"webgl",kernelFunc:_L},OL=nL({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),RL={kernelName:gy,backendName:"webgl",kernelFunc:OL},AL="return a + b;",ML=rL({opSnippet:AL,packedOpSnippet:AL,supportsComplex:!0,cpuKernelImpl:_P}),DL={kernelName:yy,backendName:"webgl",kernelFunc:ML},PL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),FL=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var LL={kernelName:by,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return GF({inputs:{x:a[0]},backend:r});if(a.length>ly().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(a.length/2),i=e({inputs:a.slice(0,o),backend:r}),s=e({inputs:a.slice(o),backend:r});return e({inputs:[i,s],backend:r})}var u=a.map((function(e){return e.dtype})).reduce((function(e,t){return Hw(e,t)})),c=a.map((function(e){return e.shape})),l=ly().getBool("WEBGL_PACK")?new FL(a[0].shape,c):new PL(a[0].shape,c);return r.runWebGLProgram(l,a,u)}};var ZL={kernelName:xy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=Bg(o,a.shape),c=u,l=FC(c,s),d=a;null!=l&&(d=kL({inputs:{x:a},backend:n,attrs:{perm:l}}),c=ZC(c.length,s)),PC("all",c,s);var p,f=MC(d.shape,c),h=(0,E.Z)(f,2),m=h[0],v=pL({inputs:{x:d},backend:n,attrs:{shape:[-1,Dg(h[1])]}}),g=vL(v,v.dtype,"all",n);return p=pL(i?{inputs:{x:g},backend:n,attrs:{shape:DC(m,u)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=l&&n.disposeIntermediateTensorInfo(d),p}};var jL={kernelName:wy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=Bg(o,a.shape),c=u,l=FC(c,s),d=a;null!=l&&(d=kL({inputs:{x:a},backend:n,attrs:{perm:l}}),c=ZC(c.length,s)),PC("any",c,s);var p,f=MC(d.shape,c),h=(0,E.Z)(f,2),m=h[0],v=pL({inputs:{x:d},backend:n,attrs:{shape:[-1,Dg(h[1])]}}),g=vL(v,v.dtype,"any",n);return p=pL(i?{inputs:{x:g},backend:n,attrs:{shape:DC(m,u)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=l&&n.disposeIntermediateTensorInfo(d),p}},BL=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["A"];var a=t.windowSize,o=t.batchSize,i=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),VL=(0,ti.Z)((function e(t,n,r,a){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Og(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var o=t[t.length-1],i=Math.ceil(o/n);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),a||this.variableNames.push("bestIndicesA");var s,u,c=this.outputShape,l=c.length,d=fD(l),p=gF("coords",l);if(1===i){var f=fD(u=l+1);s="\n        ".concat(f," sourceLocR = ").concat(f,"(").concat(p.join(),", 0);\n        ++").concat(p[l-1],";\n        ").concat(f," sourceLocG = ").concat(f,"(").concat(p.join(),", 0);\n        ++").concat(p[l-2],";\n        ").concat(f," sourceLocA = ").concat(f,"(").concat(p.join(),", 0);\n        --").concat(p[l-1],";\n        ").concat(f," sourceLocB = ").concat(f,"(").concat(p.join(),", 0);\n        --").concat(p[l-2],";")}else u=l,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(p[l-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(p[l-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(p[l-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(p[l-2],";");var h=["x","y","z","w","u","v"].slice(0,u),m="."+h[u-1],v=h.map((function(e){return"int "+e})),g=gF("sourceLocR",u-1).concat("inIdx.r"),y=gF("sourceLocG",u-1).concat("inIdx.g"),b=gF("sourceLocB",u-1).concat("inIdx.b"),x=gF("sourceLocA",u-1).concat("inIdx.a"),w="max"===r?"greaterThan":"lessThan",k=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),S="vec4(\n            getAChannel(".concat(g.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),E=a?"":"\n      float getBestIndicesAChannel(".concat(v.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(v.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(E,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(p[l-1]," < ").concat(c[l-1]-1,";\n        bool hasNextRow = ").concat(p[l-2]," < ").concat(c[l-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(S,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(k,"\n          vec4 candidate = ").concat(S,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(w,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function zL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],o=t.shape[1];null!=r&&(a=r.shape[0],o=r.shape[1]);var i=gI(o),s={windowSize:i,inSize:o,batchSize:a,outSize:Math.ceil(o/i)},u=new BL(s,n,null==r),c=[t];null!=r&&c.push(r);var l=e.runWebGLProgram(u,c,"int32");if(1===l.shape[1])return l;var d=zL(e,t,n,l);return e.disposeIntermediateTensorInfo(l),d}function UL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,o=a[a.length-1],i=gI(o),s=new VL(a,i,n,null==r),u=null==r?[t]:[t,r],c=e.runWebGLProgram(s,u,"int32");if(c.shape.length===t.shape.length){var l=UL(e,t,n,c);return e.disposeIntermediateTensorInfo(c),l}return c}function WL(e,t,n,r){var a=[n];if(PC("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!ly().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var o=[],i=e.texData.get(t.dataId),s=t;null!==i&&i.isPacked&&(s=e.unpackTensor(t),o.push(s));var u=MC(s.shape,a),c=(0,E.Z)(u,2),l=c[0],d=Dg(c[1]),p=pL({inputs:{x:s},backend:e,attrs:{shape:[-1,d]}});o.push(p);var f=zL(e,p,r);o.push(f);var h=pL({inputs:{x:f},backend:e,attrs:{shape:l}});return o.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),h}return UL(e,t,r)}var qL={kernelName:ky,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=Bg(r.axis,a.shape),i=FC(o,a.shape.length),s=a,u=[];null!=i&&(s=kL({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(s),o=ZC(o.length,s.shape.length)),PC("argMax",[o[0]],s.shape.length);var c=WL(n,s,o[0],"max");return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c}};var GL={kernelName:Sy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=Bg(r.axis,a.shape),i=FC(o,a.shape.length),s=a,u=[];null!=i&&(s=kL({inputs:{x:a},backend:n,attrs:{perm:i}}),u.push(s),o=ZC(o.length,s.shape.length)),PC("argMin",[o[0]],s.shape.length);var c=WL(n,s,o[0],"min");return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c}},HL=nL({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),QL={kernelName:Ey,backendName:"webgl",kernelFunc:HL},KL=nL({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),XL={kernelName:Cy,backendName:"webgl",kernelFunc:KL},YL=nL({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),$L={kernelName:Ty,backendName:"webgl",kernelFunc:YL},JL=rL({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),eZ={kernelName:_y,backendName:"webgl",kernelFunc:JL},tZ=nL({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),nZ={kernelName:Ny,backendName:"webgl",kernelFunc:tZ},rZ=(0,ti.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,ei.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="0.0";if(m||(y="-1.0 / 1e-20"),r){var b=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(b," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?o?v:g:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var k=4*Math.floor(i/4),S=i%4,E="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(E,"\n          }\n\n          int xC = xCCorner + ").concat(k,";\n          if (").concat(1===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(2===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(3===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(E,"\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}})),aZ=(0,ti.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,ei.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,d=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,v=t.padInfo.front,g=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;var b="avg"===n,x="0.0";if(b||(x="-1.0 / 1e-20"),r){var w=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(f,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(w," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?o?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(h," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",S="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(S="avgValue / count");var E=4*Math.floor(i/4),C=i%4,T="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(E,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(T,"\n            }\n\n            int xC = xCCorner + ").concat(E,";\n            if (").concat(1===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(2===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(T,"\n            } else if (").concat(3===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(T,"\n            }\n          }\n          setOutput(").concat(S,");\n        }\n      }\n    ")}}));var oZ={kernelName:Iy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;BM(a,"avgPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;Og(oE(i,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c=HS(a.shape,o,i,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&Pg(c.inShape,c.outShape))return GF({inputs:{x:a},backend:n});var l=new rZ(c,"avg",!1);return n.runWebGLProgram(l,[a],"float32")}};var iZ={kernelName:Oy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode,c=r.dataFormat,l=QS(a.shape,o,i,[1,1,1],s,u,c),d=new aZ(l,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}},sZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,d=c-1-t.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(d,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),uZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterDepth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=d-1-t.padInfo.front,m=p-1-t.padInfo.top,v=f-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(m,", ").concat(v,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var cZ={kernelName:"AvgPool3DGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=QS(o.shape,i,s,[1,1,1],u,c),d=new uZ(l);return n.runWebGLProgram(d,[a],o.dtype)}};var lZ={kernelName:"AvgPoolGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;BM([a,o],"avgPoolGrad");var s=r.filterSize,u=r.strides,c=r.pad,l=HS(i.shape,s,u,1,c),d=new sZ(l);return n.runWebGLProgram(d,[a],i.dtype)}};var dZ={kernelName:Ry,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return EL({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},pZ=(0,ti.Z)((function e(t,n,r,a,o,i){(0,ei.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],SS(t,n),SS(t,r);var s="0.0";null!=a&&(SS(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=o&&(SS(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(u,";\n        float inv = scale * inversesqrt(variance + float(").concat(i,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),fZ=(0,ti.Z)((function e(t,n,r,a,o,i){(0,ei.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],SS(t,n),SS(t,r);var s="vec4(0.0)";null!=a&&(SS(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="vec4(1.0)";null!=o&&(SS(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(u,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(i,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),hZ={kernelName:pb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.mean,i=t.variance,s=t.offset,u=t.scale;Og(o.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Og(null==s||o.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Og(null==u||o.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var c=r.varianceEpsilon;null==c&&(c=.001);var l=[a,o,i],d=null;null!=s&&(d=s.shape,l.push(s));var p=null;null!=u&&(p=u.shape,l.push(u));var f=ly().getBool("WEBGL_PACK_NORMALIZATION")?new fZ(a.shape,o.shape,i.shape,d,p,c):new pZ(a.shape,o.shape,i.shape,d,p,c);return n.runWebGLProgram(f,l,l[0].dtype)}},mZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=fD(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return vZ.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),o=t.map((function(e,t){return"sourceLoc.".concat(vZ[t]," = start[").concat(t,"] + coords.").concat(vZ[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),vZ=["x","y","z","w","u","v"];var gZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=fD(this.rank),r=gF("coords",this.rank),a=gF("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),i="getChannel(getSource(".concat(a.join(),"), ").concat(o,")"),s="\n      result.x = ".concat(i,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(i,";\n        --").concat(a[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(i,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(i,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function yZ(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=OS(a,r.begin,r.size),i=(0,E.Z)(o,2),s=i[0],u=i[1];if(NS(a,s,u),0===Dg(u))return n.makeTensorInfo(u,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var c=n.texData.get(a.dataId),l=nF(c.values,s,u,a.shape,a.dtype);return n.makeTensorInfo(u,a.dtype,l)}var d=n.texData.get(a.dataId).isPacked,p=_S(a.shape,s,u);if(d||!p){var f=ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gZ(u):new mZ(u),h=[s];return n.runWebGLProgram(f,[a],a.dtype,h)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),i=r.texData.get(o.dataId);Object.assign(i,a),i.refCount=1,i.shape=n,i.dtype=e.dtype;var s=IS(t,Yg(e.shape));a.slice&&(s+=a.slice.flatOffset),i.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var u=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,u+1),o}(a,s,u,n)}var bZ={kernelName:mx,backendName:"webgl",kernelFunc:yZ},xZ={kernelName:Ay,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.crops;Og(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=o.reduce((function(e,t){return e*t})),u=yI(a.shape,o,s),c=bI(u.length,o.length),l=xI(a.shape,o,s),d=function(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}(i,o.length),p=function(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}(l,i,o.length),f=[],h=pL({inputs:{x:a},backend:n,attrs:{shape:u}}),m=kL({inputs:{x:h},backend:n,attrs:{perm:c}}),v=pL({inputs:{x:m},backend:n,attrs:{shape:l}}),g=yZ({inputs:{x:v},backend:n,attrs:{begin:d,size:p}});return f.push(h),f.push(m),f.push(v),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var wZ={kernelName:My,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=IP(s,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}};var kZ={kernelName:Dy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.readSync(r.dataId),i=n.readSync(a.dataId),s=SS(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},SZ=rL({opSnippet:"return float(a != b);",cpuKernelImpl:XP,dtype:"bool"}),EZ={kernelName:qb,backendName:"webgl",kernelFunc:SZ};function CZ(e){var t=e.inputs,n=e.backend,r=t.input;return GF({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var TZ={kernelName:nx,backendName:"webgl",kernelFunc:CZ};var NZ={kernelName:Py,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,o=n.x,i=a.dtype;if("complex64"===i){if("complex64"===o.dtype)return GF({inputs:{x:o},backend:r});var s=KC(o.shape),u=e({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),c=QF({inputs:{real:u,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(u),c}if("complex64"===o.dtype){var l=CZ({inputs:{input:o},backend:r}),d=e({inputs:{x:l},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(l),d}if(!Wg(o.dtype,i)){var p=GF({inputs:{x:o},backend:r});return{dataId:p.dataId,shape:p.shape,dtype:i}}if("int32"===i)return function(e,t){var n=new EF(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(o,r);if("bool"===i){var f=r.makeTensorInfo([],"bool",zg("bool",1)),h=SZ({inputs:{a:o,b:f},backend:r});return r.disposeIntermediateTensorInfo(f),h}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(i))}},_Z="return ceil(x);",IZ=nL({opSnippet:_Z,packedOpSnippet:_Z,cpuKernelImpl:RP}),OZ={kernelName:Fy,backendName:"webgl",kernelFunc:IZ},RZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),AZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var MZ={kernelName:Ly,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.clipValueMin,s=a.clipValueMax;t=ly().getBool("WEBGL_PACK_CLIP")?new AZ(o.shape):new RZ(o.shape);var u=[[i],[s]];return r.runWebGLProgram(t,[o],o.dtype,u)}},DZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function PZ(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var FZ={kernelName:jy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),o=new DZ(r.shape),i=[PZ(r,a.complexTensorInfos.real),PZ(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}},LZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.outputShape=[],this.outputShape=vI(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],o=1;o<n.length;o++){var i=n[o-1];a.push("else if (yC < ".concat(n[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(i,"));"))}var s=n.length,u=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(u,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),ZZ=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=vI(t,n);var r=this.outputShape,a=r.length,o=fD(a),i=gF("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var u=new Array(t.length-1);u[0]=t[0][n];for(var c=1;c<u.length;c++)u[c]=u[c-1]+t[c][n];for(var l=s[n],d=s.slice(-2),p=s.join(),f="if (".concat(l," < ").concat(u[0],") {\n        return getChannel(\n            getT0(").concat(p,"), vec2(").concat(d.join(),"));\n        }"),h=1;h<u.length;h++){var m=u[h-1];f+="\n        if (".concat(l," < ").concat(u[h],"  && ").concat(l," >= ").concat(u[h-1],") {\n          return getChannel(\n            getT").concat(h,"(").concat(jZ(s,l,m),"),\n            vec2(").concat(jZ(d,l,m),"));\n        }")}var v=u.length,g=u[u.length-1];f+="\n        return getChannel(\n          getT".concat(v,"(").concat(jZ(s,l,g),"),\n          vec2(").concat(jZ(d,l,g),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(f,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(i,"), 0., 0., 0.);\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," + 1;\n        if (").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-2]," = ").concat(i[a-2]," + 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," - 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2]," &&\n            ").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(i,");\n        }\n        setOutput(result);\n      }\n    ")}));function jZ(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function BZ(e){var t=e.inputs,n=e.backend,r=t.input;return GF({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var VZ={kernelName:bb,backendName:"webgl",kernelFunc:BZ};function zZ(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return CZ({inputs:{input:e},backend:n})})),o=e.map((function(e){return BZ({inputs:{input:e},backend:n})})),i=zZ(a,t,n),s=zZ(o,t,n),u=QF({inputs:{real:i,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}var c=n.shouldExecuteOnCPU(e);if("string"===r&&(c=!0),c){var l=e.map((function(e){var r=Dg(e.shape.slice(t));return pL({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=l.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=vI(l.map((function(e){return e.shape})),1),f=1===l[0].shape[0],h=AP(d,p,r,f),m=vI(e.map((function(e){return e.shape})),t),v=n.makeTensorInfo(m,r,h);return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}if(e.length>ly().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var g=Math.floor(e.length/2),y=zZ(e.slice(0,g),t,n),b=zZ(e.slice(g),t,n),x=zZ([y,b],t,n);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),x}if(ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var w=new ZZ(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(w,e,r)}var k=function(e,t,n){var r=vI(e.map((function(e){return e.shape})),t),a=e.map((function(e){return pL({inputs:{x:e},attrs:{shape:[-1,Dg(e.shape.slice(t))]},backend:n})}));return{tensors2D:a,outShape:r}}(e,t,n),S=k.tensors2D,E=k.outShape,C=new LZ(S.map((function(e){return e.shape}))),T=n.runWebGLProgram(C,S,r);S.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var N=pL({inputs:{x:T},attrs:{shape:E},backend:n});return n.disposeIntermediateTensorInfo(T),N}function UZ(e){var t=e.inputs,n=e.backend,r=Bg(e.attrs.axis,t[0].shape)[0],a=vI(t.map((function(e){return e.shape})),r);if(0===Dg(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return Dg(e.shape)>0}));if(1===o.length)return GF({inputs:{x:o[0]},backend:n});var i=o.map((function(e){return e.shape}));return function(e,t){var n=e[0].length;e.forEach((function(e,t){Og(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),Og(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var o=0;o<n;o++)Og(o===t||e[o]===r[o],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}(i,r),zZ(o,r,n)}var WZ={kernelName:By,backendName:"webgl",kernelFunc:UZ},qZ=(0,ti.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,ei.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,d=t.dilationWidth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4,v="channelsLast"===t.dataFormat,g=v?1:2,y=v?2:3,b=v?3:1,x="",w="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(f,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(k,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),GZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.filterDepth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(i,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),HZ=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=wD(this.outputShape.length);for(var r=n.dataFormat,a=zM(),o="channelsLast"===r,i=o?0:1,s=o?1:2,u=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),c="",l=0;l<=1;l++)for(var d=0;d<=1;d++)c+="\n          blockIndex = rc.y + ".concat(d,";\n          pos = rc.x + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(i,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function QZ(e){var t,n=e.x,r=e.filter,a=e.convInfo,o=e.backend,i=e.bias,s=void 0===i?null:i,u=e.preluActivationWeights,c=void 0===u?null:u,l=e.leakyreluAlpha,d=void 0===l?0:l,p=e.activation,f=void 0===p?null:p,h=n.shape,m=o.texData.get(n.dataId),v=a.inChannels,g=h[0]*h[1]*h[2],y=a.outChannels,b="channelsLast"===a.dataFormat,x=[];if(!((1===g||1===y)&&v>1e3)&&m.isPacked&&b&&null!=m.texture&&h[2]%2!==0&&Pg(m.shape.slice(-3),h.slice(-3))){var w=h[0]*h[1]*(h[2]+1),k={dataId:n.dataId,shape:[1,w,a.inChannels],dtype:n.dtype},S=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,Og(PM(m.shape,k.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(k.shape," isn't free")}));var E=pL({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}});x.push(E);var C=EL({a:k,b:E,backend:o,transposeA:false,transposeB:false,bias:s,activation:f,preluActivationWeights:c,leakyreluAlpha:d}),T=o.texData.get(C.dataId);Og(T.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=S,T.shape=a.outShape,(t=GF({inputs:{x:C},backend:o})).shape=a.outShape,x.push(C)}else{var N=pL({inputs:{x:n},backend:o,attrs:{shape:[1,b?h[0]*h[1]*h[2]:h[0]*h[2]*h[3],a.inChannels]}}),_=pL({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}}),I=EL({a:N,b:_,transposeA:false,transposeB:false,backend:o,bias:s,activation:f,preluActivationWeights:c,leakyreluAlpha:d});t=pL({inputs:{x:I},backend:o,attrs:{shape:a.outShape}}),x.push(N),x.push(_),x.push(I)}for(var O=0,R=x;O<R.length;O++){var A=R[O];o.disposeIntermediateTensorInfo(A)}return t}function KZ(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,o=e.bias,i=void 0===o?null:o,s=e.preluActivationWeights,u=void 0===s?null:s,c=e.leakyreluAlpha,l=void 0===c?0:c,d=e.activation,p=void 0===d?null:d,f=r.filterWidth,h=r.filterHeight,m=r.inChannels,v=r.outWidth,g=r.outHeight,y="channelsLast"===r.dataFormat,b=f*h*m,x=g*v,w=[b,x],k=[],S=pL({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),E=pL({inputs:{x:n},backend:a,attrs:{shape:[1,b,Dg(n.shape)/b]}});k.push(S),k.push(E);var C=new HZ(w,r),T=[S.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],N=a.runWebGLProgram(C,[S],"float32",T),_=pL({inputs:{x:N},backend:a,attrs:{shape:[1,w[0],w[1]]}});k.push(N),k.push(_);var I=null!=i,O=null!=u,R="leakyrelu"===p,A=p?aL(p,!0):null,M=new oL(_.shape,E.shape,[1,x,r.outChannels],!0,!1,I,A,O,R),D=[_,E];if(i&&D.push(i),O&&D.push(u),R){var P=a.makeTensorInfo([],"float32",kw(l,"float32"));D.push(P),k.push(P)}var F=a.runWebGLProgram(M,D,"float32"),L=pL({inputs:{x:F},backend:a,attrs:{shape:y?[1,g,v,r.outChannels]:[1,r.outChannels,g,v]}});k.push(F);for(var Z=0,j=k;Z<j.length;Z++){var B=j[Z];a.disposeIntermediateTensorInfo(B)}return L}var XZ={kernelName:Vy,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=a.strides,u=a.pad,c=a.dataFormat,l=a.dilations,d=a.dimRoundingMode,p=iE(c),f=KS(o.shape,i.shape,s,l,u,d,!1,p);if(1!==f.filterHeight||1!==f.filterWidth||1!==f.dilationHeight||1!==f.dilationWidth||1!==f.strideHeight||1!==f.strideWidth||"SAME"!==f.padInfo.type&&"VALID"!==f.padInfo.type)if(ly().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=KZ({x:o,filter:i,convInfo:f,backend:r});else{var h=new qZ(f);t=r.runWebGLProgram(h,[o,i],"float32")}else t=QZ({x:o,filter:i,convInfo:f,backend:r});var m=pL({inputs:{x:t},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),m}},YZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(i,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),$Z=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=i?1:2,l=i?2:3,d=i?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(i,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),JZ=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(i,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),ej=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var tj={kernelName:zy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dimRoundingMode,l=r.filterShape,d=iE(u),p=KS(a.shape,l,i,1,s,c,!1,d),f=new YZ(p);return n.runWebGLProgram(f,[a,o],"float32")}};var nj={kernelName:Uy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.inputShape,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,d=iE(c),p=KS(i,o.shape,s,1,u,l,!1,d),f=new $Z(p);return n.runWebGLProgram(f,[a,o],"float32")}};var rj={kernelName:Wy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=XS(a.shape,o.shape,i,u,s),l=new GZ(c);return n.runWebGLProgram(l,[a,o],"float32")}};var aj={kernelName:"Conv3DBackpropFilterV2",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.filterShape,c=XS(a.shape,u,i,1,s),l=new JZ(c);return n.runWebGLProgram(l,[a,o],"float32")}};var oj={kernelName:qy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.pad,s=r.strides,u=XS(r.inputShape,o.shape,s,1,i),c=new ej(u);return n.runWebGLProgram(c,[a,o],"float32")}},ij={kernelName:"Cos",backendName:"webgl",kernelFunc:nL({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"})},sj=nL({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),uj={kernelName:Gy,backendName:"webgl",kernelFunc:sj},cj=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=(0,E.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3],d=(0,E.Z)(n,1)[0],p=(0,E.Z)(r,2),f=p[0],h=p[1];this.outputShape=[d,f,h,l];var m="bilinear"===a?1:0,v="".concat(u-1,".0"),g="".concat(c-1,".0"),y=f>1?["".concat((u-1)/(f-1)),"(y2-y1) * height_ratio","y1*".concat(v," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(v)],b=(0,E.Z)(y,3),x=b[0],w=b[1],k=b[2],S=h>1?["".concat((c-1)/(h-1)),"(x2-x1) * width_ratio","x1*".concat(g," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(g)],C=(0,E.Z)(S,3),T=C[0],N=C[1],_=C[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(T,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(w,";\n        float width_scale = ").concat(N,";\n\n        float in_y = ").concat(k,";\n        if( in_y < 0.0 || in_y > ").concat(v," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(_,";\n        if( in_x < 0.0 || in_x > ").concat(g," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),lj={kernelName:Qy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new cj(a.shape,o.shape,s,u,c);return n.runWebGLProgram(l,[a,o,i],"float32")}},dj=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.outputShape=t;var a=t.length,o=n?"0.0":"getX(".concat(pj(a,"coords"),")"),i=t[t.length-1],s="",u="";n?(s=r?"end != ".concat(i-1):"end != 0",u=r?"end + 1":"end - 1"):(s=r?"end + pow2 < ".concat(i):"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(fD(a)," coords = getOutputCoords();\n        int end = ").concat(fj(a,"coords"),";\n        float val = ").concat(o,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(s,") {\n          int idx = ").concat(u,";\n          ").concat(fj(a,"coords")," = idx;\n          val += getX(").concat(pj(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")}));function pj(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}function fj(e,t){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative sum for rank ".concat(e," is not yet supported"))}var hj={kernelName:Hy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,s=r.reverse,u=a.shape.length,c=FC([o],u),l=a;null!=c&&(l=kL({inputs:{x:a},backend:n,attrs:{perm:c}}));var d=ZC(1,u)[0];if(d!==u-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(a.shape.length-1," ")+"but got axis=".concat(o));for(var p=l.shape[d],f=GF({inputs:{x:l},backend:n}),h=0;h<=Math.ceil(Math.log2(p))-1;h++){var m=new dj(l.shape,!1,s),v=[[h]],g=f;f=n.runWebGLProgram(m,[f],f.dtype,v),n.disposeIntermediateTensorInfo(g)}if(i){var y=new dj(l.shape,i,s),b=f;f=n.runWebGLProgram(y,[f],f.dtype),n.disposeIntermediateTensorInfo(b)}if(null!=c){var x=kL({inputs:{x:f},backend:n,attrs:{perm:LC(c)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),x}return f}};var mj={kernelName:Ky,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),c=n.readSync(o.dataId),l=IP(u,c,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,l)}if(2===a.shape.length){var d=n.bufferSync(a),p=n.bufferSync(o),f=OP(d,p,i,s);return n.makeTensorInfo(f.shape,o.dtype,f.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},vj=function(){function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,ti.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var gj={kernelName:Xy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,i=r.dataFormat,s=a.shape[0],u=("NHWC"===i?a.shape[1]:a.shape[2])*o,c=("NHWC"===i?a.shape[2]:a.shape[3])*o,l=("NHWC"===i?a.shape[3]:a.shape[1])/(o*o),d=new vj("NHWC"===i?[s,u,c,l]:[s,l,u,c],o,i);return n.runWebGLProgram(d,[a],a.dtype)}},yj=(0,ti.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,ei.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=wD(this.outputShape.length);var i=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(i,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),bj=(0,ti.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,ei.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=wD(this.outputShape.length);for(var i=t.outChannels/t.inChannels,s=t.padInfo.left,u=t.strideWidth,c=t.dilationWidth,l=t.filterHeight,d=t.filterWidth,p=d,f="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",h=0;h<d;h++)f+="\n          vec4 xTexelC".concat(2*h,";\n          int xTexelC").concat(2*h,"Ready;\n          vec4 xTexelC").concat(2*h+1,";\n          int xTexelC").concat(2*h+1,"Ready;\n          vec4 xC").concat(h,";");f+="\n    for (int r = 0; r < ".concat(l,"; r++) {\n      ");for(var m=0;m<d;m++)f+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");f+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var v=0;v<(p+1)/2;v++){var g=2*v;if(f+="\n          xC = xCCorner + ".concat(g*c,";\n          "),1===u){if(g<d&&(s%2===1?(f+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n              "),f+=1===c&&g>0?"\n                xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                  } else {\n                    xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                  }\n                  ")):f+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xC").concat(g," = xTexelC").concat(g,";\n                "),g+1<d)){var y=s%2===0?Ng(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(f+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                    xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(g+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(g+1,"Ready = 1;\n                  }\n                  "),c>1&&(f+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                      xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(g,"Ready = 1;\n                    }\n                    ")),f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                  ")):f+=1===y?"\n                    xC".concat(g+1," = xTexelC").concat(g,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                      xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(g+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(g+1,"Ready = 1;\n                    }\n\n                    xC").concat(g+1," = xTexelC").concat(g+1,";\n                    ")}}else g<d&&(s%2===1?(f+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n              "),g+1<d&&(f+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                "))):(f+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(\n                  xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n              "),g+1<d&&(f+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                "))));g<d&&(f+="\n            wTexel = getW(r, ".concat(g,", d1, q);\n            dotProd += xC").concat(g," * vec4(wTexel.xz, wTexel.xz);\n          "),g+1<d&&(f+="\n              wTexel = getW(r, ".concat(g+1,", d1, q);\n              dotProd += xC").concat(g+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}f+="\n    }\n  ",f+="\n      }\n    ";var b="",x="";r&&(b=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),x="result = activation(result);");var w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(f,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}));var xj={kernelName:Yy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=r.dimRoundingMode,l=u;null==l&&(l=[1,1]),Og(oE(i,l),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(l,"'")}));var d,p=KS(a.shape,o.shape,i,l,s,c,!0);d=ly().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new bj(p):new yj(p);var f=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(d,[a,o],"float32",f)}},wj=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(i," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),kj=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var Sj={kernelName:$y,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,l=r.filterShape,d=KS(a.shape,l,i,s,u,c,!0),p=new wj(d);return n.runWebGLProgram(p,[a,o],"float32")}};var Ej={kernelName:Jy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,l=KS(r.inputShape,o.shape,i,s,u,c,!0),d=new kj(l);return n.runWebGLProgram(d,[a,o],"float32")}},Cj=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Tj={kernelName:eb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,De.Z)(r.shape),(0,De.Z)(r.shape)),o=Dg(r.shape),i=pL({inputs:{x:r},backend:n,attrs:{shape:[o]}}),s=new Cj(o),u=n.runWebGLProgram(s,[i],i.dtype),c=pL({inputs:{x:u},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),c}},Nj=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,o=t.strideHeight,i=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,d=a.top,p=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(p,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var _j={kernelName:tb,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=a.strides,u=a.pad,c=a.dilations,l=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,i=e[3],s=[].concat((0,De.Z)(t),[i]),u=iE(a);return KS(e,s,n,o,r,null,null,u)}(o.shape,i.shape,s,u,"NHWC",c),d=new Nj(l),p=pL({inputs:{x:t=r.runWebGLProgram(d,[o,i],"float32")},backend:r,attrs:{shape:l.outShape}});return r.disposeIntermediateTensorInfo(t),p}};var Ij={kernelName:rb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,a=function(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(CI,"").length)/EI.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(EI,'").'));var r=e.split(EI),a=(0,E.Z)(r,2),o=a[0],i=a[1];Og(-1===o.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var s=o.split(","),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=i[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},d=0;d<i.length;++d)l(d);for(var p=0;p<o.length;++p){var f=o[p];-1===c.indexOf(f)&&","!==f&&c.push(f)}for(var h=new Array(s.length),m=0;m<u;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error("Found duplicate axes in input component ".concat(s[m],". ")+"Support for duplicate axes in input is not implemented yet.");h[m]=[];for(var v=0;v<s[m].length;++v)h[m].push(c.indexOf(s[m][v]))}for(var g=c.length,y=[],b=i.length;b<g;++b)y.push(b);return{allDims:c,summedDims:y,idDims:h}}(e.attrs.equation,r.length),o=a.allDims,i=a.summedDims,s=a.idDims;!function(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,o=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:Og(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},i=0;i<t[e].length;++i)o(i)},o=0;o<n.length;++o)a(o)}(o.length,s,r);for(var u=function(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var o=0;o<n;++o)a.push([]);for(var i=[],s=0;s<r.length;++s){var u,c=_I(t,r[s]),l=(0,pc.Z)(c);try{for(l.s();!(u=l.n()).done;){var d=u.value;-1===i.indexOf(d)&&(a[s].push(d),i.push(d))}}catch(RQ){l.e(RQ)}finally{l.f()}}return{path:r,steps:a}}(i,s),c=u.path,l=u.steps,d=l.length,p=null,f=o.length,h=[],m=0;m<d;++m){var v,g=(0,pc.Z)(l[m]);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=TI(f,s[y]),x=b.permutationIndices,w=b.expandDims,k=void 0;NI(x)?k=r[y]:(k=kL({inputs:{x:r[y]},backend:n,attrs:{perm:x}}),h.push(k));for(var S=k.shape.slice(),C=0;C<w.length;++C)S.splice(w[C],0,1);Pg(k.shape,S)||(k=pL({inputs:{x:k},backend:n,attrs:{shape:S}}),h.push(k)),null===p?p=k:(p=lL({inputs:{a:k,b:p},backend:n}),h.push(p))}}catch(RQ){g.e(RQ)}finally{g.f()}m<d-1&&(c[m]>=0&&(p=xL({inputs:{x:p},backend:n,attrs:{axis:c[m]-(o.length-f),keepDims:!1}}),h.push(p)),f--)}for(var T=0,N=h;T<N.length;T++){var _=N[T];_!==p&&n.disposeIntermediateTensorInfo(_)}return p}},Oj={kernelName:"Elu",backendName:"webgl",kernelFunc:nL({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"})},Rj={kernelName:"EluGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,o=ly().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new qF("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new WF("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(o,[r,a],r.dtype)}},Aj=rL({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:MP}),Mj={kernelName:ab,backendName:"webgl",kernelFunc:Aj},Dj={kernelName:"Erf",backendName:"webgl",kernelFunc:nL({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(.3275911,";\n  float a1 = ").concat(.254829592,";\n  float a2 = ").concat(-.284496736,";\n  float a3 = ").concat(1.421413741,";\n  float a4 = ").concat(-1.453152027,";\n  float a5 = ").concat(1.061405429,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")})},Pj="return exp(x);",Fj=nL({opSnippet:Pj,packedOpSnippet:Pj,cpuKernelImpl:DP,dtype:"float32"}),Lj={kernelName:ob,backendName:"webgl",kernelFunc:Fj};function Zj(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,o=t.input,i=o.shape.length,s=o.shape.slice(),u=a;return a<0&&(Og(-(i+1)<=a,(function(){return"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")})),u=i+a+1),s.splice(u,0,1),pL({inputs:{x:o},backend:r,attrs:{shape:s}})}var jj={kernelName:ib,backendName:"webgl",kernelFunc:Zj},Bj="return exp(x) - 1.0;",Vj=nL({opSnippet:Bj,packedOpSnippet:Bj,cpuKernelImpl:PP}),zj={kernelName:sb,backendName:"webgl",kernelFunc:Vj},Uj=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var o,i=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)o="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));o="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(i,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(o,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function Wj(e,t,n){var r=n.texData.get(e.dataId),a=Dg(e.shape),o=e.shape[e.shape.length-1],i=pL({inputs:{x:e},backend:n,attrs:{shape:[a/o,o]}}),s=i.shape,u=new Uj("real",s,t),c=new Uj("imag",s,t),l=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(u,l,"float32"),p=n.runWebGLProgram(c,l,"float32"),f=QF({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);var h=pL({inputs:{x:f},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(f),h}var qj={kernelName:"FFT",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Wj(t.input,!1,n)}},Gj=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function Hj(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype;if("string"===(o=o||Qg(a))){var i=Ug(o,Dg(r));return i.fill(a),t.makeTensorInfo(r,o,i)}var s=new Gj(r,a),u=[[a]];return t.runWebGLProgram(s,[],o,u)}var Qj,Kj={kernelName:ub,backendName:"webgl",kernelFunc:Hj},Xj=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),Yj={kernelName:cb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,o=new Xj(r.shape);return a.runWebGLProgram(o,[r],r.dtype)}},$j="return floor(x);",Jj=nL({opSnippet:$j,packedOpSnippet:$j,cpuKernelImpl:FP}),eB={kernelName:lb,backendName:"webgl",kernelFunc:Jj},tB=rL({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),nB={kernelName:db,backendName:"webgl",kernelFunc:tB},rB=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"];var n=zM(),r=(0,E.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(o,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),aB=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=zM(),r=(0,E.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(o,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),oB={kernelName:Gx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,o=r.numChannels,i="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,u=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=(0,E.Z)(u,2),l=c[0],d=c[1],p=[d,l],f=[d,l,o];(s||i)&&(null==Qj&&(Qj=document.createElement("canvas").getContext("2d")),Qj.canvas.width=l,Qj.canvas.height=d,Qj.drawImage(a,0,0,l,d),a=Qj.canvas);var h=n.makeTensorInfo(p,"int32");n.texData.get(h.dataId).usage=aM.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),a);var m=ly().getBool("WEBGL_PACK")?new aB(f):new rB(f),v=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),v}};var iB={kernelName:Kx,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=n.bias,u=n.preluActivationWeights,c=a.strides,l=a.pad,d=a.dataFormat,p=a.dilations,f=a.dimRoundingMode,h=a.activation,m=a.leakyreluAlpha,v=iE(d),g=KS(o.shape,i.shape,c,p,l,f,!1,v),y=[];if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(ly().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=KZ({x:o,filter:i,convInfo:g,backend:r,bias:s,activation:h,preluActivationWeights:u,leakyreluAlpha:m});else{var b=null!=s,x=null!=u,w="leakyrelu"===h,k=h?aL(h,!1):null,S=new qZ(g,b,k,x,w),E=[o,i];if(s&&E.push(s),u&&E.push(u),w){var C=r.makeTensorInfo([],"float32",kw(m,"float32"));E.push(C),y.push(C)}t=r.runWebGLProgram(S,E,"float32")}else t=QZ({x:o,filter:i,convInfo:g,backend:r,bias:s,activation:h,preluActivationWeights:u,leakyreluAlpha:m});var T=pL({inputs:{x:t},backend:r,attrs:{shape:g.outShape}});return y.push(t),y.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),T}};var sB={kernelName:Xx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dilations,d=r.dimRoundingMode,p=r.activation,f=r.leakyreluAlpha,h=[],m=l;null==m&&(m=[1,1]),Og(oE(u,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(m,"'")}));var v,g=KS(a.shape,o.shape,u,m,c,d,!0),y=ly().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=p?aL(p,y):null,x=[a,o],w=null!=i,k=null!=s,S="leakyrelu"===p;if(w&&x.push(i),k&&x.push(s),S){var E=n.makeTensorInfo([],"float32",kw(f,"float32"));x.push(E),h.push(E)}v=y?new bj(g,w,b,k,S):new yj(g,w,b,k,S);var C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(v,x,"float32",C);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}},uB=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=fD(n.length),o=fD(r.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(i,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var cB={kernelName:hb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=a.shape,i=o[o.length-1],s=Dg(r.shape),u=function(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Dg(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,o=a[a.length-1],i=1,s=0;s<a.length-1;++s)i*=a[s];var u=e.shape,c=a.slice();c.pop();for(var l=1,d=o;d<n;++d)l*=u[d],c.push(u[d]);var p=[].concat((0,De.Z)(Yg(e.shape).map((function(e){return e/l}))),[1]).slice(0,o);return[c,i,l,p]}(r,a),c=(0,E.Z)(u,4),l=c[0],d=c[1],p=c[2],f=c[3],h=pL({inputs:{x:a},backend:n,attrs:{shape:[d,i]}}),m=pL({inputs:{x:r},backend:n,attrs:{shape:[Dg(r.shape)/p,p]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var v=n.readSync(a.dataId),g=n.bufferSync(r),y=LP(v,g,r.dtype,d,i,p,f,r.shape,s);return n.makeTensorInfo(l,r.dtype,y.values)}var b=new uB(i,f,[d,p]),x=n.runWebGLProgram(b,[m,h],m.dtype),w=pL({inputs:{x:x},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(x),w}},lB=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=fD(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("int(getIndices(resRC.x, resRC.z))"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(a,"));\n      }\n    ")}));function dB(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,i=r.axis,s=r.batchDims,u=Bg(i,a.shape)[0],c=n.readSync(o.dataId),l=a.shape[u],d=function(e){var t=c[e];Og(t<=l-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(l-1,"]")}))},p=0;p<c.length;++p)d(p);var f=function(e,t,n,r){var a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>o)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(o,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var i=0;i<r;++i)if(e.shape[i]!==t.shape[i])throw new Error("x.shape[".concat(i,"]: ").concat(e.shape[i]," should be equal to indices.shape[").concat(i,"]: ").concat(t.shape[i],"."));for(var s=e.shape[n],u=[],c=1,l=1,d=1,p=0;p<r;++p)u.push(e.shape[p]),c*=e.shape[p];for(var f=r;f<n;f++)u.push(e.shape[f]),l*=e.shape[f];for(var h=r;h<a;h++)u.push(t.shape[h]);for(var m=n+1;m<o;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:c,sliceSize:d,outerSize:l,dimSize:s,outputShape:u}}(a,o,u,s),h=Dg(o.shape),m=[],v=pL({inputs:{x:a},backend:n,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),g=pL({inputs:{x:o},backend:n,attrs:{shape:[f.batchSize,h/f.batchSize]}});m.push(v),m.push(g);var y=[f.batchSize,f.outerSize,h/f.batchSize,f.sliceSize];if(n.shouldExecuteOnCPU([a,o])||"string"===a.dtype){var b=n.bufferSync(g),x=n.bufferSync(v),w=ZP(x,b,y);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(f.outputShape,w.dtype,w.values)}var k=new lB(v.shape,y),S=n.runWebGLProgram(k,[v,g],v.dtype);m.push(S);var E=pL({inputs:{x:S},backend:n,attrs:{shape:f.outputShape}});return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),E}var pB={kernelName:fb,backendName:"webgl",kernelFunc:dB},fB=rL({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:jP,dtype:"bool"}),hB={kernelName:mb,backendName:"webgl",kernelFunc:fB},mB=rL({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:BP}),vB={kernelName:vb,backendName:"webgl",kernelFunc:mB};var gB={kernelName:yb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Wj(t.input,!0,n)}},yB=nL({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),bB={kernelName:xb,backendName:"webgl",kernelFunc:yB},xB=nL({opSnippet:"return float(isinf(x));",dtype:"bool"}),wB={kernelName:wb,backendName:"webgl",kernelFunc:xB},kB=nL({opSnippet:"return float(isnan(x));",dtype:"bool"}),SB={kernelName:kb,backendName:"webgl",kernelFunc:kB},EB=rL({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:VP,dtype:"bool"}),CB={kernelName:Eb,backendName:"webgl",kernelFunc:EB},TB=rL({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:zP,dtype:"bool"}),NB={kernelName:Cb,backendName:"webgl",kernelFunc:TB};var _B={kernelName:Tb,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.num,i=UP(r,a,o);return t.makeTensorInfo([i.length],"float32",i)}},IB=nL({opSnippet:"if (x < 0.0) return NAN;\n  return log(x);",packedOpSnippet:"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:WP}),OB={kernelName:Nb,backendName:"webgl",kernelFunc:IB},RB=nL({opSnippet:"return log(1.0 + x);"}),AB={kernelName:_b,backendName:"webgl",kernelFunc:RB},MB=rL({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),DB={kernelName:Ib,backendName:"webgl",kernelFunc:MB},PB=nL({opSnippet:"return float(!(x >= 1.0));"}),FB={kernelName:Ob,backendName:"webgl",kernelFunc:PB},LB=rL({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),ZB={kernelName:Rb,backendName:"webgl",kernelFunc:LB},jB=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var i,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(i,";\n        setOutput(val);\n      }\n    ")})),BB=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(i,";\n        setOutput(result);\n      }\n    ")})),VB={kernelName:Ab,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,i=r.bias,s=r.alpha,u=r.beta,c=ly().getBool("WEBGL_PACK_NORMALIZATION")?new BB(a.shape,o,i,s,u):new jB(a.shape,o,i,s,u);return n.runWebGLProgram(c,[a],a.dtype)}},zB=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(o,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),UB={kernelName:"LRNGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,i=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,d=new zB(a.shape,s,u,c,l);return n.runWebGLProgram(d,[a,o,i],a.dtype)}};function WB(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,i=r.keepDims,s=a.shape.length,u=Bg(o,a.shape),c=u,l=FC(c,s),d=null!=l,p=n.shouldExecuteOnCPU([a]),f=a;if(d){if(p){for(var h=n.texData.get(f.dataId).values,m=new Array(s),v=0;v<m.length;v++)m[v]=a.shape[l[v]];var g=hF(h,a.shape,a.dtype,l,m);f=n.makeTensorInfo(m,a.dtype),n.texData.get(f.dataId).values=g}else f=bL(a,l,n);c=ZC(c.length,s)}PC("max",c,s);var y,b=MC(f.shape,c),x=(0,E.Z)(b,2),w=x[0],k=x[1],S=w;if(i&&(S=DC(w,u)),p){var C=n.texData.get(f.dataId).values,T=qP(C,Dg(k),S,a.dtype);y=n.makeTensorInfo(S,a.dtype),n.texData.get(y.dataId).values=T}else y=function(e,t,n,r){var a=Dg(t),o=pL({inputs:{x:e},attrs:{shape:[Dg(e.shape)/a,a]},backend:r}),i=vL(o,e.dtype,"max",r),s=pL({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}(f,k,S,n);return d&&n.disposeIntermediateTensorInfo(f),y}var qB={kernelName:Mb,backendName:"webgl",kernelFunc:WB},GB=rL({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:GP}),HB={kernelName:Db,backendName:"webgl",kernelFunc:GB};var QB={kernelName:Pb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;BM(a,"maxPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;Og(oE(i,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c=HS(a.shape,o,i,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&Pg(c.inShape,c.outShape))return GF({inputs:{x:a},backend:n});var l=new rZ(c,"max",!1);return n.runWebGLProgram(l,[a],a.dtype)}};var KB={kernelName:Fb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dimRoundingMode,l=QS(a.shape,o,i,[1,1,1],s,c,u),d=new aZ(l,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}},XB=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,s=o-1-t.padInfo.top,u=i-1-t.padInfo.left,c=o*i-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(i," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),YB=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,d=u-1-t.padInfo.front,p=c-1-t.padInfo.top,f=l-1-t.padInfo.left,h=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(p,", ").concat(f,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(i,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var $B={kernelName:"MaxPool3DGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=QS(o.shape,i,s,[1,1,1],u,c),d=new aZ(l,"max",!0),p=n.runWebGLProgram(d,[o],o.dtype),f=new YB(l),h=n.runWebGLProgram(f,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),h}};var JB={kernelName:"MaxPoolGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;BM([o,t.output],"maxPoolGrad");var s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode,d=HS(i.shape,s,u,1,c,l),p=new rZ(d,"max",!0),f=n.runWebGLProgram(p,[i],i.dtype),h=new XB(d),m=n.runWebGLProgram(h,[a,f],i.dtype);return n.disposeIntermediateTensorInfo(f),m}};var eV={kernelName:Lb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,i=n.strides,s=n.pad,u=n.includeBatchInIndex,c=r;Og(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var l=[1,1];Og(oE(i,l),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(l,"'")}));var d=HS(a.shape,o,i,l,s),p=function(e,t,n,r){var a=new rZ(n,"max",!1),o=r.runWebGLProgram(a,[e],"float32");return a=new rZ(n,"max",!0,!0,t),[o,r.runWebGLProgram(a,[e],"float32")]}(a,u,d,c),f=(0,E.Z)(p,2);return[f[0],f[1]]}};var tV={kernelName:Zb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.keepDims,i=n.axis,s=r,u=a.shape.length,c=Bg(i,a.shape),l=c,d=FC(l,u),p=null!=d,f=s.shouldExecuteOnCPU([a]),h=[],m=a;if(p){if(f){for(var v=s.texData.get(m.dataId).values,g=new Array(u),y=0;y<g.length;y++)g[y]=a.shape[d[y]];var b=hF(v,a.shape,a.dtype,d,g);m=s.makeTensorInfo(g,a.dtype),s.texData.get(m.dataId).values=b}else m=bL(a,d,s);h.push(m),l=ZC(l.length,u)}PC("sum",l,u);var x=MC(m.shape,l),w=(0,E.Z)(x,2),k=w[0],S=w[1],C=k;o&&(C=DC(k,c));for(var T=function(e,t,n,r){var a=Dg(t),o=pL({inputs:{x:e},attrs:{shape:[Dg(e.shape)/a,a]},backend:r}),i=vL(o,"float32","mean",r),s=pL({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}(m,S,C,s),N=0,_=h;N<_.length;N++){var I=_[N];s.disposeIntermediateTensorInfo(I)}return T}};var nV={kernelName:jb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=Bg(o,a.shape),c=u,l=FC(c,s),d=a;null!=l&&(d=kL({inputs:{x:a},backend:n,attrs:{perm:l}}),c=ZC(c.length,a.shape.length)),PC("min",c,s);var p,f=MC(d.shape,c),h=(0,E.Z)(f,2),m=h[0],v=pL({inputs:{x:d},backend:n,attrs:{shape:[-1,Dg(h[1])]}}),g=vL(v,v.dtype,"min",n);return p=pL(i?{inputs:{x:g},backend:n,attrs:{shape:DC(m,u)}}:{inputs:{x:g},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),null!=l&&n.disposeIntermediateTensorInfo(d),p}},rV=rL({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:HP}),aV={kernelName:Bb,backendName:"webgl",kernelFunc:rV},oV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=fD(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),iV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=fD(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=gF("rc",a),c=gF("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p="reflect"===r?0:1,f="";if(1===a){var h="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(p,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(p,";\n        }\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(h,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(h,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(p,") +\n                gte * ((end - 1) * 2 - source + ").concat(p,");\n        source -= start;\n      ");f="\n        ".concat(o," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[a-2]," += 1;\n        if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(u[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")})),sV={kernelName:Vb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.mode,s=ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iV(a.shape,o,i):new oV(a.shape,o,i);return n.runWebGLProgram(s,[a],a.dtype)}},uV={kernelName:"Mod",backendName:"webgl",kernelFunc:rL({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"})},cV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),lV=rL({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),dV={kernelName:nb,backendName:"webgl",kernelFunc:lV},pV="return a - b;",fV=rL({opSnippet:pV,packedOpSnippet:pV,supportsComplex:!0,cpuKernelImpl:dF}),hV={kernelName:Px,backendName:"webgl",kernelFunc:fV};function mV(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=Bg([r.dim],a.shape),i=WB({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),s=DC(i.shape,o),u=pL({inputs:{x:i},backend:n,attrs:{shape:s}}),c=fV({inputs:{a:a,b:u},backend:n}),l=Fj({inputs:{x:c},backend:n}),d=xL({inputs:{x:l},backend:n,attrs:{axis:o,keepDims:!1}}),p=pL({inputs:{x:d},backend:n,attrs:{shape:s}}),f=lV({inputs:{a:l,b:p},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}var vV={kernelName:Ex,backendName:"webgl",kernelFunc:mV};var gV={kernelName:zb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,i=r.seed,s=r.normalized,u=s?a:mV({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=u.shape[0],l=u.shape[1],d=new cV(c,l,o),p=[[i]],f=n.runWebGLProgram(d,[u],"int32",p);return s||n.disposeIntermediateTensorInfo(u),f}},yV="return -x;";var bV={kernelName:Wb,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var o=r.texData.get(a.dataId),i=KP(o.values,a.shape,a.dtype),s=(0,E.Z)(i,2),u=s[0],c=s[1];return r.makeTensorInfo(c,a.dtype,u)}return t=ly().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new ZF(a.shape,yV):new EF(a.shape,yV),r.runWebGLProgram(t,[a],a.dtype)}},xV=l_;var wV={kernelName:Gb,backendName:"webgl",kernelFunc:function(e){Yx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=n.readSync(a.dataId),l=n.readSync(o.dataId),d=xV(c,l,i,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},kV=d_;var SV={kernelName:Hb,backendName:"webgl",kernelFunc:function(e){Yx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize,l=n.readSync(a.dataId),d=n.readSync(o.dataId),p=kV(l,d,i,s,u,c),f=p.selectedIndices,h=p.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},EV=p_;var CV={kernelName:Qb,backendName:"webgl",kernelFunc:function(e){Yx("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma,l=n.readSync(a.dataId),d=n.readSync(o.dataId),p=EV(l,d,i,s,u,c),f=p.selectedIndices,h=p.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},TV=(0,ti.Z)((function e(t,n,r,a){(0,ei.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),NV={kernelName:Xb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,i=r.onValue,s=r.offValue,u=Dg(a.shape),c=new TV(u,o,i,s),l=pL({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[l],a.dtype);n.disposeIntermediateTensorInfo(l);var p=pL({inputs:{x:d},backend:n,attrs:{shape:[].concat((0,De.Z)(a.shape),[o])}});return n.disposeIntermediateTensorInfo(d),p}};function _V(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=CZ({inputs:{input:r},backend:n}),o=_V({inputs:{x:a},backend:n}),i=BZ({inputs:{input:r},backend:n}),s=_V({inputs:{x:i},backend:n}),u=QF({inputs:{real:o,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}return Hj({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var IV={kernelName:Wx,backendName:"webgl",kernelFunc:_V};var OV={kernelName:Kb,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var o=CZ({inputs:{input:a},backend:r}),i=e({inputs:{x:o},backend:r}),s=BZ({inputs:{input:a},backend:r}),u=_V({inputs:{x:s},backend:r}),c=QF({inputs:{real:i,imag:u},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return Hj({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var RV={kernelName:Yb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Zj({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){Rg(a,e.shape,"All tensors passed to stack must have matching shapes"),Og(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=[],s=t.map((function(e){var t=Zj({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),u=UZ({inputs:s,backend:n,attrs:{axis:r}});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}},AV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=fD(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),MV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,o=fD(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=gF("rc",a),c=gF("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p=["".concat(o," rc = outputLoc;"),"".concat(u[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(u[a-2]," += 1;\n       if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(u[a-1]," += 1;\n         if(").concat(l,") {")],f=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",m=0,v=1===a?2:4;m<v;m++)h+="\n        ".concat(p[m],"\n        if (").concat(f,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),DV=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.constantValue;if(0===Dg(a.shape))return Hj({backend:n,attrs:{shape:o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),value:i,dtype:a.dtype}});var s=ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MV(a.shape,o,i):new AV(a.shape,o,i),u=[[i]];return n.runWebGLProgram(s,[a],a.dtype,u)},PV={kernelName:$b,backendName:"webgl",kernelFunc:DV},FV={kernelName:"Pow",backendName:"webgl",kernelFunc:rL({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"})};var LV={kernelName:ex,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.axis,s=a.keepDims,u=o.shape.length,c=[],l=Bg(i,o.shape),d=l,p=FC(d,u),f=o;if(null!=p&&(f=kL({inputs:{x:o},backend:r,attrs:{perm:p}}),d=ZC(d.length,u),c.push(f)),PC("prod",d,u),r.shouldExecuteOnCPU([f])){var h=r.texData.get(f.dataId).values,m=YP(f.shape,f.dtype,h,d),v=m.outVals,g=m.outShape,y=m.outDtype;t=r.makeTensorInfo(g,y,v)}else{var b=MC(f.shape,d),x=(0,E.Z)(b,2),w=x[0],k=Dg(x[1]),S=pL({inputs:{x:f},backend:r,attrs:{shape:[-1,k]}}),C=vL(S,Qw(o.dtype),"prod",r);t=pL({inputs:{x:C},backend:r,attrs:{shape:w}}),c.push(S),c.push(C)}if(s){c.push(t);var T=DC(t.shape,l);t=pL({inputs:{x:t},backend:r,attrs:{shape:T}})}return c.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},ZV=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.step,i=n.dtype,s=$P(r,a,o,i);return t.makeTensorInfo([s.length],i,s)},jV={kernelName:tx,backendName:"webgl",kernelFunc:ZV},BV=nL({opSnippet:"return 1.0 / x;"}),VV={kernelName:rx,backendName:"webgl",kernelFunc:BV},zV=nL({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),UV={kernelName:ax,backendName:"webgl",kernelFunc:zV},WV=nL({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),qV={kernelName:ux,backendName:"webgl",kernelFunc:WV},GV=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,E.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var d,p=[a&&n>1?u-1:u,a&&r>1?c-1:c],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),HV=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,E.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var d,p=[a&&n>1?u-1:u,a&&r>1?c-1:c],f=[a&&n>1?n-1:n,a&&r>1?r-1:r];d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],",\n          ").concat(p[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var QV={kernelName:sx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size,u=(0,E.Z)(s,2),c=u[0],l=u[1],d=ly().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new HV(a.shape,c,l,o,i):new GV(a.shape,c,l,o,i);return n.runWebGLProgram(d,[a],"float32")}},KV=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,E.Z)(n,3),o=a[1],i=a[2],s=(0,E.Z)(t,3),u=s[1],c=s[2],l=[r&&u>1?o-1:o,r&&c>1?i-1:i],d=[r&&u>1?u-1:u,r&&c>1?c-1:c],p=l[0]/d[0],f=l[1]/d[1],h=1/p,m=1/f,v=2*Math.ceil(h)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(o-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(i-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var XV={kernelName:"ResizeBilinearGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,s=new KV(o.shape,a.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}},YV=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,E.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var d,p=[a&&n>1?u-1:u,a&&r>1?c-1:c],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],h=a?"0.5":"0.0";d=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),$V=(0,ti.Z)((function e(t,n,r,a,o){(0,ei.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,E.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var d,p=[a&&n>1?u-1:u,a&&r>1?c-1:c],f=[a&&n>1?n-1:n,a&&r>1?r-1:r],h=a?"0.5":"0.0";d=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(p[0]/f[0],",\n          ").concat(p[1]/f[1],",\n          ").concat(p[1]/f[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(h,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var JV={kernelName:ix,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size,u=(0,E.Z)(s,2),c=u[0],l=u[1],d=ly().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new $V(a.shape,c,l,o,i):new YV(a.shape,c,l,o,i);return n.runWebGLProgram(d,[a],a.dtype)}},ez=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,E.Z)(n,3),o=a[1],i=a[2],s=(0,E.Z)(t,3),u=s[1],c=s[2],l=[r&&u>1?o-1:o,r&&c>1?i-1:i],d=[r&&u>1?u-1:u,r&&c>1?c-1:c],p=l[0]/d[0],f=l[1]/d[1],h=1/p,m=1/f,v=2*Math.ceil(h)+2,g=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(p,");\n        const float widthScale = float(").concat(f,");\n\n        const float invHeightScale = float(").concat(h,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(v,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(l[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(l[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var tz={kernelName:"ResizeNearestNeighborGrad",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,s=new ez(o.shape,a.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}},nz=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),o=fD(r);this.userCode="\n      void main() {\n        ".concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),rz=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=gF("rc",r),o="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),i="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=fD(r);function u(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),o=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(o,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(a.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice()),";\n          }\n          if(").concat(i,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var az={kernelName:cx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims,i=a.shape.length,s=Bg(o,a.shape);if(0===i)return GF({inputs:{x:a},backend:n});var u=ly().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new rz(a.shape,s):new nz(a.shape,s);return n.runWebGLProgram(u,[a],a.dtype)}},oz=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var o="";o="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),iz={kernelName:Hx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,i=n.fillValue,s=n.center,u=r,c=new oz(a.shape,i),l=function(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}(s,a.shape[1],a.shape[2]),d=(0,E.Z)(l,2),p=[[d[0],d[1],Math.sin(o),Math.cos(o)]];return u.runWebGLProgram(c,[a],a.dtype,p)}},sz=nL({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),uz={kernelName:lx,backendName:"webgl",kernelFunc:sz},cz=nL({opSnippet:"return inversesqrt(x);",cpuKernelImpl:JP}),lz={kernelName:dx,backendName:"webgl",kernelFunc:cz},dz=(0,ti.Z)((function e(t,n,r,a,o,i){(0,ei.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=fD(o.length),u=fD(i.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),d="";1===a?d="i":2===a&&(d="i, coords[1]");var p="getUpdates(".concat(d,")"),f=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(f,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var pz={kernelName:px,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,i=r.shape,s=AN(0,a,i),u=s.sliceRank,c=s.numUpdates,l=s.sliceSize,d=s.strides,p=s.outputSize,f=[p/l,l];if(0===p)return n.makeTensorInfo(i,a.dtype);var h=pL({inputs:{x:a},backend:n,attrs:{shape:[c,u]}}),m=pL({inputs:{x:o},backend:n,attrs:{shape:[c,l]}}),v=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new dz(c,u,h.shape.length,m.shape.length,d,f),y=n.runWebGLProgram(g,[m,h,v],m.dtype),b=pL({inputs:{x:y},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}},fz=(0,ti.Z)((function e(t,n,r){var a,o;if((0,ei.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)o="resRC",a="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(i[c])),c<t&&s.push("".concat(i[c]));a=s.join(),o=u.join()}var l=fD(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}));var hz={kernelName:fx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e,i=new fz(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(i,[r,a,o],Hw(a.dtype,o.dtype))}},mz=nL({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(1.7580993408473768,";\n  float scale = ").concat(1.0507009873554805,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),vz={kernelName:hx,backendName:"webgl",kernelFunc:mz},gz="return 1.0 / (1.0 + exp(-1.0 * x));",yz=nL({opSnippet:gz,packedOpSnippet:gz,cpuKernelImpl:eF}),bz={kernelName:yx,backendName:"webgl",kernelFunc:yz},xz=nL({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),wz={kernelName:gx,backendName:"webgl",kernelFunc:xz},kz={kernelName:"Sin",backendName:"webgl",kernelFunc:nL({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"})},Sz=nL({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Ez={kernelName:vx,backendName:"webgl",kernelFunc:Sz},Cz=nL({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Tz={kernelName:bx,backendName:"webgl",kernelFunc:Cz},Nz={kernelName:kx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.paddings;Og(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=o.reduce((function(e,t){return e*t})),u=[[0,0]];u.push.apply(u,(0,De.Z)(i));for(var c=1+o.length;c<a.shape.length;++c)u.push([0,0]);var l=[],d=DV({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),p=yI(d.shape,o,s,!1),f=bI(p.length,o.length,!1),h=xI(d.shape,o,s,!1),m=pL({inputs:{x:d},backend:n,attrs:{shape:p}}),v=kL({inputs:{x:m},backend:n,attrs:{perm:f}}),g=pL({inputs:{x:v},backend:n,attrs:{shape:h}});return l.push(d),l.push(m),l.push(v),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var _z={kernelName:Cx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,o=t.denseShape,i=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(o.dataId),l=n.readSync(i.dataId)[0],d=rF(s,r.shape,r.dtype,u,a.dtype,c,l),p=(0,E.Z)(d,5),f=p[0],h=p[1],m=p[2],v=p[3],g=p[4];return[n.makeTensorInfo(h,r.dtype,f),n.makeTensorInfo([h[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var Iz={kernelName:Tx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var i=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(o.dataId)),c=aF(s,r.shape,r.dtype,i,u),l=(0,E.Z)(c,3),d=l[0],p=l[1],f=l[2];return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([f.length],o.dtype,new Int32Array(f))]}};var Oz={kernelName:Nx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));var i=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=oF(i,r.shape,r.dtype,s,u,!0),l=(0,E.Z)(c,2),d=l[0],p=l[1];return n.makeTensorInfo(p,r.dtype,d)}};var Rz={kernelName:_x,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));var i=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=oF(i,r.shape,r.dtype,s,u),l=(0,E.Z)(c,2),d=l[0],p=l[1];return n.makeTensorInfo(p,r.dtype,d)}};var Az={kernelName:Ix,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,o=t.sparseValues,i=t.defaultValue,s=r.outputShape,u=AN(0,a,s),c=u.sliceRank,l=u.numUpdates,d=u.strides,p=u.outputSize,f=new dz(l,c,a.shape.length,o.shape.length,d,[p,1],!1),h=n.runWebGLProgram(f,[o,a,i],o.dtype),m=pL({inputs:{x:h},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(h),m}};var Mz={kernelName:Sx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,i=Bg(r.axis,a.shape)[0],s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Og(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{Og(t.reduce((function(e,t){return-1===t&&(e+=1),e}),0)<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[a]=e.shape[n]-o}Og(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}(a,o,i),u=a.shape.length,c=new Array(u).fill(0),l=a.shape.slice();return s.map((function(e){var t=(0,De.Z)(l);t[i]=e;var r=yZ({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[i]+=e,r}))}},Dz="return sqrt(x);",Pz=nL({opSnippet:Dz,packedOpSnippet:Dz,cpuKernelImpl:iF}),Fz={kernelName:xx,backendName:"webgl",kernelFunc:Pz},Lz={kernelName:"Square",backendName:"webgl",kernelFunc:nL({opSnippet:"return x * x;"})},Zz="return (a - b) * (a - b);",jz=rL({opSnippet:Zz,packedOpSnippet:Zz}),Bz={kernelName:Ox,backendName:"webgl",kernelFunc:jz};var Vz={kernelName:qx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=CF+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),i=new EF(a.shape,o);return r.runWebGLProgram(i,[a],a.dtype)}},zz=(0,ti.Z)((function e(t,n,r){(0,ei.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,o=fD(r.length),i=fD(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(t,");\n      ").concat(o," strides = ").concat(o,"(").concat(n,");\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var Uz={kernelName:Rx,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.begin,s=a.end,u=a.strides,c=a.beginMask,l=a.endMask,d=a.ellipsisMask,p=a.newAxisMask,f=a.shrinkAxisMask,h=RS(o.shape,i,s,u,c,l,d,p,f),m=h.finalShapeSparse,v=h.finalShape,g=h.isIdentity,y=h.sliceDim0,b=h.isSimpleSlice,x=h.begin,w=h.end,k=h.strides;if(g)t=pL({inputs:{x:o},backend:r,attrs:{shape:v}});else if(y||b){Og(o.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(o.shape.length)}));var S=function(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}(x,w,k),E=yZ({inputs:{x:o},backend:r,attrs:{begin:x,size:S}});t=pL({inputs:{x:E},backend:r,attrs:{shape:v}}),r.disposeIntermediateTensorInfo(E)}else{if(r.shouldExecuteOnCPU([o])){var C=r.readSync(o.dataId),T=iS(o.shape,o.dtype,C),N=sF(m,T,k,x);t=r.makeTensorInfo(v,o.dtype,N.values)}else{var _=new zz(x,k,m);t=r.runWebGLProgram(_,[o],o.dtype)}}var I=pL({inputs:{x:t},backend:r,attrs:{shape:v}});return r.disposeIntermediateTensorInfo(t),I}};var Wz={kernelName:Ax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,o=r.nGramWidths,i=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,d=t.dataSplits,p=n.readSync(l.dataId),f=n.readSync(d.dataId),h=uF(p,f,a,o,i,s,u,c),m=(0,E.Z)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",g)]}};var qz={kernelName:Mx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var i=n.readSync(a.dataId),s=n.readSync(o.dataId)[0],u=cF(i,s,r),c=(0,E.Z)(u,3),l=c[0],d=c[1],p=c[2],f=d.length;return[n.makeTensorInfo([f,2],"int32",l),n.makeTensorInfo([f],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var Gz={kernelName:Dx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var o=n.readSync(a.dataId),i=lF(o,r);return n.makeTensorInfo(a.shape,"int32",i)}},Hz={kernelName:"Tan",backendName:"webgl",kernelFunc:nL({opSnippet:"return tan(x);"})},Qz=nL({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Kz={kernelName:Fx,backendName:"webgl",kernelFunc:Qz},Xz=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var o=fD(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        setOutput(getA(").concat(i,"));\n      }\n    ")}));function Yz(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;if("string"===a.dtype||a.shape.length>5){var i=n.readSync(a.dataId),s="string"===a.dtype?i.map((function(e){return Tw(e)})):i,u=iS(a.shape,a.dtype,s),c=pF(u,o);return n.makeTensorInfo(c.shape,c.dtype,c.values)}var l=new Xz(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}var $z={kernelName:Lx,backendName:"webgl",kernelFunc:Yz},Jz=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),eU=(0,ti.Z)((function e(t){(0,ei.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function tU(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function nU(e){for(var t=1;t<e;)t*=2;return t}var rU={kernelName:Zx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.k,i=r.sorted,s=ly().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),u=ly().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=a.shape,l=c[c.length-1];if(n.shouldExecuteOnCPU([a])||l<s||o>u){var d=n.readSync(a.dataId),p=fF(d,c,a.dtype,o,i),f=(0,E.Z)(p,2),h=f[0],m=f[1];return[n.makeTensorInfo(h.shape,h.dtype,h.values),n.makeTensorInfo(m.shape,m.dtype,m.values)]}if(0===o)return c[c.length-1]=0,[n.makeTensorInfo(c,a.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===l)return[a,Hj({attrs:{shape:c,dtype:"int32",value:0},backend:n})];var v=n.texData.get(a.dataId),g=null!==v&&v.isPacked,y=g?n.unpackTensor(a):a,b=Dg(c)/l,x=pL({inputs:{x:y},attrs:{shape:[b,l]},backend:n});g&&tU(n,y);for(var w=nU(o),k=nU(l),S=null,C=function(){return null===S?[x,x]:[x,S]},T=function(e,t,r){var a=C(),o=new Jz(r),i=[[l],[null===S?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=S;S=n.runWebGLProgram(o,a,"int32",i),tU(n,s)},N=1;N<w;N*=2)for(var _=2*N,I=N;I>=1;I/=2)T(_,I,[b,k]);for(var O=k;O>w;O/=2){var R=C(),A=new eU([b,O/2]),M=[[l],[null===S?1:0],[w]],D=S;S=n.runWebGLProgram(A,R,"int32",M),tU(n,D);for(var P=w/2,F=2*P,L=P;L>=1;L/=2)T(F,L,S.shape)}var Z=S;S=yZ({inputs:{x:S},backend:n,attrs:{begin:0,size:[b,o]}}),tU(n,Z);var j=dB({inputs:{x:x,indices:S},backend:n,attrs:{axis:1,batchDims:1}});tU(n,x);var B=c.slice(0,-1);B.push(o),Z=S,S=pL({inputs:{x:S},attrs:{shape:B},backend:n}),tU(n,Z);var V=j;return j=pL({inputs:{x:j},attrs:{shape:B},backend:n}),tU(n,V),[j,S]}},aU=(0,ti.Z)((function e(t,n,r,a,o,i){(0,ei.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=i;var s,u="nearest"===r?1:2;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var oU={kernelName:jx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.transforms,i=r.interpolation,s=r.fillMode,u=r.fillValue,c=r.outputShape,l=(0,E.Z)(a.shape,4),d=l[0],p=l[1],f=l[2],h=l[3],m=null!=c?c:[p,f],v=(0,E.Z)(m,2),g=v[0],y=v[1],b=new aU(p,f,i,s,u,[d,g,y,h]);return n.runWebGLProgram(b,[a,o],"float32")}};var iU={kernelName:Vx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,o=t.x;BM(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var i=r.readSync(o.dataId),s=mF(i,a,o.shape,o.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,o.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var sU={kernelName:zx,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,o=r.axis;o<0&&(o+=a.shape.length);for(var i=a,s=i.shape.length,u=a.shape[o],c=new Array(s-1),l=0,d=0;d<s;d++)d!==o&&(c[l++]=i.shape[d]);var p=[],f=new Array(s).fill(0),h=i.shape.slice();h[o]=1;for(var m=new Array(u),v=0;v<m.length;v++){f[o]=v;var g=yZ({inputs:{x:i},backend:n,attrs:{begin:f,size:h}}),y=pL({inputs:{x:g},backend:n,attrs:{shape:c}});m[v]=y,p.push(g)}return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},uU=(0,ti.Z)((function e(t,n){(0,ei.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.numSegments,s=i*Math.ceil(o/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",d="";o%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));var p="";o%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(i,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var cU={kernelName:Ux,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,i=r.numSegments,s=a.shape.length,u=[],c=0,l=FC([c],s),d=a;null!=l&&(d=kL({inputs:{x:a},backend:n,attrs:{perm:l}}),u.push(d),c=ZC(1,s)[0]);var p=function(e,t,n){for(var r=[],a=e.length,o=0;o<a;o++)o!==t?r.push(e[o]):r.push(n);return r}(d.shape,c,i),f=Dg([d.shape[c]]),h=pL({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});u.push(h);var m=function e(t,r,a,o,i){var s=t.shape[0],c=t.shape[1],l=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=Xg(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Xg(e,n+1);return n}(c,i),d=new uU({windowSize:l,inSize:c,batchSize:s,numSegments:i},r),p=n.compileAndRun(d,[t,a],o);if(u.push(p),p.shape[1]===i)return p;var f=ZV({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),h=Yz({inputs:{x:f},backend:n,attrs:{reps:[c/l]}});return u.push(f),u.push(h),e(p,r,h,o,i)}(h,"unsortedSegmentSum",o,Qw(a.dtype),i),v=pL({inputs:{x:m},backend:n,attrs:{shape:p}}),g=v;if(null!=l){u.push(v);var y=LC(l);g=kL({inputs:{x:g},backend:n,attrs:{perm:y}})}return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},lU=0,dU=[VB,UB,CL,NL,IL,RL,DL,LL,ZL,jL,qL,GL,QL,XL,eZ,$L,nZ,iZ,oZ,cZ,lZ,dZ,hZ,xZ,wZ,kZ,NZ,OZ,MZ,FZ,KF,WZ,tj,nj,XZ,aj,oj,rj,ij,uj,lj,hj,mj,gj,Sj,Ej,xj,Tj,_j,Ij,Oj,Rj,Mj,Dj,Lj,jj,zj,qj,Kj,Yj,eB,nB,oB,iB,sB,cB,pB,hB,vB,HF,gB,VZ,bB,wB,SB,$F,CB,NB,_B,AB,OB,DB,FB,ZB,qB,KB,QB,$B,JB,eV,HB,tV,nV,aV,sV,uV,gV,dL,bV,wV,SV,CV,EZ,NV,OV,RV,PV,FV,tL,LV,jV,TZ,dV,VV,qV,UV,fL,QV,XV,JV,tz,az,iz,uz,lz,pz,hz,vz,bz,wz,kz,Ez,bZ,vV,Tz,Nz,_z,Iz,Oz,Rz,Az,Mz,Fz,Lz,Bz,Vz,Uz,Wz,qz,Gz,hV,wL,Hz,Kz,$z,rU,oU,SL,iU,sU,cU,IV];lU<dU.length;lU++){rw(dU[lU])}var pU=function(e){var t=e.setPrePare,n=(0,k.useContext)(Aq),r=n.UserData,a=n.setUserData,o=dh(Ol),i=(0,E.Z)(o,1)[0],s={height:hg.bird.initialHeight},u={list:[],lastCreateTime:0},c=(0,k.useRef)(!1),l=(0,k.useState)(!1),d=(0,E.Z)(l,2),p=d[0],f=d[1],h=(0,k.useRef)(s),m=(0,k.useState)({transform:"translate(0, ".concat(-hg.bird.initialHeight,"px)")}),v=(0,E.Z)(m,2),g=v[0],y=v[1],b=(0,k.useRef)(u),x=(0,k.useState)([]),w=(0,E.Z)(x,2),S=w[0],C=w[1],T=(0,k.useRef)(0),_=(0,k.useState)(0),I=(0,E.Z)(_,2),O=I[0],R=I[1],A=(0,k.useRef)(null),M=(0,k.useRef)(null),D=(0,k.useState)(!0),P=(0,E.Z)(D,2),F=P[0],L=P[1],Z=(0,k.useState)(!1),j=(0,E.Z)(Z,2),B=j[0],V=j[1],z=(0,k.useRef)(!1),U=function(){var e=uc(lc().mark((function e(t){var n,r,a,o;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof A.current||null===A.current||4!==A.current.video.readyState){e.next=12;break}return n=A.current.video,r=A.current.video.videoWidth,a=A.current.video.videoHeight,A.current.video.width=r,A.current.video.height=a,e.next=8,t.estimatePoses(n);case 8:(o=e.sent)[0].keypoints[10].y<=o[0].keypoints[6].y&&o[0].keypoints[9].y<=o[0].keypoints[5].y?(z.current=!1,console.log(z.current)):o[0].keypoints[10].y>o[0].keypoints[6].y&&o[0].keypoints[9].y>o[0].keypoints[5].y&&!1===z.current&&(z.current=!0,K(),console.log(z.current)),mg(o,r,a,M,z),B||V(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,k.useEffect)((function(){var e;uc(lc().mark((function t(){var n;return lc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={modelType:iM.SINGLEPOSE_THUNDER},t.next=3,nM(aA.MoveNet,n);case 3:e=t.sent,L(!1);case 5:case"end":return t.stop()}}),t)})))();var t=setInterval((function(){if(U(e),c.current){h.current.height>=10&&(h.current.height=h.current.height-10,y({transform:"translate(0, ".concat(-h.current.height,"px)")}));var t=Date.now();0===b.current.lastCreateTime&&(b.current.lastCreateTime=t),t-b.current.lastCreateTime>=hg.pipings.timeInterval&&W(t),q(t),H(),G()}}),100);return function(){return clearInterval(t)}}),[p]),(0,k.useEffect)((function(){uc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.scores.hasOwnProperty("POSE_FLAPPY_BIRD")){e.next=7;break}if(!(O>r.scores.POSE_FLAPPY_BIRD)){e.next=5;break}return a(N(N({},r),{},{scores:N(N({},r.scores),{},{POSE_FLAPPY_BIRD:O})})),e.next=5,i({variables:{data:{name:r.username,game:"POSE_FLAPPY_BIRD",score:O}}});case 5:e.next=10;break;case 7:return a(N(N({},r),{},{scores:N(N({},r.scores),{},{POSE_FLAPPY_BIRD:O})})),e.next=10,i({variables:{data:{name:r.username,game:"POSE_FLAPPY_BIRD",score:O}}});case 10:case"end":return e.stop()}}),e)})))()}),[p]),console.log(r.scores);var W=function(e){var t=hg.pipings.shiftRange.y.min+(hg.pipings.shiftRange.y.max-hg.pipings.shiftRange.y.min)*Math.random(),n={createTime:e,x:0,pipeLowerShift:t,pipeUpperShift:hg.heightLimit-t-hg.pipings.gap,topOfPipeLower:0+t,bottomOfPipeUpper:0+t+hg.pipings.gap,isPassed:!1};b.current.list=b.current.list.concat(n),b.current.lastCreateTime=e,C(b.current.list)},q=function(e){var t=(0,De.Z)(b.current.list);t.map((function(t){if(t.x<hg.pipings.shiftRange.x.max){var n=(e-t.createTime)/hg.pipings.speed;n>1&&(n=1),t.x=n*hg.pipings.shiftRange.x.max}else t.x=hg.pipings.shiftRange.x.max;return t})).filter((function(e){return e.x<hg.pipings.shiftRange.x.max})),b.current.list=t,C(b.current.list)},G=function(){(0,De.Z)(b.current.list).map((function(e){if(e.x>hg.pipings.interactionX.head&&e.x<hg.pipings.interactionX.end){var t=h.current.height,n=h.current.height+hg.bird.height;(t<e.topOfPipeLower-2||n>e.bottomOfPipeUpper+2)&&(c.current=!1,f(!1))}return e}))},H=function(){(0,De.Z)(b.current.list).map((function(e){return e.x>hg.pipings.interactionX.end&&!e.isPassed&&(e.isPassed=!0,T.current=T.current+1,R(T.current)),e}))},Q=function(){h.current=N({},s),b.current=N({},u),T.current=0,y({transform:"translate(0, ".concat(-h.current.height,"px)")}),C(b.current.list),R(0),c.current=!0,f(!0)},K=function(){c.current&&p&&(h.current.height=h.current.height+80),y({transform:"translate(0, ".concat(-h.current.height,"px)")})};return(0,Ce.jsxs)("div",{className:"background-flappybird",onMouseDown:K,children:[(0,Ce.jsx)("h1",{className:"loading-status-flappybird",children:"Pose Flappy Bird Game"}),(0,Ce.jsxs)("div",{className:"container-game-flappybird",children:[(0,Ce.jsx)("div",{className:"gameWrapper-flappybird",children:(0,Ce.jsx)("div",{className:"game-flappybird",children:(0,Ce.jsxs)("div",{className:"scene-flappybird",children:[p?(0,Ce.jsx)("div",{className:"score",children:O}):"",(0,Ce.jsx)(yg,{style:g}),S.map((function(e){return(0,Ce.jsx)(xg,{x:e.x,pipeLowerShift:e.pipeLowerShift,pipeUpperShift:e.pipeUpperShift},e.createTime)})),(0,Ce.jsx)("div",{className:p?"ground sliding":"ground"}),(0,Ce.jsx)(xg,{}),p?"":(0,Ce.jsx)(bg,{onPlay:Q,score:O})]})})}),(0,Ce.jsxs)("div",{className:"videoWrapper-flappybird",children:[(0,Ce.jsx)(kg(),{ref:A,className:"video-flappybird"}),(0,Ce.jsx)("canvas",{ref:M,className:"video-flappybird"})]})]}),(0,Ce.jsx)("h3",{className:"loading-status-flappybird",children:p?"Wave your arm !":F?"-> Loading MoveNet... <-":B?"-> MoveNet is ready, plseae enjoy the game ! <-":"-> MoveNet is detecting your pose, please wait a moment... <-"}),(0,Ce.jsxs)("div",{className:"btn-container-flappybird",children:[(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3,px:3,backgroundColor:function(e){return e.palette.secondary}},onClick:function(){t(!1)},children:"Back"}),(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3,px:3},onClick:function(){Q()},children:"Play"})]})]})},fU=n(2343),hU=n(7308),mU=function(e){var t=e.setPrePare,n=(0,k.useContext)(Aq).UserData,r=K();return(0,Ce.jsxs)("div",{className:"background-flappybird",children:[(0,Ce.jsx)("h1",{className:"title-flappybird",children:" Play Flappy Bird Game with Pose Detection ! "}),(0,Ce.jsxs)("div",{className:"container-instruction-flappybird",children:[(0,Ce.jsxs)("ul",{className:"container",children:[(0,Ce.jsxs)("li",{className:"instruction",children:["\u904a\u6232\u8aaa\u660e:",(0,Ce.jsx)("br",{}),"\u73a9\u5bb6\u9032\u5165FlapyBird\u904a\u6232\u9801\u9762\u5f8c\uff0c\u524d\u7f6e\u93e1\u982d\u4fbf\u6703\u5075\u6e2c\u73a9\u5bb6\u7684Pose\uff0c \u7576\u770b\u5230\u756b\u9762\u4e2d\u7684\u81ea\u5df1\u8eab\u4e0a\u88ab\u6a19\u4e0a\u4e86\u5075\u6e2c\u9ede\u4fbf\u53ef\u4ee5\u958b\u59cb\u9032\u884c\u904a\u6232!"]}),(0,Ce.jsxs)("li",{className:"instruction",children:["\u64cd\u4f5c\u8aaa\u660e:",(0,Ce.jsx)("br",{}),"\u6b64\u904a\u6232\u85c9\u7531\u524d\u7f6e\u93e1\u982d\u5075\u6e2c\u73a9\u5bb6\u7684Pose\uff0c\u7576\u73a9\u5bb6\u96d9\u624b\u505a\u51fa\u63ee\u821e\u52d5\u4f5c\u5373\u53ef\u63a7\u5236Bird \u5411\u4e0a\u98db\u3002\u6e96\u78ba\u4f86\u8aaa\uff0c\u7576\u63ee\u52d5\u624b\u81c2\u4f7f\u539f\u672c\u9ad8\u65bc\u80a9\u8180\u7684\u96d9\u624b\u624b\u8155\u5075\u6e2c\u9ede\uff08\u7de8\u865f9,10\uff09\u4f4e\u65bc\u80a9\u8180\u5075\u6e2c\u9ede\uff08\u7de8\u865f5,6\uff09\u6642\uff0c Bird\u5c31\u6703\u5411\u4e0a\u98db\u4e86!"]}),(0,Ce.jsxs)("li",{className:"instruction",children:["\u7591\u96e3\u6392\u89e3: ",(0,Ce.jsx)("br",{}),"Q1: \u82e5\u6211\u7684\u96fb\u8166\u6c92\u6709\u524d\u7f6e\u93e1\u982d\u600e\u9ebc\u8fa6\uff1f",(0,Ce.jsx)("br",{}),"A1: \u6b64\u904a\u6232\u4e5f\u53ef\u4ee5\u85c9\u7531\u9ede\u64ca\u6ed1\u9f20\u4f86\u9032\u884c\u5537!",(0,Ce.jsx)("br",{}),"Q2: \u8981\u5982\u4f55\u589e\u52a0\u64cd\u4f5c\u7684\u7a69\u5b9a\u6027\uff1f ",(0,Ce.jsx)("br",{}),"A2: \u56e0\u70ba\u6b64\u904a\u6232\u662f\u85c9\u7531tensorflow.js\u7684MoveNet model\u4f86\u5075\u6e2c\u73a9\u5bb6\u7684\u8eab\u9ad4\u52d5\u4f5c\uff0c\u56e0\u6b64\u8acb\u96e2\u93e1\u982d\u4e00\u5b9a\u8ddd\u96e2\uff0c \u8b93\u4e0a\u534a\u8eab\u80fd\u5b8c\u5168\u88ab\u5075\u6e2c\u5230!"]}),(0,Ce.jsx)("li",{className:"instruction",children:"\u662f\u4e0d\u662f\u68d2\u900f\u4e86!"})]}),(0,Ce.jsxs)("div",{className:"image-container-flappybird",children:[(0,Ce.jsx)("img",{className:"image-flappybird",src:fU,alt:"Flappy Bird"}),(0,Ce.jsx)("img",{className:"image-flappybird",src:hU,alt:"Pose Detection"})]})]}),(0,Ce.jsxs)("div",{className:"btn-container-flappybird",children:[(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3},onClick:function(){r("/login/".concat(n.username,"/lobby"))},children:"Go Back"}),(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3},onClick:function(){t(!0)},children:"Let's Start! "})]})]})},vU=function(){var e=(0,k.useState)(!1),t=(0,E.Z)(e,2),n=t[0],r=t[1];return(0,Ce.jsx)(Vu,{children:n?(0,Ce.jsx)(pU,{setPrePare:r}):(0,Ce.jsx)(mU,{setPrePare:r})})};function gU(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function yU(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function bU(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function xU(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function wU(e,t){void 0===t&&(t=1.5);var n=xU(e),r=bU(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],palmLandmarks:e.palmLandmarks}}function kU(e){var t=xU(e),n=bU(e),r=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-r,t[1]-r],endPoint:[t[0]+r,t[1]+r],palmLandmarks:e.palmLandmarks}}function SU(e,t){var n=[e.endPoint[0]-e.startPoint[0],e.endPoint[1]-e.startPoint[1]],r=[n[0]*t[0],n[1]*t[1]];return{startPoint:[e.startPoint[0]+r[0],e.startPoint[1]+r[1]],endPoint:[e.endPoint[0]+r[0],e.endPoint[1]+r[1]],palmLandmarks:e.palmLandmarks}}var EU=function(){function e(e,t,n,r,a,o){this.model=e,this.width=t,this.height=n,this.iouThreshold=a,this.scoreThreshold=o,this.anchors=r.map((function(e){return[e.x_center,e.y_center]})),this.anchorsTensor=pN(this.anchors),this.inputSizeTensor=dN([t,n]),this.doubleInputSizeTensor=dN([2*t,2*n])}return e.prototype.normalizeBoxes=function(e){var t=this;return Z_((function(){var n=mE(e,[0,0],[-1,2]),r=mE(e,[0,2],[-1,2]),a=FS(QE(n,t.inputSizeTensor),t.anchorsTensor),o=QE(r,t.doubleInputSizeTensor),i=fE(IC(a,o),t.inputSizeTensor),s=fE(FS(a,o),t.inputSizeTensor);return IE([i,s],1)}))},e.prototype.normalizeLandmarks=function(e,t){var n=this;return Z_((function(){var r=FS(QE(uE(e,[-1,7,2]),n.inputSizeTensor),n.anchors[t]);return fE(r,n.inputSizeTensor)}))},e.prototype.getBoundingBoxes=function(e){return gU(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c,l,d,p,f,h,m,v=this;return yU(this,(function(g){switch(g.label){case 0:return t=Z_((function(){return fE(IC(e,.5),2)})),"webgl"===V_()?(r=ly().get("WEBGL_PACK_DEPTHWISECONV"),ly().set("WEBGL_PACK_DEPTHWISECONV",!0),n=this.model.predict(t),ly().set("WEBGL_PACK_DEPTHWISECONV",r)):n=this.model.predict(t),a=iN(n),o=Z_((function(){return iN(hE(mE(a,[0,0],[-1,1])))})),i=mE(a,[0,1],[-1,4]),s=this.normalizeBoxes(i),u=console.warn,console.warn=function(){},c=dI.nonMaxSuppression(s,o,1,this.iouThreshold,this.scoreThreshold),console.warn=u,[4,c.array()];case 1:return l=g.sent(),d=[t,n,c,a,s,i,o],0===l.length?(d.forEach((function(e){return e.dispose()})),[2,null]):(p=l[0],f=mE(s,[p,0],[1,-1]),h=mE(a,[p,5],[1,14]),m=Z_((function(){return uE(v.normalizeLandmarks(h,p),[-1,2])})),d.push(h),d.forEach((function(e){return e.dispose()})),[2,{boxes:f,palmLandmarks:m}])}}))}))},e.prototype.estimateHandBounds=function(e){return gU(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c=this;return yU(this,(function(l){switch(l.label){case 0:return t=e.shape[1],n=e.shape[2],r=Z_((function(){return QE(dI.resizeBilinear(e,[c.width,c.height]),255)})),[4,this.getBoundingBoxes(r)];case 1:return null===(a=l.sent())?(r.dispose(),[2,null]):(o=a.boxes.arraySync(),i=o[0].slice(0,2),s=o[0].slice(2,4),u=a.palmLandmarks.arraySync(),r.dispose(),a.boxes.dispose(),a.palmLandmarks.dispose(),[2,(d={startPoint:i,endPoint:s,palmLandmarks:u},p=[n/this.width,t/this.height],{startPoint:[d.startPoint[0]*p[0],d.startPoint[1]*p[1]],endPoint:[d.endPoint[0]*p[0],d.endPoint[1]*p[1]],palmLandmarks:d.palmLandmarks.map((function(e){return[e[0]*p[0],e[1]*p[1]]}))})])}var d,p}))}))},e}(),CU={thumb:[1,2,3,4],indexFinger:[5,6,7,8],middleFinger:[9,10,11,12],ringFinger:[13,14,15,16],pinky:[17,18,19,20],palmBase:[0]};var TU=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};function NU(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function _U(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function IU(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var o=0;o<r;o++)n[a].push(NU(e[a],_U(t,o)))}return n}function OU(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],o=IU(TU(t[0],t[1]),a);return IU(o,TU(-t[0],-t[1]))}function RU(e,t){return[NU(e,t[0]),NU(e,t[1])]}var AU=[0,-.4],MU=[0,-.1],DU=[0,5,9,13,17,1,2],PU=function(){function e(e,t,n,r,a,o){this.boundingBoxDetector=e,this.meshDetector=t,this.meshWidth=n,this.meshHeight=r,this.maxContinuousChecks=a,this.detectionConfidence=o,this.regionsOfInterest=[],this.runsWithoutHandDetector=0,this.maxHandsNumber=1}return e.prototype.getBoxForPalmLandmarks=function(e,t){var n=e.map((function(e){return RU(e.concat([1]),t)}));return wU(kU(SU(this.calculateLandmarksBoundingBox(n),AU)),3)},e.prototype.getBoxForHandLandmarks=function(e){for(var t=wU(kU(SU(this.calculateLandmarksBoundingBox(e),MU)),1.65),n=[],r=0;r<DU.length;r++)n.push(e[DU[r]].slice(0,2));return t.palmLandmarks=n,t},e.prototype.transformRawCoords=function(e,t,n,r){var a,o,i,s,u=this,c=bU(t),l=[c[0]/this.meshWidth,c[1]/this.meshHeight],d=e.map((function(e){return[l[0]*(e[0]-u.meshWidth/2),l[1]*(e[1]-u.meshHeight/2),e[2]]})),p=OU(n,[0,0]),f=d.map((function(e){return RU(e,p).concat([e[2]])})),h=(o=[[(a=r)[0][0],a[1][0]],[a[0][1],a[1][1]]],i=[a[0][2],a[1][2]],s=[-NU(o[0],i),-NU(o[1],i)],[o[0].concat(s[0]),o[1].concat(s[1]),[0,0,1]]),m=xU(t).concat([1]),v=[NU(m,h[0]),NU(m,h[1])];return f.map((function(e){return[e[0]+v[0],e[1]+v[1],e[2]]}))},e.prototype.estimateHand=function(e){return gU(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c,l,d,p,f,h,m,v,g,y,b,x;return yU(this,(function(w){switch(w.label){case 0:return!0!==(t=this.shouldUpdateRegionsOfInterest())?[3,2]:[4,this.boundingBoxDetector.estimateHandBounds(e)];case 1:return null===(n=w.sent())?(e.dispose(),this.regionsOfInterest=[],[2,null]):(this.updateRegionsOfInterest(n,!0),this.runsWithoutHandDetector=0,[3,3]);case 2:this.runsWithoutHandDetector++,w.label=3;case 3:return r=this.regionsOfInterest[0],a=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(r.palmLandmarks[0],r.palmLandmarks[2]),o=xU(r),i=[o[0]/e.shape[2],o[1]/e.shape[1]],s=dI.rotateWithOffset(e,a,0,i),u=OU(-a,o),c=!0===t?this.getBoxForPalmLandmarks(r.palmLandmarks,u):r,l=function(e,t,n){var r=t.shape[1],a=t.shape[2],o=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return dI.cropAndResize(t,o,[0],n)}(c,s,[this.meshWidth,this.meshHeight]),d=QE(l,255),l.dispose(),s.dispose(),"webgl"===V_()?(f=ly().get("WEBGL_PACK_DEPTHWISECONV"),ly().set("WEBGL_PACK_DEPTHWISECONV",!0),p=this.meshDetector.predict(d),ly().set("WEBGL_PACK_DEPTHWISECONV",f)):p=this.meshDetector.predict(d),h=p[0],m=p[1],d.dispose(),v=h.dataSync()[0],h.dispose(),v<this.detectionConfidence?(m.dispose(),this.regionsOfInterest=[],[2,null]):(g=uE(m,[-1,3]),y=g.arraySync(),m.dispose(),g.dispose(),b=this.transformRawCoords(y,c,a,u),x=this.getBoxForHandLandmarks(b),this.updateRegionsOfInterest(x,!1),[2,{landmarks:b,handInViewConfidence:v,boundingBox:{topLeft:x.startPoint,bottomRight:x.endPoint}}])}}))}))},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e.prototype.updateRegionsOfInterest=function(e,t){if(t)this.regionsOfInterest=[e];else{var n=this.regionsOfInterest[0],r=0;if(null!=n&&null!=n.startPoint){var a=e.startPoint,o=a[0],i=a[1],s=e.endPoint,u=s[0],c=s[1],l=n.startPoint,d=l[0],p=l[1],f=n.endPoint,h=f[0],m=f[1],v=Math.max(o,d),g=Math.max(i,p),y=(Math.min(u,h)-v)*(Math.min(c,m)-g);r=y/((u-o)*(c-i)+(h-d)*(m-i)-y)}this.regionsOfInterest[0]=r>.8?n:e}},e.prototype.shouldUpdateRegionsOfInterest=function(){return this.regionsOfInterest.length!==this.maxHandsNumber||this.runsWithoutHandDetector>=this.maxContinuousChecks},e}();function FU(){return gU(this,void 0,void 0,(function(){return yU(this,(function(e){return[2,JO("https://tfhub.dev/mediapipe/tfjs-model/handdetector/1/default/1",{fromTFHub:!0})]}))}))}function LU(){return gU(this,void 0,void 0,(function(){return yU(this,(function(e){return[2,JO("https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1",{fromTFHub:!0})]}))}))}function ZU(){return gU(this,void 0,void 0,(function(){return yU(this,(function(e){return[2,(t="https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1/anchors.json?tfjs-format=file",ly().platform.fetch(t,n)).then((function(e){return e.json()}))];var t,n}))}))}function jU(e){var t=void 0===e?{}:e,n=t.maxContinuousChecks,r=void 0===n?1/0:n,a=t.detectionConfidence,o=void 0===a?.8:a,i=t.iouThreshold,s=void 0===i?.3:i,u=t.scoreThreshold,c=void 0===u?.5:u;return gU(this,void 0,void 0,(function(){var e,t,n,a,i,u;return yU(this,(function(l){switch(l.label){case 0:return[4,Promise.all([ZU(),FU(),LU()])];case 1:return e=l.sent(),t=e[0],n=e[1],a=e[2],i=new EU(n,256,256,t,s,c),u=new PU(i,a,256,256,r,o),[2,new BU(u)]}}))}))}var BU=function(){function e(e){this.pipeline=e}return e.getAnnotations=function(){return CU},e.prototype.estimateHands=function(e,t){return void 0===t&&(t=!1),gU(this,void 0,void 0,(function(){var n,r,a,o,i,s,u,c,l;return yU(this,(function(d){switch(d.label){case 0:return n=function(e){return e instanceof jw?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),r=n[1],a=Z_((function(){return e instanceof jw||(e=TS(e)),aC(sS(e,"float32"))})),[4,this.pipeline.estimateHand(a)];case 1:if(o=d.sent(),a.dispose(),null===o)return[2,[]];for(i=o,!0===t&&(i=function(e,t){var n=e.handInViewConfidence,r=e.landmarks,a=e.boundingBox;return{handInViewConfidence:n,landmarks:r.map((function(e){return[t-1-e[0],e[1],e[2]]})),boundingBox:{topLeft:[t-1-a.topLeft[0],a.topLeft[1]],bottomRight:[t-1-a.bottomRight[0],a.bottomRight[1]]}}}(o,r)),s={},u=0,c=Object.keys(CU);u<c.length;u++)l=c[u],s[l]=CU[l].map((function(e){return i.landmarks[e]}));return[2,[{handInViewConfidence:i.handInViewConfidence,boundingBox:i.boundingBox,landmarks:i.landmarks,annotations:s}]]}}))}))},e}(),VU=function(){var e=new Image(1024,701);return e.src=n(1395),new Promise((function(t){e.onload=function(){t(e)}}))},zU=function(){var e=new Image(1024,701);return e.src=n(7063),new Promise((function(t){e.onload=function(){t(e)}}))},UU={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]},getPoints:function(e){return void 0!==typeof this.pointsMapping[e]&&this.pointsMapping[e]}},WU={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]}},qU={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(e){return void 0!==typeof this.nameMapping[e]&&this.nameMapping[e]}},GU=function(){function e(t){(0,ei.Z)(this,e),this.options=N(N({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6}),t)}return(0,ti.Z)(e,[{key:"estimate",value:function(e){var t,n=[],r=[],a=(0,pc.Z)(UU.all);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,s=UU.getPoints(i),u=[],c=[],l=(0,pc.Z)(s);try{for(l.s();!(o=l.n()).done;){var d=o.value,p=e[d[0]],f=e[d[1]],h=this.getSlopes(p,f),m=h[0],v=h[1];u.push(m),c.push(v)}}catch(RQ){l.e(RQ)}finally{l.f()}n.push(u),r.push(c)}}catch(RQ){a.e(RQ)}finally{a.f()}var g,y=[],b=[],x=(0,pc.Z)(UU.all);try{for(x.s();!(g=x.n()).done;){var w=g.value,k=w==UU.Thumb?1:0,S=UU.getPoints(w),E=e[S[k][0]],C=e[S[k+1][1]],T=e[S[3][1]],N=this.estimateFingerCurl(E,C,T),_=this.calculateFingerDirection(E,C,T,n[w].slice(k));y[w]=N,b[w]=_}}catch(RQ){x.e(RQ)}finally{x.f()}return{curls:y,directions:b}}},{key:"getSlopes",value:function(e,t){var n=this.calculateSlope(e[0],e[1],t[0],t[1]);return 2==e.length?n:[n,this.calculateSlope(e[1],e[2],t[1],t[2])]}},{key:"angleOrientationAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0,a=0;return e>=75&&e<=105?n=1*t:e>=25&&e<=155?r=1*t:a=1*t,[n,r,a]}},{key:"estimateFingerCurl",value:function(e,t,n){var r=e[0]-t[0],a=e[0]-n[0],o=t[0]-n[0],i=e[1]-t[1],s=e[1]-n[1],u=t[1]-n[1],c=e[2]-t[2],l=e[2]-n[2],d=t[2]-n[2],p=Math.sqrt(r*r+i*i+c*c),f=Math.sqrt(a*a+s*s+l*l),h=Math.sqrt(o*o+u*u+d*d),m=(h*h+p*p-f*f)/(2*h*p);m>1?m=1:m<-1&&(m=-1);var v=Math.acos(m);return(v=57.2958*v%180)>this.options.NO_CURL_START_LIMIT?WU.NoCurl:v>this.options.HALF_CURL_START_LIMIT?WU.HalfCurl:WU.FullCurl}},{key:"estimateHorizontalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e>0?qU.HorizontalLeft:qU.HorizontalRight:r==Math.abs(t)?t>0?qU.HorizontalLeft:qU.HorizontalRight:n>0?qU.HorizontalLeft:qU.HorizontalRight}},{key:"estimateVerticalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e<0?qU.VerticalDown:qU.VerticalUp:r==Math.abs(t)?t<0?qU.VerticalDown:qU.VerticalUp:n<0?qU.VerticalDown:qU.VerticalUp}},{key:"estimateDiagonalDirection",value:function(e,t,n,r,a,o,i,s){var u=this.estimateVerticalDirection(e,t,n,r),c=this.estimateHorizontalDirection(a,o,i,s);return u==qU.VerticalUp?c==qU.HorizontalLeft?qU.DiagonalUpLeft:qU.DiagonalUpRight:c==qU.HorizontalLeft?qU.DiagonalDownLeft:qU.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(e,t,n,r){var a=e[0]-t[0],o=e[0]-n[0],i=t[0]-n[0],s=e[1]-t[1],u=e[1]-n[1],c=t[1]-n[1],l=Math.max(Math.abs(a),Math.abs(o),Math.abs(i)),d=Math.max(Math.abs(s),Math.abs(u),Math.abs(c)),p=0,f=0,h=0,m=d/(l+1e-5);m>1.5?p+=this.options.DISTANCE_VOTE_POWER:m>.66?f+=this.options.DISTANCE_VOTE_POWER:h+=this.options.DISTANCE_VOTE_POWER;var v=Math.sqrt(a*a+s*s),g=Math.sqrt(o*o+u*u),y=Math.sqrt(i*i+c*c),b=Math.max(v,g,y),x=e[0],w=e[1],k=n[0],S=n[1];b==v?(k=n[0],S=n[1]):b==y&&(x=t[0],w=t[1]);var E=[x,w],C=[k,S],T=this.getSlopes(E,C),N=this.angleOrientationAt(T,this.options.TOTAL_ANGLE_VOTE_POWER);p+=N[0],f+=N[1],h+=N[2];var _,I=(0,pc.Z)(r);try{for(I.s();!(_=I.n()).done;){var O=_.value,R=this.angleOrientationAt(O,this.options.SINGLE_ANGLE_VOTE_POWER);p+=R[0],f+=R[1],h+=R[2]}}catch(RQ){I.e(RQ)}finally{I.f()}return p==Math.max(p,f,h)?this.estimateVerticalDirection(u,s,c,d):h==Math.max(f,h)?this.estimateHorizontalDirection(o,a,i,l):this.estimateDiagonalDirection(u,s,c,d,o,a,i,l)}},{key:"calculateSlope",value:function(e,t,n,r){var a=(t-r)/(e-n),o=180*Math.atan(a)/Math.PI;return o<=0?o=-o:o>0&&(o=180-o),o}}]),e}(),HU=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,ei.Z)(this,e),this.estimator=new GU(n),this.gestures=t}return(0,ti.Z)(e,[{key:"estimate",value:function(e,t){var n,r=[],a=this.estimator.estimate(e),o=[],i=(0,pc.Z)(UU.all);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.push([UU.getName(s),WU.getName(a.curls[s]),qU.getName(a.directions[s])])}}catch(RQ){i.e(RQ)}finally{i.f()}var u,c=(0,pc.Z)(this.gestures);try{for(c.s();!(u=c.n()).done;){var l=u.value,d=l.matchAgainst(a.curls,a.directions);d>=t&&r.push({name:l.name,score:d})}}catch(RQ){c.e(RQ)}finally{c.f()}return{poseData:o,gestures:r}}}]),e}(),QU=function(){function e(t){(0,ei.Z)(this,e),this.name=t,this.curls={},this.directions={}}return(0,ti.Z)(e,[{key:"addCurl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;"undefined"===typeof this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,n])}},{key:"addDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;"undefined"===typeof this.directions[e]&&(this.directions[e]=[]),this.directions[e].push([t,n])}},{key:"matchAgainst",value:function(e,t){var n=0,r=0;for(var a in e){var o=e[a],i=this.curls[a];if("undefined"!==typeof i){r++;var s,u=!1,c=0,l=(0,pc.Z)(i);try{for(l.s();!(s=l.n()).done;){var d=(0,E.Z)(s.value,2),p=d[0],f=d[1];if(o==p){n+=f,c=Math.max(c,f),u=!0;break}}}catch(RQ){l.e(RQ)}finally{l.f()}u||(n-=c)}}for(var h in t){var m=t[h],v=this.directions[h];if("undefined"!==typeof v){r++;var g,y=!1,b=0,x=(0,pc.Z)(v);try{for(x.s();!(g=x.n()).done;){var w=(0,E.Z)(g.value,2),k=w[0],S=w[1];if(m==k){n+=S,b=Math.max(b,S),y=!0;break}}}catch(RQ){x.e(RQ)}finally{x.f()}y||(n-=b)}}return n/r*10}}]),e}(),KU=new QU("victory");KU.addDirection(UU.Thumb,qU.VerticalUp,1),KU.addDirection(UU.Thumb,qU.DiagonalUpLeft,1),KU.addDirection(UU.Thumb,qU.DiagonalUpRight,1),KU.addCurl(UU.Index,WU.NoCurl,1),KU.addDirection(UU.Index,qU.VerticalUp,1),KU.addDirection(UU.Index,qU.DiagonalUpLeft,1),KU.addDirection(UU.Index,qU.DiagonalUpRight,1),KU.addDirection(UU.Index,qU.HorizontalLeft,1),KU.addDirection(UU.Index,qU.HorizontalRight,1),KU.addCurl(UU.Middle,WU.NoCurl,1),KU.addDirection(UU.Middle,qU.VerticalUp,1),KU.addDirection(UU.Middle,qU.DiagonalUpLeft,1),KU.addDirection(UU.Middle,qU.DiagonalUpRight,1),KU.addDirection(UU.Middle,qU.HorizontalLeft,1),KU.addDirection(UU.Middle,qU.HorizontalRight,1),KU.addCurl(UU.Ring,WU.FullCurl,1),KU.addCurl(UU.Ring,WU.HalfCurl,.9),KU.addCurl(UU.Pinky,WU.FullCurl,1),KU.addCurl(UU.Pinky,WU.HalfCurl,.9);var XU=new QU("thumbs_up");XU.addCurl(UU.Thumb,WU.NoCurl,1),XU.addDirection(UU.Thumb,qU.VerticalUp,1),XU.addDirection(UU.Thumb,qU.DiagonalUpLeft,.9),XU.addDirection(UU.Thumb,qU.DiagonalUpRight,.9);for(var YU=0,$U=[UU.Index,UU.Middle,UU.Ring,UU.Pinky];YU<$U.length;YU++){var JU=$U[YU];XU.addCurl(JU,WU.FullCurl,1),XU.addCurl(JU,WU.HalfCurl,.9)}XU.addDirection(UU.Index,qU.DiagonalUpLeft,1),XU.addDirection(UU.Index,qU.HorizontalLeft,1),XU.addDirection(UU.Index,qU.HorizontalRight,1),XU.addDirection(UU.Index,qU.DiagonalUpRight,1);var eW=n(6897),tW=new eW.GestureDescription("rock"),nW=new eW.GestureDescription("paper"),rW=new eW.GestureDescription("scissors");tW.addCurl(eW.Finger.Thumb,eW.FingerCurl.HalfCurl,1),tW.addCurl(eW.Finger.Thumb,eW.FingerCurl.NoCurl,.5);for(var aW=0,oW=[eW.Finger.Index,eW.Finger.Middle,eW.Finger.Ring,eW.Finger.Pinky];aW<oW.length;aW++){var iW=oW[aW];tW.addCurl(iW,eW.FingerCurl.FullCurl,1),tW.addCurl(iW,eW.FingerCurl.HalfCurl,.9)}var sW,uW=(0,pc.Z)(eW.Finger.all);try{for(uW.s();!(sW=uW.n()).done;){var cW=sW.value;nW.addCurl(cW,eW.FingerCurl.NoCurl,1)}}catch(RQ){uW.e(RQ)}finally{uW.f()}rW.addCurl(eW.Finger.Index,eW.FingerCurl.NoCurl,1),rW.addCurl(eW.Finger.Middle,eW.FingerCurl.NoCurl,1),rW.addCurl(eW.Finger.Ring,eW.FingerCurl.FullCurl,1),rW.addCurl(eW.Finger.Ring,eW.FingerCurl.HalfCurl,.9),rW.addCurl(eW.Finger.Pinky,eW.FingerCurl.FullCurl,1),rW.addCurl(eW.Finger.Pinky,eW.FingerCurl.HalfCurl,.9);var lW,dW,pW,fW=new HU([tW,nW,rW]),hW={init:function(){var e=uc(lc().mark((function e(){var t,n;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading handpose model..."),e.next=3,jU();case 3:return lW=e.sent,console.log("Model loaded"),console.log("Warm up model"),e.next=8,VU();case 8:return t=e.sent,console.log("smaple created"),e.next=12,lW.estimateHands(t,!1);case 12:return e.next=14,zU();case 14:return n=e.sent,console.log("smaple1 created"),e.next=18,lW.estimateHands(n,!1);case 18:console.log("Model is hot!");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),main:function(){var e=uc(lc().mark((function e(t,n){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("main()"),function(){dW=setInterval(uc(lc().mark((function e(){var r,a,o,i;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lW.estimateHands(document.querySelector("video"));case 2:if((r=e.sent).length>0)for(a=0;a<r.length;a++)r[a].landmarks,o=fW.estimate(r[a].landmarks,9),o.posData,(i=o.gestures).length>0?(t(i[0].name),n(i[0].score)):(t("none"),n(0));case 4:case"end":return e.stop()}}),e)}))),200)}();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),stop:function(){clearInterval(dW)}},mW=hW,vW=[];var gW=function(e){var t=e.setIsInstruction,r=(0,k.useState)("none"),a=(0,E.Z)(r,2),o=a[0],i=a[1],s=(0,k.useState)("0"),u=(0,E.Z)(s,2),c=(u[0],u[1]),l=(0,k.useState)(!1),d=(0,E.Z)(l,2),p=d[0],f=d[1],h=(0,k.useState)(!1),m=(0,E.Z)(h,2),v=m[0],g=m[1],y=(0,k.useState)(!1),b=(0,E.Z)(y,2),x=b[0],w=b[1],S=(0,k.useState)(3),C=(0,E.Z)(S,2),T=C[0],_=C[1],I=(0,k.useState)(3),O=(0,E.Z)(I,2),R=O[0],A=O[1],M=(0,k.useState)(10),D=(0,E.Z)(M,2),P=D[0],F=D[1],L=(0,k.useState)("Get ready"),Z=(0,E.Z)(L,2),j=Z[0],B=Z[1],V=(0,k.useState)(0),z=(0,E.Z)(V,2),U=z[0],W=z[1],q=(0,k.useState)(0),G=(0,E.Z)(q,2),H=G[0],Q=G[1],X=(0,k.useContext)(Aq),Y=X.UserData,$=X.setUserData,J=dh(Ol),ee=(0,E.Z)(J,1)[0];function te(){return ne.apply(this,arguments)}function ne(){return(ne=uc(lc().mark((function e(){return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mW.init();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}K();var re=function(e){return Math.floor(Math.random()*e)},ae=function(){!function(){for(var e,t,n,r,a=re(3),o=re(3);e=a,t=o,r=R,(0===(n=T)&&2===r||1===n&&1===r||2===n&&0===r)&&(0===e&&2===t||1===e&&1===t||2===e&&0===t)||(0===n&&0===r||1===n&&2===r||2===n&&1===r)&&(0===e&&0===t||1===e&&2===t||2===e&&1===t)||(0===n&&1===r||1===n&&0===r||2===n&&2===r)&&(0===e&&1===t||1===e&&0===t||2===e&&2===t);)a=re(3),o=re(3);_(a),A(o)}()},oe=function(){g(!1),vW.map((function(e){clearTimeout(e)})),pW.getTracks().forEach((function(e){e.stop()})),mW.stop(),i("none"),c(0),B("Get ready"),F(10),console.log("game stops")},ie=function(){var e=uc(lc().mark((function e(){var t;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=6;break}return f(!0),e.next=4,te();case 4:t={audio:!1,video:{width:600,height:450}},navigator.mediaDevices.getUserMedia(t).then((function(e){var t=document.querySelector("video");pW=e,t.srcObject=e,t.onloadedmetadata=function(e){t.play()},f(!1),g(!0),mW.main(i,c),console.log("start!!!"),w(!0),F(10),vW.push(setTimeout((function(){ae(),Q(Date.now())}),4e3)),vW.push(setTimeout((function(){B("start in 3")}),1e3)),vW.push(setTimeout((function(){B("start in 2")}),2e3)),vW.push(setTimeout((function(){B("start in 1")}),3e3)),vW.push(setTimeout((function(){B("(Stay Focus)"),w(!1)}),4e3))})).catch((function(e){console.log(e.name+": "+e.message)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,t){var n=(0,k.useRef)();(0,k.useEffect)((function(){n.current=e}),[e]),(0,k.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){("rock"===o&&(0===T&&2===R||1===T&&1===R||2===T&&0===R)||"paper"===o&&(0===T&&0===R||1===T&&2===R||2===T&&1===R)||"scissors"===o&&(0===T&&1===R||1===T&&0===R||2===T&&2===R))&&(F(P-1),1!==P?ae():(W(Date.now()-H),oe()))}),500),(0,k.useEffect)((function(){0!==U&&(Y.scores.hasOwnProperty(Uu)?U<Y.scores[Uu]&&($(N(N({},Y),{},{scores:N(N({},Y.scores),{},{FINGER_MORA:U})})),ee({variables:{data:{name:Y.username,game:Uu,score:10*Math.floor(U/10)}}})):($(N(N({},Y),{},{scores:N(N({},Y.scores),{},{FINGER_MORA:U})})),ee({variables:{data:{name:Y.username,game:Uu,score:10*Math.floor(U/10)}}})))}),[v]),(0,Ce.jsxs)("div",{className:"background",children:[(0,Ce.jsxs)("h3",{className:"loading-status",children:[j,!x&&v?"   "+P.toString()+" left":""]}),(0,Ce.jsx)("h3",{className:"loading-status",children:p?"The game is laoding... please wait...it will take some time...":v?x?"look here --\x3e The game will soon be started <-- look here":0===R?"\u8acb\u8d0f\u5b83":1===R?"\u8acb\u8f38\u7d66\u5b83":2===R?"\u8acb\u5e73\u624b":"error!!!":"Press start button to start"}),(0,Ce.jsx)("br",{}),(0,Ce.jsxs)("div",{className:"game-container",children:[(0,Ce.jsx)("div",{className:"videoWrapper",children:(0,Ce.jsx)("video",{autoPlay:!0,className:"RPSvideo",controls:!0})}),(0,Ce.jsx)("div",{className:"imageWrapper",children:(0,Ce.jsx)("img",{className:"RPSimage",src:n(3===T?1395:2===T?4579:1===T?7063:5006)})})]}),(0,Ce.jsxs)("div",{className:"btn-container-RPS",children:[(0,Ce.jsx)("button",{className:"btn",onClick:function(){oe(),t(!0)},children:"Go Back"}),(0,Ce.jsx)("button",{className:"btn",onClick:ie,children:"Start / Restart"}),(0,Ce.jsx)("button",{className:"btn",onClick:oe,children:"Stop"})]}),(0,Ce.jsx)("br",{}),(0,Ce.jsx)("h3",{className:"gesture-score",children:"your time: "+function(e){return(Math.floor(e/6e4)<10?"0"+Math.floor(e/6e4).toString():Math.floor(e/6e4).toString())+":"+(Math.floor(e%6e4/1e3)<10?"0"+Math.floor(e%6e4/1e3).toString():Math.floor(e%6e4/1e3).toString())+":"+(e%1e3<10?"00":e%1e3<100?"0"+(e%1e3).toString().substring(0,1):(e%1e3).toString().substring(0,2))}(U)})]})},yW=n(4296),bW=n(3507),xW=function(e){var t=e.setIsInstruction,n=(0,k.useContext)(Aq).UserData,r=K();return(0,Ce.jsxs)("div",{className:"background-flappybird",children:[(0,Ce.jsx)("h1",{className:"title-flappybird",children:" Play Rock-Paper-Scissors with Hand Pose Detection ! "}),(0,Ce.jsxs)("div",{className:"container-instruction-flappybird",children:[(0,Ce.jsxs)("ul",{className:"container",children:[(0,Ce.jsxs)("li",{className:"instruction",children:["\u904a\u6232\u8aaa\u660e:",(0,Ce.jsx)("br",{}),'\u73a9\u5bb6\u9032\u5165Rock-Paper-Scissors\u904a\u6232\u9801\u9762\u5f8c\uff0c\u524d\u7f6e\u93e1\u982d\u4fbf\u6703\u5075\u6e2c\u73a9\u5bb6\u7684Hand Pose\uff0c \u8acb\u5728\u904a\u6232\u958b\u59cb\u6642\uff0c\u5c07"\u4e00\u96bb"\u624b\u638c\u653e\u7f6e\u5230\u756b\u9762\u4e2d\u592e\uff0c\u4f7f\u624b\u638c\u5b8c\u6574\u7684\u51fa\u73fe\u65bc\u87a2\u5e55\u4e4b\u4e2d\uff0c\u4e26\u4f54\u64da\u81f3\u5c111/4\u7684\u87a2\u5e55\u5927\u5c0f\u3002 \u6bcf\u6b21\u904a\u6232\u5c07\u670910\u500b\u8981\u6c42\u52d5\u4f5c\uff0c\u5b8c\u6210\u5f8c\u5c07\u6703\u7d66\u51fa\u8a08\u6642\u7684\u5206\u6578(\u55ae\u4f4d:ms)']}),(0,Ce.jsxs)("li",{className:"instruction",children:["\u64cd\u4f5c\u8aaa\u660e:",(0,Ce.jsx)("br",{}),"\u6b64\u904a\u6232\u85c9\u7531\u524d\u7f6e\u93e1\u982d\u5075\u6e2c\u73a9\u5bb6\u7684Hand Pose\uff0c\u8acb\u914d\u5408\u904a\u6232\u6307\u793a\u64fa\u51fa\u526a\u5200\u3001\u77f3\u982d\u6216\u5e03\u3002"]}),(0,Ce.jsxs)("li",{className:"instruction",children:["\u7591\u96e3\u6392\u89e3: ",(0,Ce.jsx)("br",{}),"Q1: \u82e5\u6211\u7684\u96fb\u8166\u6c92\u6709\u524d\u7f6e\u93e1\u982d\u600e\u9ebc\u8fa6\uff1f",(0,Ce.jsx)("br",{}),"A1: \u76ee\u524d\u6c92\u6709\u652f\u6301\u5176\u4ed6\u904a\u6232\u65b9\u5f0fQQ\u3002",(0,Ce.jsx)("br",{}),"Q2: \u8981\u5982\u4f55\u589e\u52a0\u64cd\u4f5c\u7684\u7a69\u5b9a\u6027\uff1f ",(0,Ce.jsx)("br",{}),"A2: \u5982\u4e0a\u8ff0\uff0c\u76e1\u91cf\u4f7f\u624b\u638c\u8655\u65bc\u660e\u986f\u4f4d\u7f6e\u3001\u638c\u5fc3\u671d\u524d\uff0c\u4e14\u4e0d\u8981\u592a\u9760\u8fd1\u5176\u4ed6\u8eab\u9ad4\u90e8\u4f4d(ex:\u81c9)\uff0c \u82e5\u5075\u6e2c\u4e0d\u5230\u53ef\u4ee5\u5617\u8a66\u7ffb\u8f49\u624b\u638c\u3002\u53e6\u5916\uff0c\u6b64\u6a21\u578b\u76ee\u524d\u53ea\u652f\u6301\u4e00\u96bb\u624b\u638c\u7684\u5075\u6e2c\u3002"]}),(0,Ce.jsx)("li",{className:"instruction",children:"\u52a0\u6cb9!!!"})]}),(0,Ce.jsxs)("div",{className:"image-container-flappybird",children:[(0,Ce.jsx)("img",{className:"image-flappybird",src:yW,alt:"Rock-Paper-Scissors"}),(0,Ce.jsx)("img",{className:"image-flappybird",src:bW,alt:"Mora Pose"})]})]}),(0,Ce.jsxs)("div",{className:"btn-container-flappybird",children:[(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3},onClick:function(){r("/login/".concat(n.username,"/lobby"))},children:"Go Back"}),(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3},onClick:function(){t(!1)},children:"Let's Start! "})]})]})},wW=function(){var e=(0,k.useState)(!0),t=(0,E.Z)(e,2),n=t[0],r=t[1];return(0,Ce.jsx)(Vu,{children:n?(0,Ce.jsx)(xW,{setIsInstruction:r}):(0,Ce.jsx)(gW,{setIsInstruction:r})})},kW=n(4929),SW=n(4051),EW=n(9198),CW=n(2598),TW=n(2357),NW=n(7838),_W=new eW.GestureDescription("zero"),IW=new eW.GestureDescription("five"),OW=new eW.GestureDescription("two"),RW=new eW.GestureDescription("three"),AW=new eW.GestureDescription("four"),MW=new eW.GestureDescription("one");_W.addCurl(eW.Finger.Thumb,eW.FingerCurl.HalfCurl,1),_W.addCurl(eW.Finger.Thumb,eW.FingerCurl.NoCurl,.5);for(var DW=0,PW=[eW.Finger.Index,eW.Finger.Middle,eW.Finger.Ring,eW.Finger.Pinky];DW<PW.length;DW++){var FW=PW[DW];_W.addCurl(FW,eW.FingerCurl.FullCurl,1),_W.addCurl(FW,eW.FingerCurl.HalfCurl,.9)}var LW,ZW=(0,pc.Z)(eW.Finger.all);try{for(ZW.s();!(LW=ZW.n()).done;){var jW=LW.value;IW.addCurl(jW,eW.FingerCurl.NoCurl,1)}}catch(RQ){ZW.e(RQ)}finally{ZW.f()}OW.addCurl(eW.Finger.Index,eW.FingerCurl.NoCurl,1),OW.addCurl(eW.Finger.Middle,eW.FingerCurl.NoCurl,1),OW.addCurl(eW.Finger.Ring,eW.FingerCurl.FullCurl,1),OW.addCurl(eW.Finger.Ring,eW.FingerCurl.HalfCurl,.9),OW.addCurl(eW.Finger.Pinky,eW.FingerCurl.FullCurl,1),OW.addCurl(eW.Finger.Pinky,eW.FingerCurl.HalfCurl,.9),RW.addCurl(eW.Finger.Index,eW.FingerCurl.NoCurl,1),RW.addCurl(eW.Finger.Middle,eW.FingerCurl.NoCurl,1),RW.addCurl(eW.Finger.Ring,eW.FingerCurl.NoCurl,1),RW.addCurl(eW.Finger.Pinky,eW.FingerCurl.FullCurl,1),RW.addCurl(eW.Finger.Pinky,eW.FingerCurl.HalfCurl,.9),RW.addCurl(eW.Finger.Thumb,eW.FingerCurl.FullCurl,1),RW.addCurl(eW.Finger.Thumb,eW.FingerCurl.HalfCurl,.9),AW.addCurl(eW.Finger.Thumb,eW.FingerCurl.FullCurl,1),AW.addCurl(eW.Finger.Thumb,eW.FingerCurl.HalfCurl,.9);for(var BW=0,VW=[eW.Finger.Index,eW.Finger.Middle,eW.Finger.Ring,eW.Finger.Pinky];BW<VW.length;BW++){var zW=VW[BW];AW.addCurl(zW,eW.FingerCurl.NoCurl,1)}_W.addCurl(eW.Finger.Thumb,eW.FingerCurl.HalfCurl,1),_W.addCurl(eW.Finger.Thumb,eW.FingerCurl.NoCurl,.5),MW.addCurl(eW.Finger.Index,eW.FingerCurl.NoCurl,1);for(var UW=0,WW=[eW.Finger.Middle,eW.Finger.Ring,eW.Finger.Pinky];UW<WW.length;UW++){var qW=WW[UW];MW.addCurl(qW,eW.FingerCurl.FullCurl,1),MW.addCurl(qW,eW.FingerCurl.HalfCurl,.9)}var GW,HW,QW=n(5006),KW=n(7063),XW=function(){var e=new Image(1024,701);return e.src=QW,new Promise((function(t){e.onload=function(){t(e)}}))},YW=function(){var e=new Image(1024,701);return e.src=KW,new Promise((function(t){e.onload=function(){t(e)}}))},$W={init:function(){var e=uc(lc().mark((function e(){var t,n,r;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[_W,IW,OW,RW,AW,MW],HW=new eW.GestureEstimator(t),console.log("Initialized FingerPose with "+t.length+" gestures"),console.log("Loading handpose model..."),e.next=6,jU();case 6:return GW=e.sent,console.log("Model loaded"),console.log("Warm up model"),e.next=11,XW();case 11:return n=e.sent,console.log("smaple created"),e.next=15,GW.estimateHands(n,!1);case 15:return e.next=17,YW();case 17:return r=e.sent,console.log("smaple1 created"),e.next=21,GW.estimateHands(r,!1);case 21:console.log("Model is hot!");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),predictGesture:function(){var e=uc(lc().mark((function e(t,n){var r,a,o;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GW.estimateHands(t,!1);case 2:if(!((r=e.sent).length>0)){e.next=8;break}if(!((a=HW.estimate(r[0].landmarks,n)).gestures.length>0)){e.next=8;break}return o=a.gestures.reduce((function(e,t){return e.confidence>t.confidence?e:t})),e.abrupt("return",o.name);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getrandomarr:function(e){for(var t=[0,1,2,3,4,5],n=[];n.length<e;)n.push(Number(t[Math.floor(1e3*Math.random())%6]));return n}},JW=function(){function e(){(0,ei.Z)(this,e),this.isRunning=!1,this.startTime=0,this.overallTime=0}return(0,ti.Z)(e,[{key:"_getTimeElapsedSinceLastStart",value:function(){return this.startTime?Date.now()-this.startTime:0}},{key:"start",value:function(){if(this.isRunning)return console.error("Timer is already running");this.isRunning=!0,this.startTime=Date.now()}},{key:"stop",value:function(){if(!this.isRunning)return console.error("Timer is already stopped");this.isRunning=!1,this.overallTime=this.overallTime+this._getTimeElapsedSinceLastStart()}},{key:"reset",value:function(){this.overallTime=0,this.isRunning?this.startTime=Date.now():this.startTime=0}},{key:"getTime",value:function(){return this.startTime?this.isRunning?this.overallTime+this._getTimeElapsedSinceLastStart():this.overallTime:0}}]),e}();var eq=function(e){var t=e.setPrePare,n=(0,k.useRef)(null),r=(0,k.useRef)(null),a=(0,k.useRef)(0),o=(0,k.useRef)(null),i=(0,k.useContext)(Aq),s=i.UserData,u=i.setUserData,c=[NW,kW,SW,EW,CW,TW],l=["zero","one","two","three","four","five"],d=(0,k.useState)(""),p=(0,E.Z)(d,2),f=p[0],h=p[1],m=(0,k.useState)($W.getrandomarr(30)),v=(0,E.Z)(m,2),g=v[0],y=v[1],b=(0,k.useState)(Array(30).fill(!1)),x=(0,E.Z)(b,2),w=x[0],S=x[1],T=(0,k.useState)(!1),_=(0,E.Z)(T,2),I=_[0],O=_[1],R=dh(Ol),A=(0,E.Z)(R,1)[0],M=(0,k.useState)(0),D=(0,E.Z)(M,2),P=D[0],F=D[1],L=(0,k.useState)(!1),Z=(0,E.Z)(L,2),j=Z[0],B=Z[1],V=function(e){switch(e){case"zero":h(NW);break;case"five":h(TW);break;case"two":h(SW);break;case"three":h(EW);break;case"four":h(CW);break;case"one":h(kW);break;default:h("")}};function z(e,t){0===w.filter((function(e){return!e})).length?(console.log("finish"),O(!1)):function(e,t){if("undefined"!==typeof n.current&&null!==n.current&&4===n.current.video.readyState){var r=n.current.video,o=n.current.video.videoWidth,i=n.current.video.videoHeight;n.current.video.width=o,n.current.video.height=i;var s="",u=0;(function n(){setTimeout((function(){var o=Date.now();e.predictGesture(r,9).then((function(e){if(""!==e)if(e===s){var r=Date.now()-o;u+=r}else V(e),s=e,u=0;else V(!1),s="",u=0;if(u<t)n();else if(!w[a.current])if(l[g[a.current]]===e){var i=Array(30).fill(!1).fill(!0,0,a.current);i[a.current]=!0,a.current++,S(i)}else n()}))}),0)})()}}(e,t)}return(0,k.useEffect)((function(){var e=null;return j?e=setInterval((function(){F(Math.round(o.current.getTime()))}),25):j||clearInterval(e),function(){return clearInterval(e)}}),[j]),(0,k.useEffect)((function(){r.current=$W.init(),Promise.all([r.current]).then((function(){console.log("Play One Round"),z($W,120)}))}),[]),(0,k.useEffect)((function(){I&&setTimeout((function(){return z($W,120)}),250)}),[w,I]),(0,k.useEffect)((function(){I?B(!0):(y($W.getrandomarr(30)),S(Array(30).fill(!1)),B(!1),0!==P&&(s.scores.hasOwnProperty(zu)?P<s.scores.FINGER_EXERCISE&&(u(N(N({},s),{},{scores:N(N({},s.scores),{},(0,C.Z)({},zu,P))})),A({variables:{data:{name:s.username,game:zu,score:P}}})):(u(N(N({},s),{},{scores:N(N({},s.scores),{},(0,C.Z)({},zu,P))})),A({variables:{data:{name:s.username,game:zu,score:P}}}))))}),[I]),(0,Ce.jsxs)(kn,{sx:{width:"100%",margin:"0 auto",position:"relative",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",top:"30px"},children:[(0,Ce.jsxs)(kn,{sx:{position:"relative",border:"7px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",width:"40%",height:"100%",margin:"30px",display:"flex",flexFlow:"column wrap",justifyContent:"center",alignItems:"center"},children:[(0,Ce.jsx)(vh,{sx:{width:"100%"},children:(0,Ce.jsx)(xh,{sx:{display:"flex",flexFlow:"column wrap",justifyContent:"center",alignItems:"center"},children:I&&g.length>0?(0,Ce.jsx)(Au,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",spacing:{xs:2,md:2},columns:{xs:12},children:g.map((function(e,t){return(0,Ce.jsx)(Au,{item:!0,xs:2,alignItems:"center",children:(0,Ce.jsx)(kn,{sx:{textAlign:"center"},children:(0,Ce.jsx)("img",{src:c[e],alt:c[e],width:"40",height:"50",style:{borderRadius:"4px",overflow:"hidden",opacity:w[t]?.3:null}})})},t)}))}):(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3,px:3,backgroundColor:function(e){return e.palette.secondary}},onClick:function(){return a.current=0,o.current=new JW,o.current.start(),F(0),void O(!0)},children:"Start"})})}),(0,Ce.jsx)(kn,{sx:{textAlign:"center",top:10,fontSize:"42px",lineHeight:"50px"},children:function(e){var t=("0"+Math.floor(e/6e4%60)).slice(-2),n=("0"+Math.floor(e/1e3%60)).slice(-2),r=("0"+Math.floor(e/10)%100).slice(-2);return"".concat(t,":").concat(n,":").concat(r)}(P)}),(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3,px:3,backgroundColor:function(e){return e.palette.secondary}},onClick:function(){return a.current=0,O(!1),void t(!1)},children:"Back"})]}),(0,Ce.jsxs)(kn,{sx:{position:"relative",border:"7px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",width:"640px",height:"480px",margin:"30px",overflow:"hidden"},children:[(0,Ce.jsx)(kg(),{ref:n,style:{position:"absolute",textAlign:"center",zIndex:9,width:"640px",height:"480px",transform:"rotateY(180deg)"}}),(0,Ce.jsx)(Ir,{sx:{position:"absolute",textAlign:"start",width:"640px",height:"480px",zIndex:11},children:f?(0,Ce.jsx)("img",{src:f,alt:f,width:"60",height:"75"}):null})]})]})},tq=n(176),nq=function(e){var t=e.setPrePare,n=(0,k.useContext)(Aq).UserData,r=K();return(0,Ce.jsxs)("div",{className:"exer-background",children:[(0,Ce.jsxs)("h1",{className:"exer-title",children:[" ","Play Finger Exercise with Hand Pose Detection !"," "]}),(0,Ce.jsxs)("div",{className:"exer-container-instruction",children:[(0,Ce.jsxs)("ul",{className:"exer-instruction-container",children:[(0,Ce.jsxs)("li",{className:"exer-instruction",children:["\u904a\u6232\u8aaa\u660e:",(0,Ce.jsx)("br",{}),"\u73a9\u5bb6\u9032\u5165Finger Exercise\u904a\u6232\u9801\u9762\u5f8c\uff0c\u524d\u7f6e\u93e1\u982d\u4fbf\u6703\u5075\u6e2c\u73a9\u5bb6\u7684Hand Pose\uff0c \u7576\u770b\u5230\u756b\u9762\u4e2d\u6709\u8fa8\u8b58\u7d50\u679c\u4fbf\u53ef\u4ee5\u958b\u59cb\u9032\u884c\u904a\u6232!"]}),(0,Ce.jsxs)("li",{className:"exer-instruction",children:["\u64cd\u4f5c\u8aaa\u660e:",(0,Ce.jsx)("br",{}),"\u6b64\u904a\u6232\u85c9\u7531\u524d\u7f6e\u93e1\u982d\u5075\u6e2c\u73a9\u5bb6\u7684Hand Pose\uff0c\u6839\u64da\u5de6\u908a\u5716\u7247\u7531\u5de6\u81f3\u53f3\u958b\u59cb\u5b8c\u6210 \u5b8c\u6210\u5f8c\u8a08\u7b97\u6642\u9593\u5373\u70ba\u5206\u6578"]}),(0,Ce.jsxs)("li",{className:"exer-instruction",children:["\u7591\u96e3\u6392\u89e3: ",(0,Ce.jsx)("br",{}),"Q1: \u82e5\u6211\u7684\u96fb\u8166\u6c92\u6709\u524d\u7f6e\u93e1\u982d\u600e\u9ebc\u8fa6\uff1f",(0,Ce.jsx)("br",{}),"A1: \u90a3\u4e0d\u80fd\u73a9\uff0c\u518d\u898b\u4e86!!",(0,Ce.jsx)("br",{}),"Q2: \u8981\u5982\u4f55\u589e\u52a0\u64cd\u4f5c\u7684\u7a69\u5b9a\u6027\uff1f ",(0,Ce.jsx)("br",{}),"A2: \u56e0\u70ba\u6b64\u904a\u6232\u662f\u85c9\u7531tensorflow.js\u7684handpose model\u4f86\u5075\u6e2c\u73a9\u5bb6\u7684\u8eab\u9ad4\u52d5\u4f5c\uff0c\u56e0\u6b64\u8acb\u96e2\u93e1\u982d\u4e00\u5b9a\u8ddd\u96e2\uff0c \u4e26\u4e14\u6bd4\u51fa\u624b\u52e2\u6642\uff0c\u4e0d\u7528\u63e1\u5f97\u592a\u7dca\uff0c\u907f\u514d\u906e\u4f4f\u5176\u4ed6\u624b\u6307 \u6b64\u6a21\u578b\u9700\u8981\u770b\u5230\u6240\u6709\u624b\u6307\uff0c\u624d\u6bd4\u8f03\u7a69\u5b9a\u3002"]}),(0,Ce.jsx)("li",{className:"exer-instruction",children:"\u662f\u4e0d\u662f\u68d2\u900f\u4e86!"})]}),(0,Ce.jsxs)("div",{className:"exer-image-container",children:[(0,Ce.jsx)("img",{className:"exer-image",src:tq,alt:"fingerexer"}),(0,Ce.jsx)("img",{className:"exer-image",src:NW,alt:"zero"})]})]}),(0,Ce.jsxs)("div",{className:"exer-btn-container",children:[(0,Ce.jsx)(dn,{variant:"contained",sx:{mx:3},onClick:function(){r("/login/".concat(n.username,"/lobby"))},children:"Go Back"}),(0,Ce.jsxs)(dn,{variant:"contained",sx:{mx:3},onClick:function(){t(!0)},children:["Let's Start!"," "]})]})]})},rq=function(){var e=(0,k.useState)(!1),t=(0,E.Z)(e,2),n=t[0],r=t[1];return(0,Ce.jsx)(Vu,{children:n?(0,Ce.jsx)(eq,{setPrePare:r}):(0,Ce.jsx)(nq,{setPrePare:r})})},aq=function(e,t){return aq=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},aq(e,t)};function oq(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}aq(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var iq=function(){return iq=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},iq.apply(this,arguments)};function sq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function uq(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function cq(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function lq(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var dq="function"===typeof WeakMap&&!("object"===typeof navigator&&"ReactNative"===navigator.product),pq="function"===typeof WeakSet,fq="function"===typeof Symbol&&"function"===typeof Symbol.for,hq=fq?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function mq(){var e=k.createContext[hq];return e||(Object.defineProperty(k.createContext,hq,{value:e=k.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function vq(e){try{return e()}catch(Bl){}}var gq=vq((function(){return globalThis}))||vq((function(){return window}))||vq((function(){return self}))||vq((function(){return global}))||vq((function(){return vq.constructor("return this")()})),yq="__",bq=[yq,yq].join("DEV");var xq=function(){try{return Boolean(__DEV__)}catch(Bl){return Object.defineProperty(gq,bq,{value:"production"!==vq((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),gq[bq]}}();function wq(e){return Array.isArray(e)&&e.length>0}td(),__DEV__?Ul("boolean"===typeof xq,xq):Ul("boolean"===typeof xq,36);var kq,Sq,Eq=function(e){function t(n){var r=n.graphQLErrors,a=n.clientErrors,o=n.networkError,i=n.errorMessage,s=n.extraInfo,u=e.call(this,i)||this;return u.graphQLErrors=r||[],u.clientErrors=a||[],u.networkError=o||null,u.message=i||function(e){var t="";return(wq(e.graphQLErrors)||wq(e.clientErrors))&&(e.graphQLErrors||[]).concat(e.clientErrors||[]).forEach((function(e){var n=e?e.message:"Error message not found.";t+="".concat(n,"\n")})),e.networkError&&(t+="".concat(e.networkError.message,"\n")),t=t.replace(/\n$/,"")}(u),u.extraInfo=s,u.__proto__=t.prototype,u}return oq(t,e),t}(Error);function Cq(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(kq||(kq={})),function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Sq||(Sq={}));var Tq=new Map;function Nq(e){var t;switch(e){case Sq.Query:t="Query";break;case Sq.Mutation:t="Mutation";break;case Sq.Subscription:t="Subscription"}return t}function _q(e,t){var n=function(e){var t,n,r=Tq.get(e);if(r)return r;__DEV__?Ul(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Ul(!!e&&!!e.kind,30);var a=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),o=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),i=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?Ul(!a.length||o.length||i.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Ul(!a.length||o.length||i.length||s.length,31),__DEV__?Ul(o.length+i.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(o.length," queries, ").concat(s.length," ")+"subscriptions and ".concat(i.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):Ul(o.length+i.length+s.length<=1,32),n=o.length?Sq.Query:Sq.Mutation,o.length||i.length||(n=Sq.Subscription);var u=o.length?o:i.length?i:s;__DEV__?Ul(1===u.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(u.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):Ul(1===u.length,33);var c=u[0];t=c.variableDefinitions||[];var l={name:c.name&&"Name"===c.name.kind?c.name.value:"data",type:n,variables:t};return Tq.set(e,l),l}(e),r=Nq(t),a=Nq(n.type);__DEV__?Ul(n.type===t,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(a," was used instead.")):Ul(n.type===t,34)}function Iq(e,t){var n,r=(0,k.useContext)(mq()),a=function(e){var t=(0,k.useContext)(mq()),n=e||t.client;return __DEV__?Ul(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClientApolloClient instance in via options.'):Ul(!!n,29),n}(null===t||void 0===t?void 0:t.client);_q(e,Sq.Query);var o,i=(0,k.useState)((function(){var n=Oq(e,t),o=null;return r.renderPromises&&(o=r.renderPromises.getSSRObservable(n)),o||(o=a.watchQuery(n),r.renderPromises&&r.renderPromises.registerSSRObservable(o,n)),r.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&o.getCurrentResult().loading&&r.renderPromises.addQueryPromise({getOptions:function(){return Oq(e,t)},fetchData:function(){return new Promise((function(e){var t=o.subscribe({next:function(n){n.loading||(e(),t.unsubscribe())},error:function(){e(),t.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),o})),s=i[0],u=i[1],c=(0,k.useState)((function(){var e,n,r=s.getCurrentResult();return!r.loading&&t&&(r.error?null===(e=t.onError)||void 0===e||e.call(t,r.error):r.data&&(null===(n=t.onCompleted)||void 0===n||n.call(t,r.data))),r})),l=c[0],d=c[1],p=(0,k.useRef)({client:a,query:e,options:t,result:l,previousData:void 0,watchQueryOptions:Oq(e,t)});(0,k.useEffect)((function(){var n,r,o,i=Oq(e,t);if(p.current.client===a&&lp(p.current.query,e))lp(p.current.watchQueryOptions,i)||(s.setOptions(i).catch((function(){})),o=s.getCurrentResult(),p.current.watchQueryOptions=i);else{var c=a.watchQuery(i);u(c),o=c.getCurrentResult()}if(o){var f=p.current.result;f.data&&(p.current.previousData=f.data),d(p.current.result=o),!o.loading&&t&&(l.loading||(l.error?null===(n=t.onError)||void 0===n||n.call(t,l.error):l.data&&(null===(r=t.onCompleted)||void 0===r||r.call(t,l.data))))}Object.assign(p.current,{client:a,query:e})}),[s,a,e,t]),(0,k.useEffect)((function(){if(!r.renderPromises){var e=s.subscribe(t,(function n(r){var a,o,i=s.last;e.unsubscribe();try{s.resetLastResults(),e=s.subscribe(t,n)}finally{s.last=i}if(!r.hasOwnProperty("graphQLErrors"))throw r;var u=p.current.result;(u&&u.loading||!lp(r,u.error))&&(d(p.current.result={data:u.data,error:r,loading:!1,networkStatus:kq.error}),null===(o=null===(a=p.current.options)||void 0===a?void 0:a.onError)||void 0===o||o.call(a,r))}));return function(){return e.unsubscribe()}}function t(){var e,t,n=p.current.result,r=s.getCurrentResult();n&&n.loading===r.loading&&n.networkStatus===r.networkStatus&&lp(n.data,r.data)||(n.data&&(p.current.previousData=n.data),d(p.current.result=r),r.loading||null===(t=null===(e=p.current.options)||void 0===e?void 0:e.onCompleted)||void 0===t||t.call(e,r.data))}}),[s,r.renderPromises,a.disableNetworkFetches]),o=(n=l).partial,l=sq(n,["partial"]),!o||!(null===t||void 0===t?void 0:t.partialRefetch)||l.loading||l.data&&0!==Object.keys(l.data).length||"cache-only"===s.options.fetchPolicy||(l=iq(iq({},l),{loading:!0,networkStatus:kq.refetch}),s.refetch()),r.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&l.loading&&s.setOptions(Oq(e,t)).catch((function(){})),Object.assign(p.current,{options:t}),(r.renderPromises||a.disableNetworkFetches)&&!1===(null===t||void 0===t?void 0:t.ssr)?l=p.current.result={loading:!0,data:void 0,error:void 0,networkStatus:kq.loading}:((null===t||void 0===t?void 0:t.skip)||"standby"===(null===t||void 0===t?void 0:t.fetchPolicy))&&(l={loading:!1,data:void 0,error:void 0,networkStatus:kq.ready}),l.errors&&l.errors.length&&(l=iq(iq({},l),{error:l.error||new Eq({graphQLErrors:l.errors})}));var f=(0,k.useMemo)((function(){return{refetch:s.refetch.bind(s),fetchMore:s.fetchMore.bind(s),updateQuery:s.updateQuery.bind(s),startPolling:s.startPolling.bind(s),stopPolling:s.stopPolling.bind(s),subscribeToMore:s.subscribeToMore.bind(s)}}),[s]);return iq(iq(iq({},f),{variables:Oq(e,t).variables,client:a,called:!0,previousData:p.current.previousData}),l)}function Oq(e,t){var n;void 0===t&&(t={});var r=t.skip,a=(t.ssr,t.onCompleted,t.onError,t.displayName,sq(t,["skip","ssr","onCompleted","onError","displayName"]));return r?a.fetchPolicy="standby":(!(null===(n=a.context)||void 0===n?void 0:n.renderPromises)||"network-only"!==a.fetchPolicy&&"cache-and-network"!==a.fetchPolicy)&&a.fetchPolicy||(a.fetchPolicy="cache-first"),a.variables||(a.variables={}),iq({query:e},a)}var Rq=(0,xn.Z)({palette:{mode:"dark",primary:{main:"#8893ef"},secondary:{main:"#7f3b56"},background:{paper:"#303030",default:"#303030"}}}),Aq=(0,k.createContext)();function Mq(){var e=ph(),t=e.UserData,n=e.game,r=e.time,a=e.timerOn,o=e.setUserData,i=e.setGame,s=e.setTime,u=e.setTimerOn,c=e.handleChangeUserData,l=e.handleCreate,d=e.handleLogin,p=e.handleUpdate,f=e.handleLogout,h=e.handleSignUp,m=Iq(Nl,{variables:{game:Uu}}),v=m.loading,g=m.error,y=m.data,b=m.subscribeToMore;return(0,k.useEffect)((function(){b({document:Rl,variables:{game:Uu},updateQuery:function(e,t){var n=t.subscriptionData;return n.data?{users:n.data.userUpdated.data}:e}})}),[b]),(0,Ce.jsx)(Aq.Provider,{value:{UserData:t,game:n,time:r,timerOn:a,setUserData:o,setGame:i,setTime:s,setTimerOn:u,handleChangeUserData:c,handleCreate:l,handleLogin:d,handleUpdate:p,handleLogout:f,handleSignUp:h},children:(0,Ce.jsxs)(ic,{theme:Rq,children:[(0,Ce.jsx)(ec,{}),(0,Ce.jsxs)(G,{children:[(0,Ce.jsx)(W,{exact:!0,path:"/login",element:(0,Ce.jsx)(lg,{})}),(0,Ce.jsx)(W,{path:"/register",element:(0,Ce.jsx)(pg,{})}),(0,Ce.jsx)(W,{path:"/login/:username/leaderboard",element:(0,Ce.jsx)(Ku,{loading:v,error:g,data:y,subscribeToMore:b})}),(0,Ce.jsx)(W,{path:"/login/:username/lobby",element:(0,Ce.jsx)(Ph,{})}),(0,Ce.jsx)(W,{path:"/login/:username/about",element:(0,Ce.jsx)(fg,{})}),(0,Ce.jsx)(W,{path:"/login/:username/pose-flappy-bird",element:(0,Ce.jsx)(vU,{})}),(0,Ce.jsx)(W,{path:"/login/:username/rock-paper-scissors",element:(0,Ce.jsx)(wW,{})}),(0,Ce.jsx)(W,{path:"/login/:username/fingerexercise",element:(0,Ce.jsx)(rq,{})}),(0,Ce.jsx)(W,{path:"/",element:(0,Ce.jsx)(z,{to:"/login"})}),(0,Ce.jsx)(W,{path:"*",element:(0,Ce.jsx)(z,{to:"/login"})})]})]})})}var Dq=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};function Pq(e){var t=e.basename,n=e.children,r=e.window,a=(0,k.useRef)();null==a.current&&(a.current=function(e){function t(){var e=i.location,t=s.state||{};return[t.idx,A({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:F(e)}function r(e,t){return void 0===t&&(t=null),A((0,O.Z)({pathname:d.pathname,hash:"",search:""},"string"===typeof e?L(e):e,{state:t,key:P()}))}function a(e){c=e,e=t(),l=e[0],d=e[1],p.call({action:c,location:d})}function o(e){s.go(e)}void 0===e&&(e={});var i=void 0===(e=e.window)?document.defaultView:e,s=i.history,u=null;i.addEventListener("popstate",(function(){if(u)f.call(u),u=null;else{var e=I.Pop,n=t(),r=n[0];if(n=n[1],f.length){if(null!=r){var i=l-r;i&&(u={action:e,location:n,retry:function(){o(-1*i)}},o(i))}}else a(e)}}));var c=I.Pop,l=(e=t())[0],d=e[1],p=D(),f=D();return null==l&&(l=0,s.replaceState((0,O.Z)({},s.state,{idx:l}),"")),{get action(){return c},get location(){return d},createHref:n,push:function e(t,o){var u=I.Push,c=r(t,o);if(!f.length||(f.call({action:u,location:c,retry:function(){e(t,o)}}),0)){var d=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=d[0],d=d[1];try{s.pushState(c,"",d)}catch(wR){i.location.assign(d)}a(u)}},replace:function e(t,o){var i=I.Replace,u=r(t,o);f.length&&(f.call({action:i,location:u,retry:function(){e(t,o)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),a(i))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return p.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&i.addEventListener("beforeunload",M),function(){t(),f.length||i.removeEventListener("beforeunload",M)}}}}({window:r}));var o=a.current,i=(0,k.useState)({action:o.action,location:o.location}),s=(0,E.Z)(i,2),u=s[0],c=s[1];return(0,k.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,k.createElement)(q,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}function Fq(e){return null!==e&&"object"===typeof e}function Lq(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new zl("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new zl(41);"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(__DEV__?Ul(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Ul(1===r.length,42),n=r[0].name.value),iq(iq({},e),{definitions:lq([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function Zq(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function jq(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?Ul(n,"No fragment named ".concat(e.name.value,".")):Ul(n,43),n;default:return null}}function Bq(e){return{__ref:String(e)}}function Vq(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function zq(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var a={};n.fields.map((function(e){return zq(a,e.name,e.value,r)})),e[t.value]=a}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return zq(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new zl('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new zl(52);e[t.value]=null}}var Uq=["connection","include","skip","client","rest","export"],Wq=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var a={};return r.forEach((function(e){a[e]=t[e]})),"".concat(n.connection.key,"(").concat(qq(a),")")}return n.connection.key}var o=e;if(t){var i=qq(t);o+="(".concat(i,")")}return n&&Object.keys(n).forEach((function(e){-1===Uq.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(qq(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=qq;return qq=e,t}}),qq=function(e){return JSON.stringify(e,Gq)};function Gq(e,t){return Fq(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Hq(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,a=e.value;return zq(n,r,a,t)})),n}return null}function Qq(e){return e.alias?e.alias.value:e.name.value}function Kq(e,t,n){if("string"===typeof e.__typename)return e.__typename;for(var r=0,a=t.selections;r<a.length;r++){var o=a[r];if(Xq(o)){if("__typename"===o.name.value)return e[Qq(o)]}else{var i=Kq(e,jq(o,n).selectionSet,n);if("string"===typeof i)return i}}}function Xq(e){return"Field"===e.kind}function Yq(e){return"InlineFragment"===e.kind}function $q(e){__DEV__?Ul(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Ul(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new zl('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new zl(45);return e}));return __DEV__?Ul(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Ul(t.length<=1,46),e}function Jq(e){return $q(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function eG(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function tG(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function nG(e){var t=Jq(e);return __DEV__?Ul(t&&"query"===t.operation,"Must contain a query definition."):Ul(t&&"query"===t.operation,47),t}function rG(e){var t;$q(e);for(var n=0,r=e.definitions;n<r.length;n++){var a=r[n];if("OperationDefinition"===a.kind){var o=a.operation;if("query"===o||"mutation"===o||"subscription"===o)return a}"FragmentDefinition"!==a.kind||t||(t=a)}if(t)return t;throw __DEV__?new zl("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new zl(51)}function aG(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&zq(t,e.variable.name,e.defaultValue)})),t}function oG(e,t){return t?t(e):Sd.of()}function iG(e){return"function"===typeof e?new cG(e):e}function sG(e){return e.request.length<=1}var uG=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return oq(t,e),t}(Error),cG=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Sd.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(iG).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var a=iG(n),o=iG(r||new e(oG));return sG(a)&&sG(o)?new e((function(e){return t(e)?a.request(e)||Sd.of():o.request(e)||Sd.of()})):new e((function(e,n){return t(e)?a.request(e,n)||Sd.of():o.request(e,n)||Sd.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=iq({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=iq(iq({},n),"function"===typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return iq({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?eG(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];if(t.indexOf(a)<0)throw __DEV__?new zl("illegal argument: ".concat(a)):new zl(24)}return e}(t))))||Sd.of()},e.concat=function(t,n){var r=iG(t);if(sG(r))return __DEV__&&Ul.warn(new uG("You are calling concat on a terminating link, which will have no effect",r)),r;var a=iG(n);return sG(a)?new e((function(e){return r.request(e,(function(e){return a.request(e)||Sd.of()}))||Sd.of()})):new e((function(e,t){return r.request(e,(function(e){return a.request(e,t)||Sd.of()}))||Sd.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(oG)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new zl("request is not implemented"):new zl(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),lG=function(e,t){var n;try{n=JSON.stringify(e)}catch(a){var r=__DEV__?new zl("Network request failed. ".concat(t," is not serializable: ").concat(a.message)):new zl(21);throw r.parseError=a,r}return n},dG=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},pG=Object.prototype.hasOwnProperty;var fG={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},hG=function(e,t){return t(e)};function mG(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a={},o={};n.forEach((function(e){a=iq(iq(iq({},a),e.options),{headers:iq(iq({},a.headers),vG(e.headers))}),e.credentials&&(a.credentials=e.credentials),o=iq(iq({},o),e.http)}));var i=e.operationName,s=e.extensions,u=e.variables,c=e.query,l={operationName:i,variables:u};return o.includeExtensions&&(l.extensions=s),o.includeQuery&&(l.query=t(c,Xd.print)),{options:a,body:l}}function vG(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function gG(e){return new Sd((function(t){t.error(e)}))}var yG=vq((function(){return fetch})),bG=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,a=e.print,o=void 0===a?hG:a,i=e.includeExtensions,s=e.useGETForQueries,u=e.includeUnusedVariables,c=void 0!==u&&u,l=sq(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw __DEV__?new zl("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new zl(20)}(r||yG);var d={http:{includeExtensions:i},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new cG((function(e){var t=function(e,t){return e.getContext().uri||("function"===typeof t?t(e):t||"/graphql")}(e,n),a=e.getContext(),i={};if(a.clientAwareness){var u=a.clientAwareness,l=u.name,p=u.version;l&&(i["apollographql-client-name"]=l),p&&(i["apollographql-client-version"]=p)}var f,h=iq(iq({},i),a.headers),m={http:a.http,options:a.fetchOptions,credentials:a.credentials,headers:h},v=mG(e,o,fG,d,m),g=v.options,y=v.body;if(y.variables&&!c){var b=new Set(Object.keys(y.variables));(0,Gd.Vn)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(y.variables=iq({},y.variables),b.forEach((function(e){delete y.variables[e]})))}if(!g.signal){var x=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=x.controller,k=x.signal;(f=w)&&(g.signal=k)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(g.method="GET"),"GET"===g.method){var S=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var a=void 0;try{a=lG(t.variables,"Variables map")}catch(C){return{parseError:C}}r("variables",a)}if(t.extensions){var o=void 0;try{o=lG(t.extensions,"Extensions map")}catch(C){return{parseError:C}}r("extensions",o)}var i="",s=e,u=e.indexOf("#");-1!==u&&(i=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+i}}(t,y),E=S.newURI,C=S.parseError;if(C)return gG(C);t=E}else try{g.body=lG(y,"Payload")}catch(C){return gG(C)}return new Sd((function(n){var a;return(r||vq((function(){return fetch}))||yG)(t,g).then((function(t){return e.setContext({response:t}),t})).then((a=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(RQ){var n=RQ;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&dG(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||pG.call(t,"data")||pG.call(t,"errors")||dG(e,t,"Server response was missing for query '".concat(Array.isArray(a)?a.map((function(e){return e.operationName})):a.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))},xG=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,bG(t).request)||this;return n.options=t,n}return oq(t,e),t}(cG),wG=cG.split,kG=cG.execute;function SG(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}var EG,CG,TG=function(){function e(){this.known=new(pq?WeakSet:Set),this.pool=new xp(dq),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Fq(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Fq(e)){var t=function(e){return Fq(e)?Array.isArray(e)?e.slice(0):iq({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Fq(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),o=[a],i=this.sortedKeys(e);o.push(i.json);var s,u=o.length;if(i.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(o)).object){var c=s.object=Object.create(a);this.known.add(c),i.sorted.forEach((function(e,t){c[e]=o[u+t]})),__DEV__&&Object.freeze(c)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),NG=Object.assign((function(e){if(Fq(e)){void 0===EG&&_G();var t=EG.admit(e),n=CG.get(t);return void 0===n&&CG.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:_G});function _G(){EG=new TG,CG=new(dq?WeakMap:Map)}function IG(e,t,n){return new Sd((function(r){var a=r.next,o=r.error,i=r.complete,s=0,u=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++s;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--s,a&&a.call(r,e),u&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:l(t,a),error:l(n,o),complete:function(){u=!0,s||i&&i.call(r)}},p=e.subscribe(d);return function(){return p.unsubscribe()}}))}function OG(e){return e.errors&&e.errors.length>0||!1}function RG(e,t,n){var r=0;return e.forEach((function(n,a){t.call(this,n,a,e)&&(e[r++]=n)}),n),e.length=r,e}var AG={kind:"Field",name:{kind:"Name",value:"__typename"}};function MG(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&MG(t[e.name.value],t)}))}function DG(e){return MG(Jq(e)||function(e){__DEV__?Ul("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Ul("Document"===e.kind,48),__DEV__?Ul(e.definitions.length<=1,"Fragment must have exactly one definition."):Ul(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?Ul("FragmentDefinition"===t.kind,"Must be a fragment definition."):Ul("FragmentDefinition"===t.kind,50),t}(e),Zq(tG(e)))?null:e}function PG(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function FG(e,t){var n=Object.create(null),r=[],a=Object.create(null),o=[],i=DG((0,Gd.Vn)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(PG(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&jG(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){a[e.name.value]=!0}},Directive:{enter:function(t){if(PG(e)(t))return null}}}));return i&&RG(r,(function(e){return!!e.name&&!n[e.name]})).length&&(i=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return DG((0,Gd.Vn)(t,{OperationDefinition:{enter:function(t){return iq(iq({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,i)),i&&RG(o,(function(e){return!!e.name&&!a[e.name]})).length&&(i=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return DG((0,Gd.Vn)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,i)),i}var LG=Object.assign((function(e){return(0,Gd.Vn)($q(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r)if(!r.some((function(e){return Xq(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var a=n;if(!(Xq(a)&&a.directives&&a.directives.some((function(e){return"export"===e.name.value}))))return iq(iq({},e),{selections:lq(lq([],r,!0),[AG],!1)})}}}}})}),{added:function(e){return e===AG}}),ZG={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&Ul.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function jG(e){var t=[];return e.selections.forEach((function(e){(Xq(e)||Yq(e))&&e.selectionSet?jG(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function BG(e){return"query"===rG(e).operation?e:(0,Gd.Vn)(e,{OperationDefinition:{enter:function(e){return iq(iq({},e),{operation:"query"})}}})}function VG(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?Ul(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):Ul(n&&1===n.length,38);var a=n[0];__DEV__?Ul(a.name&&"if"===a.name.value,"Invalid argument for the @".concat(r," directive.")):Ul(a.name&&"if"===a.name.value,39);var o=a.value;__DEV__?Ul(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):Ul(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:a})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,a=!1;return"Variable"===r.value.kind?(a=t&&t[r.value.name.value],__DEV__?Ul(void 0!==a,"Invalid variable referenced in @".concat(n.name.value," directive.")):Ul(void 0!==a,37)):a=r.value.value,"skip"===n.name.value?!a:a}))}function zG(e,t){return function(e){var t=[];return(0,Gd.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function UG(e){return e&&zG(["client"],e)&&zG(["export"],e)}var WG=new Map;function qG(e){var t=WG.get(e)||1;return WG.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function GG(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function HG(e){function t(t){Object.defineProperty(e,t,{value:Sd})}return fq&&Symbol.species&&t(Symbol.species),t("@@species"),e}function QG(e){return e&&"function"===typeof e.then}var KG=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],GG(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),GG(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?QG(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),GG(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new Sd(t)]),QG(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return oq(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(a),e())},a={next:r,error:r,complete:r},o=this.addCount;this.addObserver(a),this.addCount=o},t}(Sd);HG(KG);var XG=Object.prototype.toString;function YG(e){return $G(e)}function $G(e,t){switch(XG.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=$G(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=$G(e[n],t)})),r;default:return e}}var JG=Object.assign,eH=Object.hasOwnProperty,tH=!1,nH=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,a=t.options,o=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=rH)}catch(t){}var r=!o.observers.size;o.observers.add(e);var a=o.last;return a&&a.error?e.error&&e.error(a.error):a&&a.result&&e.next&&e.next(a.result),r&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=a,o.queryId=r.queryId||n.generateQueryId();var i=Jq(a.query);return o.queryName=i&&i.name&&i.name.value,o.initialFetchPolicy=a.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return oq(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){a.unsubscribe()}),0)},error:n},a=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||kq.ready,r=iq(iq({},t),{loading:Cq(n),networkStatus:n}),a=this.options.fetchPolicy,o=void 0===a?"cache-first":a;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var i=this.queryInfo.getDiff();(i.complete||this.options.returnPartialData)&&(r.data=i.result),lp(r.data,{})&&(r.data=void 0),i.complete?(delete r.partial,!i.complete||r.networkStatus!==kq.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=kq.ready,r.loading=!1)):r.partial=!0,!__DEV__||i.complete||this.options.partialRefetch||r.loading||r.data||r.error||aH(i.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!lp(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||lp(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="standby"===r||"cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&eH.call(e,"variables")){var a=nG(this.options.query),o=a.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&Ul.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=a.name)||void 0===t?void 0:t.value)||JSON.stringify(a),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!lp(this.options.variables,e)&&(n.variables=this.options.variables=iq(iq({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,kq.refetch)},t.prototype.fetchMore=function(e){var t=this,n=iq(iq({},e.query?e:iq(iq(iq({},this.options),e),{variables:iq(iq({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=kq.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,kq.fetchMore).then((function(r){var a=r.data,o=e.updateQuery;return o?(__DEV__&&!tH&&(__DEV__&&Ul.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),tH=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:a,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:a}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var a=t.variables;return r(e,{subscriptionData:n,variables:a})}))},error:function(t){e.onError?e.onError(t):__DEV__&&Ul.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return lp(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},kq.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?Ul(n,"Attempted to start a polling query without a polling interval."):Ul(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Cq(e.queryInfo.networkStatus)?a():e.reobserve({fetchPolicy:"network-only"},kq.poll).then(a,a))},a=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};a()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=iq(iq({},this.last),{result:this.queryManager.assumeImmutableResults?e:YG(e),variables:t}),wq(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===kq.refetch||t===kq.fetchMore||t===kq.poll,a=this.options.variables,o=r?SG(this.options,e):JG(this.options,SG(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!lp(e.variables,a)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=kq.setVariables)));var i=o.variables&&iq({},o.variables),s=this.fetch(o,t),u={next:function(e){n.reportResult(e,i)},error:function(e){n.reportError(e,i)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=s,this.observer=u),s.addObserver(u),s.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),GG(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=iq(iq({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:kq.error,loading:!1});this.updateLastResult(n,t),GG(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(Sd);function rH(e){__DEV__&&Ul.error("Unhandled error",e.message,e.stack)}function aH(e){__DEV__&&e&&__DEV__&&Ul.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}HG(nH);var oH=Object.prototype.hasOwnProperty;function iH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sH(e)}function sH(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new cH,a=1;a<n;++a)t=r.merge(t,e[a]);return t}var uH=function(e,t,n){return this.merge(e[n],t[n])},cH=function(){function e(e){void 0===e&&(e=uH),this.reconciler=e,this.isObject=Fq,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];return Fq(t)&&Fq(e)?(Object.keys(t).forEach((function(a){if(oH.call(e,a)){var o=e[a];if(t[a]!==o){var i=n.reconciler.apply(n,lq([e,t,a],r,!1));i!==o&&((e=n.shallowCopyForMerge(e))[a]=i)}}else(e=n.shallowCopyForMerge(e))[a]=t[a]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(Fq(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):iq({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),lH=new xf,dH=new WeakMap;function pH(e){var t=dH.get(e);return t||dH.set(e,t={vars:new Set,dep:Wf()}),t}function fH(e){pH(e).vars.forEach((function(t){return t.forgetCache(e)}))}function hH(e){var t=new Set,n=new Set,r=function r(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){pH(e).dep.dirty(r),mH(e)}));var i=Array.from(n);n.clear(),i.forEach((function(t){return t(e)}))}}else{var s=lH.getValue();s&&(a(s),pH(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var a=r.attachCache=function(e){return t.add(e),pH(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function mH(e){e.broadcastWatches&&e.broadcastWatches()}var vH=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=iH(t.resolvers,e)})):this.resolvers=iH(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,i=void 0!==o&&o;return uq(this,void 0,void 0,(function(){return cq(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,a,this.fragmentMatcher,i).then((function(e){return iq(iq({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return zG(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){$q(e);var t=FG([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,Gd.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Xq(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return iq(iq({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),uq(this,void 0,void 0,(function(){return cq(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return iq(iq({},t),e.exportedVariables)}))]:[2,iq({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Gd.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Gd.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:BG(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,a,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===a&&(a=function(){return!0}),void 0===o&&(o=!1),uq(this,void 0,void 0,(function(){var i,s,u,c,l,d,p,f,h;return cq(this,(function(m){return i=rG(e),s=tG(e),u=Zq(s),c=i.operation,l=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",p=(d=this).cache,f=d.client,h={fragmentMap:u,context:iq(iq({},n),{cache:p,client:f}),variables:r,fragmentMatcher:a,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(i.selectionSet,t,h).then((function(e){return{result:e,exportedVariables:h.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return uq(this,void 0,void 0,(function(){var r,a,o,i,s,u=this;return cq(this,(function(c){return r=n.fragmentMap,a=n.context,o=n.variables,i=[t],s=function(e){return uq(u,void 0,void 0,(function(){var s,u;return cq(this,(function(c){return VG(e,o)?Xq(e)?[2,this.resolveField(e,t,n).then((function(t){var n;"undefined"!==typeof t&&i.push(((n={})[Qq(e)]=t,n))}))]:(Yq(e)?s=e:(s=r[e.name.value],__DEV__?Ul(s,"No fragment named ".concat(e.name.value)):Ul(s,9)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,a))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){i.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return sH(i)}))]}))}))},e.prototype.resolveField=function(e,t,n){return uq(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,d,p=this;return cq(this,(function(f){return r=n.variables,a=e.name.value,o=Qq(e),i=a!==o,s=t[o]||t[a],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(d=l[i?a:o])&&(u=Promise.resolve(lH.withValue(this.cache,d,[t,Hq(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),gH=new(dq?WeakMap:Map);function yH(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return gH.set(e,(gH.get(e)+1)%1e15),n.apply(this,arguments)})}function bH(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var xH=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;gH.has(n)||(gH.set(n,0),yH(n,"evict"),yH(n,"modify"),yH(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||kq.loading;return this.variables&&this.networkStatus!==kq.loading&&!lp(this.variables,e.variables)&&(t=kq.setVariables),lp(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){bH(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&lp(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||lp(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;bH(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Cq(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=iq(iq({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&lp(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===gH.get(this.cache)&&lp(t,n.variables)&&lp(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=wq(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(wH(e,t.errorPolicy)?this.cache.performTransaction((function(a){if(r.shouldWrite(e,t.variables))a.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:gH.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),i=a.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(i,o),i.complete&&(e.data=i.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=kq.ready},e.prototype.markError=function(e){return this.networkStatus=kq.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function wH(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!OG(e);return!r&&n&&e.data&&(r=!0),r}var kH=Object.prototype.hasOwnProperty,SH=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,a=void 0!==r&&r,o=e.onBroadcast,i=e.ssrMode,s=void 0!==i&&i,u=e.clientAwareness,c=void 0===u?{}:u,l=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(dq?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=a,this.clientAwareness=c,this.localState=l||new vH({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!d,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new zl("QueryManager stopped while query was in flight"):new zl(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,i=void 0===o?[]:o,s=e.awaitRefetchQueries,u=void 0!==s&&s,c=e.update,l=e.onQueryUpdated,d=e.errorPolicy,p=void 0===d?"none":d,f=e.fetchPolicy,h=void 0===f?"network-only":f,m=e.keepRootFields,v=e.context;return uq(this,void 0,void 0,(function(){var e,o,s;return cq(this,(function(d){switch(d.label){case 0:return __DEV__?Ul(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):Ul(t,12),__DEV__?Ul("network-only"===h||"no-cache"===h,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Ul("network-only"===h||"no-cache"===h,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:h,errorPolicy:p,context:v,updateQueries:a,update:c,keepRootFields:m}),this.broadcastQueries(),s=this,[2,new Promise((function(d,f){return IG(s.getObservableFromLink(t,iq(iq({},v),{optimisticResponse:r}),n,!1),(function(d){if(OG(d)&&"none"===p)throw new Eq({graphQLErrors:d.errors});o&&(o.loading=!1,o.error=null);var f=iq({},d);return"function"===typeof i&&(i=i(f)),"ignore"===p&&OG(f)&&delete f.errors,s.markMutationResult({mutationId:e,result:f,document:t,variables:n,fetchPolicy:h,errorPolicy:p,context:v,update:c,updateQueries:a,awaitRefetchQueries:u,refetchQueries:i,removeOptimistic:r?e:void 0,onQueryUpdated:l,keepRootFields:m})})).subscribe({next:function(e){s.broadcastQueries(),d(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&s.cache.removeOptimistic(e),s.broadcastQueries(),f(t instanceof Eq?t:new Eq({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,a=[],o="no-cache"===e.fetchPolicy;if(!o&&wH(r,e.errorPolicy)){a.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var i=e.updateQueries;i&&this.queries.forEach((function(e,o){var s=e.observableQuery,u=s&&s.queryName;if(u&&kH.call(i,u)){var c=i[u],l=n.queries.get(o),d=l.document,p=l.variables,f=t.diff({query:d,variables:p,returnPartialData:!0,optimistic:!1}),h=f.result;if(f.complete&&h){var m=c(h,{mutationResult:r,queryName:d&&eG(d)||void 0,queryVariables:p});m&&a.push({result:m,dataId:"ROOT_QUERY",query:d,variables:p})}}}))}if(a.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){o||a.forEach((function(e){return t.write(e)}));var i=e.update;if(i){if(!o){var s=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});s.complete&&(r=iq(iq({},r),{data:s.result}))}i(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(iq(iq({},t),{result:{data:r}}),e)}catch(a){__DEV__&&Ul.error(a)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),a=(t=this.cache.transformForLink(r),FG([ZG],$q(t))),o=this.localState.clientQuery(r),i=a&&this.localState.serverQuery(a),s={document:r,hasClientExports:UG(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:i,defaultVars:aG(Jq(r)),asQuery:iq(iq({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?iq(iq({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,s)};u(e),u(r),u(o),u(i)}return n.get(e)},e.prototype.getVariables=function(e,t){return iq(iq({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){"undefined"===typeof(e=iq(iq({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new xH(this),n=new nH({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?Ul(e.query,"query option is required. You must specify your GraphQL document in the query option."):Ul(e.query,14),__DEV__?Ul("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):Ul("Document"===e.query.kind,15),__DEV__?Ul(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):Ul(!e.returnPartialData,16),__DEV__?Ul(!e.pollInterval,"pollInterval option only supported on watchQuery."):Ul(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new zl("Store reset while query was in flight (not completed in link chain)"):new zl(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=kq.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,a=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):Fq(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):Fq(e)&&e.query&&a.add(e)})),this.queries.forEach((function(t,a){var o=t.observableQuery,i=t.document;if(o){if("all"===e)return void n.set(a,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&r.has(s)||i&&r.has(i))&&(n.set(a,o),s&&r.set(s,!0),i&&r.set(i,!0))}})),a.size&&a.forEach((function(e){var r=qG("legacyOneTimeQuery"),a=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new nH({queryManager:t,queryInfo:a,options:iq(iq({},e),{fetchPolicy:"network-only"})});Ul(o.queryId===r),a.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&Ul.warn("Unknown query ".concat("string"===typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,a){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(a).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,a=e.errorPolicy,o=e.variables,i=e.context,s=void 0===i?{}:i;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,s,e).map((function(o){if("no-cache"!==r&&(wH(o,a)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),OG(o))throw new Eq({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,o,s).then(u);return new Sd((function(e){var t=null;return c.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var a,o,i=this;void 0===r&&(r=null!==(a=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==a?a:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var u=this.inFlightLinkObservables,c=this.link,l={query:s,variables:n,operationName:eG(s)||void 0,context:this.prepareContext(iq(iq({},t),{forceFetch:!r}))};if(t=l.context,r){var d=u.get(s)||new Map;u.set(s,d);var p=NG(n);if(!(o=d.get(p))){var f=new KG([kG(c,l)]);d.set(p,o=f),f.cleanup((function(){d.delete(p)&&d.size<1&&u.delete(s)}))}}else o=new KG([kG(c,l)])}else o=new KG([Sd.of({data:{}})]),t=this.prepareContext(t);var h=this.transform(e).clientQuery;return h&&(o=IG(o,(function(e){return i.localState.runResolvers({document:h,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return IG(this.getObservableFromLink(e.document,n.context,n.variables),(function(a){var o=wq(a.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new Eq({graphQLErrors:a.errors}));e.markResult(a,n,t),e.markReady()}var i={data:a.data,loading:!1,networkStatus:e.networkStatus||kq.ready};return o&&"ignore"!==n.errorPolicy&&(i.errors=a.errors),i}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Eq({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=kq.loading);var a=this.transform(t.query).document,o=this.getVariables(a,t.variables),i=this.getQuery(e),s=t.fetchPolicy,u=void 0===s?"cache-first":s,c=t.errorPolicy,l=void 0===c?"none":c,d=t.returnPartialData,p=void 0!==d&&d,f=t.notifyOnNetworkStatusChange,h=void 0!==f&&f,m=t.context,v=void 0===m?{}:m,g=Object.assign({},t,{query:a,variables:o,fetchPolicy:u,errorPolicy:l,returnPartialData:p,notifyOnNetworkStatusChange:h,context:v}),y=function(e){return g.variables=e,r.fetchQueryByPolicy(i,g,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return b.cancel(e)}))}));var b=new KG(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(y):y(g.variables));return b.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"===typeof r?r.call(e,n):r)}(t)})),b},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,a=e.optimistic,o=void 0!==a&&a,i=e.removeOptimistic,s=void 0===i?o?qG("refetchQueries"):void 0:i,u=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof xH&&e.watcher.observableQuery;if(r){if(u){c.delete(r.queryId);var a=u(r,t,n);return!0===a&&(a=r.refetch()),!1!==a&&l.set(r,a),a}null!==u&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,a=e.oq,o=e.lastDiff,i=e.diff;if(u){if(!i){var s=a.queryInfo;s.reset(),i=s.getDiff()}r=u(a,i,o)}u&&!0!==r||(r=a.refetch()),!1!==r&&l.set(a,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,a=t.query,o=t.variables,i=t.fetchPolicy,s=t.refetchWritePolicy,u=t.errorPolicy,c=t.returnPartialData,l=t.context,d=t.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:a,variables:o,networkStatus:n});var f=function(){return e.getDiff(o)},h=function(t,n){void 0===n&&(n=e.networkStatus||kq.loading);var i=t.result;!__DEV__||c||lp(i,{})||aH(t.missing);var s=function(e){return Sd.of(iq({data:e,loading:Cq(n),networkStatus:n},t.complete?null:{partial:!0}))};return i&&r.transform(a).hasForcedResolvers?r.localState.runResolvers({document:a,remoteResult:{data:i},context:l,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):s(i)},m="no-cache"===i?0:n===kq.refetch&&"merge"!==s?1:2,v=function(){return r.getResultsFromLink(e,m,{variables:o,context:l,fetchPolicy:i,errorPolicy:u})},g=d&&"number"===typeof p&&p!==n&&Cq(n);switch(i){default:case"cache-first":return(y=f()).complete?[h(y,e.markReady())]:c||g?[h(y),v()]:[v()];case"cache-and-network":var y;return(y=f()).complete||c||g?[h(y),v()]:[v()];case"cache-only":return[h(f(),e.markReady())];case"network-only":return g?[h(f()),v()]:[v()];case"no-cache":return g?[h(e.getDiff()),v()]:[v()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new xH(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return iq(iq({},t),{clientAwareness:this.clientAwareness})},e}(),EH=!1;function CH(e,t){return SG(e,t,t.variables&&{variables:iq(iq({},e.variables),t.variables)})}var TH=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,a=e.headers,o=e.cache,i=e.ssrMode,s=void 0!==i&&i,u=e.ssrForceFetchDelay,c=void 0===u?0:u,l=e.connectToDevTools,d=void 0===l?"object"===typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:l,p=e.queryDeduplication,f=void 0===p||p,h=e.defaultOptions,m=e.assumeImmutableResults,v=void 0!==m&&m,g=e.resolvers,y=e.typeDefs,b=e.fragmentMatcher,x=e.name,w=e.version,k=e.link;if(k||(k=n?new xG({uri:n,credentials:r,headers:a}):cG.empty()),!o)throw __DEV__?new zl("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new zl(7);if(this.link=k,this.cache=o,this.disableNetworkFetches=s||c>0,this.queryDeduplication=f,this.defaultOptions=h||{},this.typeDefs=y,c&&setTimeout((function(){return t.disableNetworkFetches=!1}),c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&"object"===typeof window&&(window.__APOLLO_CLIENT__=this),!EH&&__DEV__&&(EH=!0,"undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var S=window.navigator,E=S&&S.userAgent,C=void 0;"string"===typeof E&&(E.indexOf("Chrome/")>-1?C="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":E.indexOf("Firefox/")>-1&&(C="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),C&&__DEV__&&Ul.log("Download the Apollo DevTools for a better development experience: "+C)}this.version="3.5.6",this.localState=new vH({cache:o,client:this,resolvers:g,fragmentMatcher:b}),this.queryManager=new SH({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:s,clientAwareness:{name:x,version:w},localState:this.localState,assumeImmutableResults:v,onBroadcast:d?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=CH(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=iq(iq({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=CH(this.defaultOptions.query,e)),__DEV__?Ul("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Ul("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=iq(iq({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=CH(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return kG(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var a=Promise.all(r);return a.queries=n,a.results=r,a.catch((function(e){__DEV__&&Ul.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),a},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),NH=function(){function e(){this.getFragmentDoc=Hf(Lq)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(iq(iq({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(iq(iq({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=sq(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,a=e.fragmentName,o=sq(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,a),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),a=t(r);return void 0===a||null===a?r:(n.writeQuery(iq(iq({},e),{data:a})),a)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),a=t(r);return void 0===a||null===a?r:(n.writeFragment(iq(iq({},e),{data:a})),a)}})},e}(),_H=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function IH(e){var t=new Set([e]);return t.forEach((function(e){Fq(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){Fq(e[n])&&t.add(e[n])}))})),e}function OH(e){return __DEV__&&IH(e),e}var RH=Object.prototype.hasOwnProperty;function AH(e,t){var n=e.__typename,r=e.id,a=e._id;if("string"===typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==a?{_id:a}:void 0),void 0===r&&(r=a),void 0!==r))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var MH={dataIdFromObject:AH,addTypename:!0,resultCaching:!0,canonizeResults:!1};function DH(e){var t=e.canonizeResults;return void 0===t?MH.canonizeResults:t}var PH=/^[_a-z][_0-9a-z]*/i;function FH(e){var t=e.match(PH);return t?t[0]:e}function LH(e,t,n){return!!Fq(t)&&(Array.isArray(t)?t.every((function(t){return LH(e,t,n)})):e.selections.every((function(e){if(Xq(e)&&VG(e,n)){var r=Qq(e);return RH.call(t,r)&&(!e.selectionSet||LH(e.selectionSet,t[r],n))}return!0})))}function ZH(e){return Fq(e)&&!Vq(e)&&!Array.isArray(e)}var jH=Object.create(null),BH=function(){return jH},VH=Object.create(null),zH=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return OH(Vq(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Vq(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return Bq(e);if(Vq(e))return e;var r=n.policies.identify(e)[0];if(r){var a=Bq(r);return t&&n.merge(r,e),a}}}return e.prototype.toObject=function(){return iq({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),RH.call(this.data,e)){var n=this.data[e];if(n&&RH.call(n,t))return n[t]}return"__typename"===t&&RH.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof GH?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),RH.call(this.data,e)?this.data[e]:this instanceof GH?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;Vq(e)&&(e=e.__ref),Vq(t)&&(t=t.__ref);var a="string"===typeof e?this.lookup(n=e):e,o="string"===typeof t?this.lookup(n=t):t;if(o){__DEV__?Ul("string"===typeof n,"store.merge expects a string ID"):Ul("string"===typeof n,1);var i=new cH(QH).merge(a,o);if(this.data[n]=i,i!==a&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);a||(s.__exists=1),Object.keys(o).forEach((function(e){if(!a||a[e]!==i[e]){s[e]=1;var t=FH(e);t===e||r.policies.hasKeyArgs(i.__typename,t)||(s[t]=1),void 0!==i[e]||r instanceof GH||delete i[e]}})),!s.__typename||a&&a.__typename||this.policies.rootTypenamesById[n]!==i.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var a=Object.create(null),o=!1,i=!0,s={DELETE:jH,INVALIDATE:VH,isReference:Vq,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||Bq(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var c=FH(u),l=r[u];if(void 0!==l){var d="function"===typeof t?t:t[u]||t[c];if(d){var p=d===BH?jH:d(OH(l),iq(iq({},s),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));p===VH?n.group.dirty(e,u):(p===jH&&(p=void 0),p!==l&&(a[u]=p,o=!0,l=p))}void 0!==l&&(i=!1)}})),o)return this.merge(e,a),i&&(this instanceof GH?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,a=this.lookup(e);if(a){var o=this.getFieldValue(a,"__typename"),i=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,i?((r={})[i]=BH,r):BH)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(RH.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof GH&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){RH.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&RH.call(e,n)||t.delete(n)})),e){var n=e.__META,r=sq(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof GH?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){RH.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var a=this;a instanceof GH;)a=a.parent;r.forEach((function(e){return a.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!RH.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){Vq(e)&&(t[e.__ref]=!0),Fq(e)&&Object.keys(e).forEach((function(t){var n=e[t];Fq(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),UH=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Wf():null,this.keyMaker=new xp(dq)},e.prototype.depend=function(e,t){if(this.d){this.d(WH(e,t));var n=FH(t);n!==t&&this.d(WH(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(WH(e,t),"__exists"===t?"forget":"setDirty")},e}();function WH(e,t){return t+"#"+e}function qH(e,t){KH(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,a=void 0===r||r,o=t.seed,i=e.call(this,n,new UH(a))||this;return i.stump=new HH(i),i.storageTrie=new xp(dq),o&&i.replace(o),i}return oq(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(zH||(zH={}));var GH=function(e){function t(t,n,r,a){var o=e.call(this,n.policies,a)||this;return o.id=t,o.parent=n,o.replay=r,o.group=a,r(o),o}return oq(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],a=n.lookup(e);a?r?r!==a&&Object.keys(r).forEach((function(n){lp(r[n],a[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(a).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return iq(iq({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return RH.call(this.data,t)?iq(iq({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(zH),HH=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new UH(t.group.caching,t.group))||this}return oq(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(GH);function QH(e,t,n){var r=e[n],a=t[n];return lp(r,a)?r:a}function KH(e){return!!(e instanceof zH&&e.group.caching)}function XH(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var YH=function(){function e(e){var t=this;this.knownResults=new(dq?WeakMap:Map),this.config=SG(e,{addTypename:!1!==e.addTypename,canonizeResults:DH(e)}),this.canon=e.canon||new TG,this.executeSelectionSet=Hf((function(e){var n,r=e.context.canonizeResults,a=XH(e);a[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,a);return o?r?iq(iq({},o),{result:t.canon.admit(o.result)}):o:(qH(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:XH,makeCacheKey:function(e,t,n,r){if(KH(n.store))return n.store.makeCacheKey(e,Vq(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Hf((function(e){return qH(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(KH(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new TG},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,a=void 0===r?"ROOT_QUERY":r,o=e.variables,i=e.returnPartialData,s=void 0===i||i,u=e.canonizeResults,c=void 0===u?this.config.canonizeResults:u,l=this.config.cache.policies;o=iq(iq({},aG(nG(n))),o);var d,p=Bq(a),f=new cH,h=this.executeSelectionSet({selectionSet:rG(n).selectionSet,objectOrReference:p,enclosingRef:p,context:{store:t,query:n,policies:l,variables:o,varString:NG(o),canonizeResults:c,fragmentMap:Zq(tG(n)),merge:function(e,t){return f.merge(e,t)}}});if(h.missing&&(d=[new _H($H(h.missing),h.missing,n,o)],!s))throw d[0];return{result:h.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,n,r){if(KH(r.store)&&this.knownResults.get(e)===n){var a=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(a&&e===a.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,a=e.enclosingRef,o=e.context;if(Vq(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var i,s=o.variables,u=o.policies,c=o.store.getFieldValue(r,"__typename"),l={};function d(e,t){var n;return e.missing&&(i=o.merge(i,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof c&&!u.rootIdsByTypename[c]&&(l={__typename:c});var p=new Set(n.selections);p.forEach((function(e){var n,f;if(VG(e,s))if(Xq(e)){var h=u.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=Qq(e);void 0===h?LG.added(e)||(i=o.merge(i,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(Vq(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Array.isArray(h)?h=d(t.executeSubSelectedArray({field:e,array:h,enclosingRef:a,context:o}),m):e.selectionSet?null!=h&&(h=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:h,enclosingRef:Vq(h)?h:a,context:o}),m)):o.canonizeResults&&(h=t.canon.pass(h)),void 0!==h&&(l=o.merge(l,((f={})[m]=h,f)))}else{var v=jq(e,o.fragmentMap);v&&u.fragmentMatches(v,c)&&v.selectionSet.selections.forEach(p.add,p)}}));var f={result:l,missing:i},h=o.canonizeResults?this.canon.admit(f):OH(f);return h.result&&this.knownResults.set(h.result,n),h},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,a=e.array,o=e.enclosingRef,i=e.context;function s(e,n){var r;return e.missing&&(t=i.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(a=a.filter(i.store.canRead)),a=a.map((function(e,t){return null===e?null:Array.isArray(e)?s(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:i}),t):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:Vq(e)?e:o,context:i}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){Fq(n)&&(__DEV__?Ul(!Vq(n),"Missing selection set for object of type ".concat(function(e,t){return Vq(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):Ul(!Vq(n),5),Object.values(n).forEach(r.add,r))}))}}(i.store,r,e),e)})),{result:i.canonizeResults?this.canon.admit(a):a,missing:t}},e}();function $H(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var JH=Object.create(null);function eQ(e){var t=JSON.stringify(e);return JH[t]||(JH[t]=Object.create(null))}function tQ(e){var t=eQ(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},a=n.keyObject=rQ(e,(function(e){var a=iQ(n.storeObject,e,r);return void 0===a&&t!==n.storeObject&&RH.call(t,e[0])&&(a=iQ(t,e,oQ)),__DEV__?Ul(void 0!==a,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):Ul(void 0!==a,2),a}));return"".concat(n.typename,":").concat(JSON.stringify(a))})}function nQ(e){var t=eQ(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,a=n.variables,o=n.fieldName,i=rQ(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return iQ(t,e)}else{var i=n.slice(1);if(a&&RH.call(a,i)){var s=e.slice(0);return s[0]=i,iQ(a,s)}}else if(r&&wq(r.directives)){var u=n.slice(1),c=r.directives.find((function(e){return e.name.value===u})),l=c&&Hq(c,a);return l&&iQ(l,e.slice(1))}})),s=JSON.stringify(i);return(t||"{}"!==s)&&(o+=":"+s),o})}function rQ(e,t){var n=new cH;return aQ(e).reduce((function(e,r){var a,o=t(r);if(void 0!==o){for(var i=r.length-1;i>=0;--i)(a={})[r[i]]=o,o=a;e=n.merge(e,o)}return e}),Object.create(null))}function aQ(e){var t=eQ(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,a){Array.isArray(t)?(aQ(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Array.isArray(e[a+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function oQ(e,t){return e[t]}function iQ(e,t,n){return n=n||oQ,sQ(t.reduce((function e(t,r){return Array.isArray(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function sQ(e){return Fq(e)?Array.isArray(e)?e.map(sQ):rQ(Object.keys(e).sort(),(function(t){return iQ(e,t)})):e}function uQ(e){return void 0!==e.args?e.args:e.field?Hq(e.field,e.variables):null}Wq.setStringify(NG);var cQ=function(){},lQ=function(e,t){return t.fieldName},dQ=function(e,t,n){return(0,n.mergeObjects)(e,t)},pQ=function(e,t){return t},fQ=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=iq({dataIdFromObject:AH},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,a=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(a===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,i=t&&t.storeObject||e,s=iq(iq({},t),{typename:a,storeObject:i,readField:t&&t.readField||function(){var e=mQ(arguments,i);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=a&&this.getTypePolicy(a),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var l=c(e,s);if(!Array.isArray(l)){o=l;break}c=tQ(l)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=r.queryType,o=r.mutationType,i=r.subscriptionType,s=sq(r,["queryType","mutationType","subscriptionType"]);a&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),i&&t.setRootTypename("Subscription",n),RH.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),a=t.keyFields,o=t.fields;function i(e,t){e.merge="function"===typeof t?t:!0===t?dQ:!1===t?pQ:e.merge}i(r,t.merge),r.keyFn=!1===a?cQ:Array.isArray(a)?tQ(a):"function"===typeof a?a:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),a=o[t];if("function"===typeof a)r.read=a;else{var s=a.keyArgs,u=a.read,c=a.merge;r.keyFn=!1===s?lQ:Array.isArray(s)?nQ(s):"function"===typeof s?s:r.keyFn,"function"===typeof u&&(r.read=u),i(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||lQ)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?Ul(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):Ul(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(PH);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!RH.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),a=r.fields,o=sq(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,a)}))}var a=this.toBeAdded[e];return a&&a.length&&a.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var a=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var i=this.getSupertypeSet(t,!0),s=[i],u=function(e){var t=a.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},c=!(!n||!this.fuzzySubtypes.size),l=!1,d=0;d<s.length;++d){var p=s[d];if(p.has(o))return i.has(o)||(l&&__DEV__&&Ul.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),i.add(o)),!0;p.forEach(u),c&&d===s.length-1&&LH(e.selectionSet,n,r)&&(c=!1,l=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,a=this.getFieldPolicy(n,r,!1),o=a&&a.keyFn;if(o&&n)for(var i={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=uQ(e);o;){var u=o(s,i);if(!Array.isArray(u)){t=u||r;break}o=nQ(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var a=r.name,o=r.value;return zq(n[e.name.value],a,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,a=e.value;return zq(r,n,a,t)}))),Wq(e.name.value,r,n)}(e.field,e.variables):Wq(r,uQ(e))),!1===t?r:r===FH(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var a=this.getStoreFieldName(e),o=FH(a),i=t.store.getFieldValue(n,a),s=this.getFieldPolicy(e.typename,o,!1),u=s&&s.read;if(u){var c=hQ(this,n,e,t,t.store.getStorage(Vq(n)?n.__ref:n,a));return lH.withValue(this.cache,u,[i,c])}return i}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),a=r&&r.merge;return!a&&n&&(a=(r=this.getTypePolicy(n))&&r.merge),a},e.prototype.runMergeFunction=function(e,t,n,r,a){var o=n.field,i=n.typename,s=n.merge;return s===dQ?vQ(r.store)(e,t):s===pQ?t:(r.overwrite&&(e=void 0),s(e,t,hQ(this,void 0,{typename:i,fieldName:o.name.value,field:o,variables:r.variables},r,a||Object.create(null))))},e}();function hQ(e,t,n,r,a){var o=e.getStoreFieldName(n),i=FH(o),s=n.variables||r.variables,u=r.store,c=u.toReference,l=u.canRead;return{args:uQ(n),field:n.field||null,fieldName:i,storeFieldName:o,variables:s,isReference:Vq,toReference:c,storage:a,cache:e.cache,canRead:l,readField:function(){return e.readField(mQ(arguments,t,r),r)},mergeObjects:vQ(r.store)}}function mQ(e,t,n){var r,a=e[0],o=e[1],i=e.length;return"string"===typeof a?r={fieldName:a,from:i>1?o:t}:(r=iq({},a),RH.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&Ul.warn("Undefined 'from' passed to readField with arguments ".concat(function(e){var t=qG("stringifyForDisplay");return JSON.stringify(e,(function(e,n){return void 0===n?t:n})).split(JSON.stringify(t)).join("<undefined>")}(Array.from(e)))),void 0===r.variables&&(r.variables=n),r}function vQ(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new zl("Cannot automatically merge arrays"):new zl(4);if(Fq(t)&&Fq(n)){var r=e.getFieldValue(t,"__typename"),a=e.getFieldValue(n,"__typename");if(r&&a&&r!==a)return n;if(Vq(t)&&ZH(n))return e.merge(t.__ref,n),t;if(ZH(t)&&Vq(n))return e.merge(t,n.__ref),n;if(ZH(t)&&ZH(n))return iq(iq({},t),n)}return n}}function gQ(e,t,n){var r="".concat(t).concat(n),a=e.flavors.get(r);return a||e.flavors.set(r,a=e.clientOnly===t&&e.deferred===n?e:iq(iq({},e),{clientOnly:t,deferred:n})),a}var yQ=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,a=t.result,o=t.dataId,i=t.variables,s=t.overwrite,u=Jq(r),c=new cH;i=iq(iq({},aG(u)),i);var l={store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:i,varString:NG(i),fragmentMap:Zq(tG(r)),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:a||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:l});if(!Vq(d))throw __DEV__?new zl("Could not identify object ".concat(JSON.stringify(a))):new zl(6);return l.incomingById.forEach((function(t,r){var a=t.storeObject,o=t.mergeTree,i=t.fieldNodeSet,s=Bq(r);if(o&&o.map.size){var u=n.applyMerges(o,s,a,l);if(Vq(u))return;a=u}if(__DEV__&&!l.overwrite){var c=Object.create(null);i.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)}));Object.keys(a).forEach((function(e){(function(e){return!0===c[FH(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var a=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},o=a(e);if(!o)return;var i=a(t);if(!i)return;if(Vq(o))return;if(lp(o,i))return;if(Object.keys(o).every((function(e){return void 0!==r.getFieldValue(i,e)})))return;var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=FH(n),c="".concat(s,".").concat(u);if(EQ.has(c))return;EQ.add(c);var l=[];Array.isArray(o)||Array.isArray(i)||[o,i].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||l.includes(t)||l.push(t)}));__DEV__&&Ul.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(s," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(i).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}(s,a,e,l.store)}))}e.merge(r,a)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,a=e.selectionSet,o=e.context,i=e.mergeTree,s=this.cache.policies,u=Object.create(null),c=n&&s.rootTypenamesById[n]||Kq(r,a,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"===typeof c&&(u.__typename=c);var l=function(){var e=mQ(arguments,u,o.variables);if(Vq(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=s.readField(iq(iq({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return s.readField(e,o)},d=new Set;this.flattenFields(a,r,o,c).forEach((function(e,n){var a,o=Qq(n),p=r[o];if(d.add(n),void 0!==p){var f=s.getStoreFieldName({typename:c,fieldName:n.name.value,field:n,variables:e.variables}),h=xQ(i,f),m=t.processFieldValue(p,n,n.selectionSet?gQ(e,!1,!1):e,h),v=void 0;n.selectionSet&&(Vq(m)||ZH(m))&&(v=l("__typename",m));var g=s.getMergeFunction(c,n.name.value,v);g?h.info={field:n,typename:c,merge:g}:SQ(i,f),u=e.merge(u,((a={})[f]=m,a))}else!__DEV__||e.clientOnly||e.deferred||LG.added(n)||s.getReadFunction(c,n.name.value)||__DEV__&&Ul.error("Missing field '".concat(Qq(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var p=s.identify(r,{typename:c,selectionSet:a,fragmentMap:o.fragmentMap,storeObject:u,readField:l}),f=p[0],h=p[1];n=n||f,h&&(u=o.merge(u,h))}catch(y){if(!n)throw y}if("string"===typeof n){var m=Bq(n),v=o.written[n]||(o.written[n]=[]);if(v.indexOf(a)>=0)return m;if(v.push(a),this.reader&&this.reader.isFresh(r,m,a,o))return m;var g=o.incomingById.get(n);return g?(g.storeObject=o.merge(g.storeObject,u),g.mergeTree=wQ(g.mergeTree,i),d.forEach((function(e){return g.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:u,mergeTree:kQ(i)?void 0:i,fieldNodeSet:d}),m}return u},e.prototype.processFieldValue=function(e,t,n,r){var a=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var i=a.processFieldValue(e,t,n,xQ(r,o));return SQ(r,o),i})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?YG(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=Kq(t,e,n.fragmentMap));var a=new Map,o=this.cache.policies,i=new xp(!1);return function e(s,u){var c=i.lookup(s,u.clientOnly,u.deferred);c.visited||(c.visited=!0,s.selections.forEach((function(i){if(VG(i,n.variables)){var s=u.clientOnly,c=u.deferred;if(s&&c||!wq(i.directives)||i.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=Hq(e,n.variables);r&&!1===r.if||(c=!0)}})),Xq(i)){var l=a.get(i);l&&(s=s&&l.clientOnly,c=c&&l.deferred),a.set(i,gQ(n,s,c))}else{var d=jq(i,n.fragmentMap);d&&o.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,gQ(n,s,c))}}})))}(e,n),a},e.prototype.applyMerges=function(e,t,n,r,a){var o,i=this;if(e.map.size&&!Vq(n)){var s,u=Array.isArray(n)||!Vq(t)&&!ZH(t)?void 0:t,c=n;u&&!a&&(a=[Vq(u)?u.__ref:u]);var l=function(e,t){return Array.isArray(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=l(u,t),o=l(c,t);if(void 0!==o){a&&a.push(t);var d=i.applyMerges(e,n,o,r,a);d!==o&&(s=s||new Map).set(t,d),a&&Ul(a.pop()===t)}})),s&&(n=Array.isArray(c)?c.slice(0):iq({},c),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,a&&(o=r.store).getStorage.apply(o,a)):n},e}(),bQ=[];function xQ(e,t){var n=e.map;return n.has(t)||n.set(t,bQ.pop()||{map:new Map}),n.get(t)}function wQ(e,t){if(e===t||!t||kQ(t))return e;if(!e||kQ(e))return t;var n=e.info&&t.info?iq(iq({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,a={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){a.map.set(n,wQ(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){a.map.set(n,wQ(t.map.get(n),e.map.get(n)))}))}return a}function kQ(e){return!e||!(e.info||e.map.size)}function SQ(e,t){var n=e.map,r=n.get(t);r&&kQ(r)&&(bQ.push(r),n.delete(t))}var EQ=new Set;var CQ=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=hH,n.txCount=0,n.config=function(e){return SG(MH,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new fQ({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return oq(t,e),t.prototype.init=function(){var e=this.data=new zH.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new yQ(this,this.storeReader=new YH({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:DH(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=Hf((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(KH(n)){var r=e.optimistic,a=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,NG({optimistic:r,rootId:a,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(iq(iq({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof _H)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(RH.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(iq(iq({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){pH(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&fH(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){NG.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(Vq(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){__DEV__&&Ul.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(RH.call(e,"id"))return!1;e=iq(iq({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),NG.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),fH(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,a=e.optimistic,o=void 0===a||a,i=e.removeOptimistic,s=e.onWatchUpdated,u=function(e){var a=n,o=a.data,i=a.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=i}},c=new Set;return s&&!this.txCount&&this.broadcastWatches(iq(iq({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"===typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"===typeof i&&(this.optimisticData=this.optimisticData.removeLayer(i)),s&&c.size?(this.broadcastWatches(iq(iq({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&c.delete(e),n}})),c.size&&c.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=LG(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&lp(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(NH),TQ=function(e){var t=e.client,n=e.children,r=mq();return k.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?Ul(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):Ul(e.client,26),k.createElement(r.Provider,{value:e},n)}))},NQ=n(7915),_Q=function(e){function t(t){var n=e.call(this)||this;return t instanceof NQ.SubscriptionClient?n.subscriptionClient=t:n.subscriptionClient=new NQ.SubscriptionClient(t.uri,t.options,t.webSocketImpl),n}return oq(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(cG),IQ=new xG({uri:"http://35.206.192.151:4000/"}),OQ=new TH({link:wG((function(e){var t=rG(e.query);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),new _Q({uri:"ws://35.206.192.151:4000/",options:{reconnect:!0}}),IQ),cache:new CQ});S.render((0,Ce.jsx)(k.StrictMode,{children:(0,Ce.jsx)(TQ,{client:OQ,children:(0,Ce.jsx)(Pq,{children:(0,Ce.jsx)(Mq,{})})})}),document.getElementById("root")),Dq()}()}();
//# sourceMappingURL=main.1a4fd2ea.js.map